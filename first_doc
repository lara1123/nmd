DECLARE @MD_Document_ID INT, @MD_DocumentControl_ID INT 
DECLARE @RtftPartID INT 
DECLARE @RtftPartHistoryID INT 
DECLARE @ScoreID INT 
DECLARE @ScoreQuestionID INT 
DECLARE @QuestionID INT 
DECLARE @TargetQuestionID INT 
DECLARE @ScoreQuestionConstraintID INT 
DECLARE @DijagnozaPodTipID INT 
DECLARE @ParentGroupID INT 
DECLARE @xaml nvarchar(MAX) 
DECLARE @rtf varchar(MAX) 
DECLARE @code varchar(15) 
DECLARE @SourceID int 
 DECLARE @FormXaml NVARCHAR(MAX) 
DECLARE @DiagnosisSubtype_old VARCHAR(MAX) 
DECLARE @DiagnosisSubtype_new VARCHAR(MAX) 
DECLARE @FormXamlPom NVARCHAR(MAX) 
DECLARE @DijagnozaIme VARCHAR(100) 
DECLARE @DijagnozaPodTip VARCHAR(100) 
DECLARE @PosStartDiag INT 
DECLARE @PosEndDiag INT 
SET @xaml ='<MDTabControl CanAddNewTab="False" Name="TabControl" Tag="rootTabControl" ItemsSource="{x:Null}" xmlns="clr-namespace:IN2.BIS.MedicinskaDokumentacija.Controls;assembly=IN2.BIS.MedicinskaDokumentacija" xmlns:inbiswic="clr-namespace:IN2.BIS.Wpf.Infrastructure.Controls;assembly=IN2.BIS.Wpf.Infrastructure" xmlns:av="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:inbismdc="clr-namespace:IN2.BIS.MedicinskaDokumentacija.Converters;assembly=IN2.BIS.MedicinskaDokumentacija" xmlns:assembly="http://metro.mahapps.com/winfx/xaml/controls" xmlns:inbismdcfc="clr-namespace:IN2.BIS.MedicinskaDokumentacija.Controls.FormulaControls;assembly=IN2.BIS.MedicinskaDokumentacija" xmlns:inbismdm="clr-namespace:IN2.BIS.MedicinskaDokumentacija.Model;assembly=IN2.BIS.MedicinskaDokumentacija" xmlns:inbisdwc="clr-namespace:IN2.BIS.Dijagnoza.WpfClient;assembly=IN2.BIS.Dijagnoza.WpfClient" xmlns:inbismdvc="clr-namespace:IN2.BIS.MedicinskaDokumentacija.ValidationClasses;assembly=IN2.BIS.MedicinskaDokumentacija" xmlns:inbismdcgc="clr-namespace:IN2.BIS.MedicinskaDokumentacija.Controls.GlobalControls;assembly=IN2.BIS.MedicinskaDokumentacija" xmlns:s="clr-namespace:System;assembly=mscorlib" xmlns:inbissc="clr-namespace:IN2.BIS.Scoring.Control;assembly=IN2.BIS.Scoring.Control">
  <MDTabItem CloseButtonEnabled="False" IsSelected="True" Header="Header" AllowDrop="True" Visibility="Collapsed">
    <MDAdornerDecorator>
      <MDGridControl ShowGridLines="True" Background="#FFFFFFFF" MaxWidth="1365.8">
        <MDGridControl.ColumnDefinitions>
          <av:ColumnDefinition Width="Auto" Name="ActionColumn" />
          <av:ColumnDefinition Width="*" />
          <av:ColumnDefinition Width="Auto" />
          <av:ColumnDefinition Width="Auto" />
          <av:ColumnDefinition Width="Auto" />
          <av:ColumnDefinition Width="Auto" />
        </MDGridControl.ColumnDefinitions>
        <MDGridControl.RowDefinitions>
          <av:RowDefinition Height="Auto" />
          <av:RowDefinition Height="Auto" />
          <av:RowDefinition Height="Auto" />
          <av:RowDefinition Height="Auto" />
          <av:RowDefinition Height="Auto" />
          <av:RowDefinition Height="Auto" />
          <av:RowDefinition Height="Auto" />
          <av:RowDefinition Height="Auto" />
          <av:RowDefinition Height="Auto" />
          <av:RowDefinition Height="Auto" />
          <av:RowDefinition Height="Auto" />
          <av:RowDefinition Height="Auto" />
          <av:RowDefinition Height="Auto" />
          <av:RowDefinition Height="Auto" />
          <av:RowDefinition Height="Auto" />
          <av:RowDefinition Height="Auto" />
          <av:RowDefinition Height="Auto" />
          <av:RowDefinition Height="Auto" />
          <av:RowDefinition Height="Auto" />
          <av:RowDefinition Height="Auto" />
          <av:RowDefinition Height="Auto" />
          <av:RowDefinition Height="Auto" />
          <av:RowDefinition Height="Auto" />
          <av:RowDefinition Height="Auto" />
          <av:RowDefinition Height="Auto" />
          <av:RowDefinition Height="Auto" />
          <av:RowDefinition Height="Auto" />
          <av:RowDefinition Height="Auto" />
          <av:RowDefinition Height="Auto" />
          <av:RowDefinition Height="Auto" />
          <av:RowDefinition Height="Auto" />
          <av:RowDefinition Height="*" />
          <av:RowDefinition Height="Auto" />
          <av:RowDefinition Height="Auto" />
          <av:RowDefinition Height="Auto" />
          <av:RowDefinition Height="Auto" />
          <av:RowDefinition Height="Auto" />
        </MDGridControl.RowDefinitions>
        <MDTextBlock Text="Razlog dolaska" FontWeight="Bold" Name="mdLbl1" Tag="{x:Null}" VerticalAlignment="Center" IsEnabled="True" av:Grid.Column="1" av:Grid.Row="10" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
        <MDTextBlock Text="Anamneza" FontWeight="Bold" Name="mdLbl2" Tag="{x:Null}" VerticalAlignment="Center" ContextMenu="{x:Null}" IsEnabled="True" av:Grid.Column="1" av:Grid.Row="12" av:Grid.ColumnSpan="4" av:Grid.RowSpan="1" />
        <MDTextBlock Text="Status" FontWeight="Bold" Name="mdLbl4" Tag="{x:Null}" VerticalAlignment="Center" ContextMenu="{x:Null}" IsEnabled="True" av:Grid.Column="1" av:Grid.Row="14" av:Grid.ColumnSpan="4" av:Grid.RowSpan="1" />
        <MDDatePicker IsEmpty="True" DefaultValue="True" FormulaExpressionEvaluateOneTime="False" LabelForPrint="{x:Null}" LabelControlName="{x:Null}" ErrorLoadingNode="False" FirstDayOfWeek="Monday" IsDropDownOpen="False" TabIndex="28" Name="mdDate0" Tag="{x:Null}" Width="110" VerticalAlignment="Center" IsEnabled="True" av:Grid.Column="2" av:Grid.Row="34" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1">
          <MDDatePicker.SelectedDate>
            <av:Binding ValidatesOnDataErrors="True" NotifyOnValidationError="True" Path="Model.mdDate0.Value" UpdateSourceTrigger="PropertyChanged">
              <av:Binding.Converter>
                <inbismdc:DatePickerConverter />
              </av:Binding.Converter>
            </av:Binding>
          </MDDatePicker.SelectedDate>
        </MDDatePicker>
        <MDTextBlock Text="Datum:" Name="mdLbl7" Tag="{x:Null}" VerticalAlignment="Center" IsEnabled="True" av:Grid.Column="1" av:Grid.Row="34" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
        <MDTextBlock Text="Ostale dijagnoze" FontWeight="Bold" Name="mdLbl10" Tag="{x:Null}" VerticalAlignment="Center" ContextMenu="{x:Null}" IsEnabled="True" av:Grid.Column="1" av:Grid.Row="3" av:Grid.ColumnSpan="4" av:Grid.RowSpan="1" />
        <MDTextBox IsEmpty="True" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" LabelForPrint="{x:Null}" LabelControlName="{x:Null}" LabelBold="False" ErrorLoadingNode="False" TextBoxWidth="Infinity" TextWrapping="Wrap" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdTextBox0_1.Value, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="False" AcceptsReturn="True" AcceptsTab="True" TabIndex="40" Name="mdTextBox0_1" Width="Auto" Height="Auto" MinHeight="23" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" ForceCursor="True" IsEnabled="True" Focusable="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="1" av:Grid.Row="4" av:Grid.ColumnSpan="4" av:Grid.RowSpan="1" av:SpellCheck.IsEnabled="True" assembly:TextBoxHelper.HasText="False" />
        <MDTextBox IsEmpty="True" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" LabelForPrint="Razlog dolaska" LabelControlName="mdLbl1" LabelShowInNewRow="True" LabelBold="True" ErrorLoadingNode="False" TextBoxWidth="Infinity" TextWrapping="Wrap" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdTextBox2.Value, UpdateSourceTrigger=PropertyChanged}" AcceptsReturn="True" VerticalScrollBarVisibility="Auto" TabIndex="2" Name="mdTextBox2" Tag="{x:Null}" Width="Auto" Height="Auto" MinHeight="23" HorizontalAlignment="Stretch" IsEnabled="True" Focusable="True" av:Grid.Column="1" av:Grid.Row="11" av:Grid.ColumnSpan="4" av:Grid.RowSpan="1" av:SpellCheck.IsEnabled="True" assembly:TextBoxHelper.HasText="False" />
        <MDTextBox IsEmpty="True" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" LabelForPrint="Anamneza" LabelControlName="mdLbl2" LabelShowInNewRow="True" LabelBold="True" ErrorLoadingNode="False" TextBoxWidth="Infinity" TextWrapping="Wrap" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdTextBox3.Value, UpdateSourceTrigger=PropertyChanged}" AcceptsReturn="True" VerticalScrollBarVisibility="Auto" TabIndex="4" Name="mdTextBox3" Tag="{x:Null}" Width="Auto" Height="Auto" MinHeight="23" HorizontalAlignment="Stretch" IsEnabled="True" Focusable="True" av:Grid.Column="1" av:Grid.Row="13" av:Grid.ColumnSpan="4" av:Grid.RowSpan="1" av:SpellCheck.IsEnabled="True" assembly:TextBoxHelper.HasText="False" />
        <MDTextBox IsEmpty="True" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" LabelForPrint="Status" LabelControlName="mdLbl4" LabelShowInNewRow="True" LabelBold="True" ErrorLoadingNode="False" TextBoxWidth="Infinity" TextWrapping="Wrap" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdTextBox4.Value, UpdateSourceTrigger=PropertyChanged}" AcceptsReturn="True" VerticalScrollBarVisibility="Auto" TabIndex="6" Name="mdTextBox4" Tag="{x:Null}" Width="Auto" Height="Auto" MinHeight="23" HorizontalAlignment="Stretch" IsEnabled="True" av:Grid.Column="1" av:Grid.Row="15" av:Grid.ColumnSpan="4" av:Grid.RowSpan="1" av:SpellCheck.IsEnabled="True" assembly:TextBoxHelper.HasText="False" />
        <MDTextBlock Text="Komentar:" Name="mdLbl19" Tag="{x:Null}" VerticalAlignment="Center" IsEnabled="True" av:Grid.Column="1" av:Grid.Row="30" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
        <MDTextBox IsEmpty="True" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" LabelForPrint="Komentar:" LabelControlName="mdLbl19" ErrorLoadingNode="False" TextBoxWidth="Infinity" TextWrapping="Wrap" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdTextBox7.Value, UpdateSourceTrigger=PropertyChanged}" AcceptsReturn="True" VerticalScrollBarVisibility="Auto" TabIndex="22" Name="mdTextBox7" Tag="{x:Null}" Width="Auto" Height="Auto" HorizontalAlignment="Stretch" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="2" av:Grid.Row="30" av:Grid.ColumnSpan="3" av:Grid.RowSpan="1" av:SpellCheck.IsEnabled="True" assembly:TextBoxHelper.HasText="False" />
        <MDDropElement AllowDrop="True" av:Grid.Column="3" av:Grid.Row="35" />
        <MDDropElement AllowDrop="True" av:Grid.Column="4" av:Grid.Row="35" />
        <inbismdcfc:MDFormula IsEmpty="True" BindedValue="{av:Binding NotifyOnValidationError=True, Path=Model.mdFormula0.Value, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" FormulaExpression="@mdLookup2" LabelForPrint="Uputa izabranom  liječniku primarne zdravstvene zaštite" LabelControlName="mdLbl17" LabelShowInNewRow="True" RuntimeIsEnabled="True" TabIndex="0" Name="mdFormula0" Tag="{x:Null}" Visibility="Hidden" IsEnabled="True" av:Grid.Column="1" av:Grid.Row="35" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1">
          <inbismdcfc:MDFormula.FormulaCalculatedValue>
            <av:MultiBinding Mode="TwoWay" UpdateSourceTrigger="Default" NotifyOnSourceUpdated="True" NotifyOnValidationError="True" ValidatesOnDataErrors="True">
              <av:MultiBinding.Converter>
                <inbismdc:MDFormulaExpressionConverter />
              </av:MultiBinding.Converter>
              <av:MultiBinding.ConverterParameter>
                <inbismdm:ExpressionData Expression="@mdLookup2" StringFormat="{x:Null}" InverseResult="False" VariableTypes="String;" VariableNames="@mdLookup2;" />
              </av:MultiBinding.ConverterParameter>
              <av:Binding NotifyOnSourceUpdated="True" ValidatesOnDataErrors="True" NotifyOnValidationError="True" Path="SelectedItem.ItemValue" UpdateSourceTrigger="PropertyChanged" ElementName="mdLookup2" />
            </av:MultiBinding>
          </inbismdcfc:MDFormula.FormulaCalculatedValue>
        </inbismdcfc:MDFormula>
        <inbismdcfc:MDFormula IsEmpty="True" BindedValue="{av:Binding NotifyOnValidationError=True, Path=Model.mdFormula1.Value, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" FormulaExpression="@mdLookup1" LabelForPrint="RR:" LabelControlName="mdLbl30" LabelShowInNewRow="True" RuntimeIsEnabled="True" TabIndex="0" Name="mdFormula1" Tag="{x:Null}" Visibility="Hidden" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="2" av:Grid.Row="35" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1">
          <inbismdcfc:MDFormula.FormulaCalculatedValue>
            <av:MultiBinding Mode="TwoWay" UpdateSourceTrigger="Default" NotifyOnSourceUpdated="True" NotifyOnValidationError="True" ValidatesOnDataErrors="True">
              <av:MultiBinding.Converter>
                <inbismdc:MDFormulaExpressionConverter />
              </av:MultiBinding.Converter>
              <av:MultiBinding.ConverterParameter>
                <inbismdm:ExpressionData Expression="@mdLookup1" StringFormat="{x:Null}" InverseResult="False" VariableTypes="String;" VariableNames="@mdLookup1;" />
              </av:MultiBinding.ConverterParameter>
              <av:Binding NotifyOnSourceUpdated="True" ValidatesOnDataErrors="True" NotifyOnValidationError="True" Path="SelectedItem.ItemValue" UpdateSourceTrigger="PropertyChanged" ElementName="mdLookup1" />
            </av:MultiBinding>
          </inbismdcfc:MDFormula.FormulaCalculatedValue>
        </inbismdcfc:MDFormula>
        <MDDijagnoze LabelControlName="mdLbl13" LabelForPrint="Vrijeme posjete:" LabelShowInNewRow="True" PotpisnikControlName="mdLookup1" DocumentControlID="9862" CanAddMoreDiagnosis="False" OtherDiagnosis="True" MkbDiagnosis="False" OnkoDiagnosis="False" DjelatnikId="{av:Binding Path=Model.mdLookup1.Value, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" CanBeFocused="False" FontSize="10" TabIndex="34" Name="mdDijagnoze0" Tag="{x:Null}" Width="500" MinWidth="50" HorizontalAlignment="Left" VerticalAlignment="Top" ContextMenu="{x:Null}" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="1" av:Grid.Row="1" av:Grid.ColumnSpan="3" av:Grid.RowSpan="1" />
        <MDTextBlock Text="Transfuzijska terapija" FontWeight="ExtraBlack" Name="mdLbl12" Tag="{x:Null}" VerticalAlignment="Center" ContextMenu="{x:Null}" IsEnabled="True" av:Grid.Column="1" av:Grid.Row="20" av:Grid.ColumnSpan="4" av:Grid.RowSpan="1" />
        <MDTextBox IsEmpty="True" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" LabelForPrint="Transfuzijska terapija" LabelControlName="mdLbl12" LabelShowInNewRow="True" LabelBold="True" ErrorLoadingNode="False" TextBoxWidth="Infinity" TextWrapping="Wrap" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdTextBox8.Value, UpdateSourceTrigger=PropertyChanged}" AcceptsReturn="True" VerticalScrollBarVisibility="Auto" TabIndex="12" Name="mdTextBox8" Tag="{x:Null}" Width="Auto" Height="Auto" MinHeight="23" HorizontalAlignment="Stretch" IsEnabled="True" Focusable="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="1" av:Grid.Row="21" av:Grid.ColumnSpan="4" av:Grid.RowSpan="1" av:SpellCheck.IsEnabled="True" assembly:TextBoxHelper.HasText="False" />
        <MDTextBlock Text="Dijagnostičke i konzilijarne pretrage" FontWeight="ExtraBlack" Name="mdLbl14" Tag="{x:Null}" VerticalAlignment="Center" ContextMenu="{x:Null}" IsEnabled="True" av:Grid.Column="1" av:Grid.Row="16" av:Grid.ColumnSpan="4" av:Grid.RowSpan="1" />
        <MDTextBox IsEmpty="True" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" LabelForPrint="Dijagnostičke i konzilijarne pretrage" LabelControlName="mdLbl14" LabelShowInNewRow="True" LabelBold="True" ErrorLoadingNode="False" TextBoxWidth="Infinity" TextWrapping="Wrap" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdTextBox9.Value, UpdateSourceTrigger=PropertyChanged}" AcceptsReturn="True" VerticalScrollBarVisibility="Auto" TabIndex="8" Name="mdTextBox9" Tag="{x:Null}" Width="Auto" Height="Auto" MinHeight="23" HorizontalAlignment="Stretch" IsEnabled="True" Focusable="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="1" av:Grid.Row="17" av:Grid.ColumnSpan="4" av:Grid.RowSpan="1" av:SpellCheck.IsEnabled="True" assembly:TextBoxHelper.HasText="False" />
        <MDTextBlock Text="Zaključak" FontWeight="ExtraBlack" Name="mdLbl15" Tag="{x:Null}" VerticalAlignment="Center" ContextMenu="{x:Null}" IsEnabled="True" av:Grid.Column="1" av:Grid.Row="22" av:Grid.ColumnSpan="4" av:Grid.RowSpan="1" />
        <MDTextBox IsEmpty="True" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" LabelForPrint="Terapija" LabelControlName="mdLbl21" LabelShowInNewRow="True" LabelBold="True" ErrorLoadingNode="False" TextBoxWidth="Infinity" TextWrapping="Wrap" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdTextBox10.Value, UpdateSourceTrigger=PropertyChanged}" AcceptsReturn="True" VerticalScrollBarVisibility="Auto" TabIndex="10" Name="mdTextBox10" Tag="{x:Null}" Width="Auto" Height="Auto" MinHeight="23" HorizontalAlignment="Stretch" IsEnabled="True" Focusable="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="1" av:Grid.Row="19" av:Grid.ColumnSpan="4" av:Grid.RowSpan="1" av:SpellCheck.IsEnabled="True" assembly:TextBoxHelper.HasText="False" />
        <MDTextBlock Text="Predviđeni kontrolni pregled" FontWeight="ExtraBlack" Name="mdLbl16" Tag="{x:Null}" VerticalAlignment="Center" ContextMenu="{x:Null}" IsEnabled="True" av:Grid.Column="1" av:Grid.Row="24" av:Grid.ColumnSpan="4" av:Grid.RowSpan="1" />
        <MDTextBox IsEmpty="True" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" LabelForPrint="Predviđeni kontrolni pregled" LabelControlName="mdLbl16" LabelShowInNewRow="True" LabelBold="True" ErrorLoadingNode="False" TextBoxWidth="Infinity" TextWrapping="Wrap" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdTextBox11.Value, UpdateSourceTrigger=PropertyChanged}" AcceptsReturn="True" VerticalScrollBarVisibility="Auto" TabIndex="16" Name="mdTextBox11" Tag="{x:Null}" Width="Auto" MaxWidth="Infinity" Height="Auto" MinHeight="23" HorizontalAlignment="Stretch" IsEnabled="True" Focusable="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="1" av:Grid.Row="25" av:Grid.ColumnSpan="4" av:Grid.RowSpan="1" av:SpellCheck.IsEnabled="True" assembly:TextBoxHelper.HasText="False" />
        <MDTextBlock Text="Uputa izabranom  liječniku primarne zdravstvene zaštite" FontWeight="ExtraBlack" Name="mdLbl17" Tag="{x:Null}" VerticalAlignment="Center" ContextMenu="{x:Null}" IsEnabled="True" av:Grid.Column="1" av:Grid.Row="26" av:Grid.ColumnSpan="4" av:Grid.RowSpan="1" />
        <MDTextBox IsEmpty="True" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" LabelForPrint="Uputa izabranom  liječniku primarne zdravstvene zaštite" LabelControlName="mdLbl17" LabelShowInNewRow="True" LabelBold="True" ErrorLoadingNode="False" TextBoxWidth="Infinity" TextWrapping="Wrap" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdTextBox12.Value, UpdateSourceTrigger=PropertyChanged}" AcceptsReturn="True" VerticalScrollBarVisibility="Auto" TabIndex="18" Name="mdTextBox12" Tag="{x:Null}" Width="Auto" MaxWidth="Infinity" Height="Auto" MinHeight="23" HorizontalAlignment="Stretch" IsEnabled="True" Focusable="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="1" av:Grid.Row="27" av:Grid.ColumnSpan="4" av:Grid.RowSpan="1" av:SpellCheck.IsEnabled="True" assembly:TextBoxHelper.HasText="False" />
        <MDTextBlock Text="Ostale preporuke i napomene (npr.prehrana, palijativna skrb i dr)" FontWeight="ExtraBlack" Name="mdLbl18" Tag="{x:Null}" VerticalAlignment="Center" ContextMenu="{x:Null}" IsEnabled="True" av:Grid.Column="1" av:Grid.Row="28" av:Grid.ColumnSpan="4" av:Grid.RowSpan="1" />
        <MDTextBox IsEmpty="True" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" LabelForPrint="Ostale preporuke i napomene (npr.prehrana, palijativna skrb i dr)" LabelControlName="mdLbl18" LabelShowInNewRow="True" LabelBold="True" ErrorLoadingNode="False" TextBoxWidth="Infinity" TextWrapping="Wrap" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdTextBox13.Value, UpdateSourceTrigger=PropertyChanged}" AcceptsReturn="True" VerticalScrollBarVisibility="Auto" TabIndex="20" Name="mdTextBox13" Tag="{x:Null}" Width="Auto" Height="Auto" MinHeight="23" HorizontalAlignment="Stretch" IsEnabled="True" Focusable="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="1" av:Grid.Row="29" av:Grid.ColumnSpan="4" av:Grid.RowSpan="1" av:SpellCheck.IsEnabled="True" assembly:TextBoxHelper.HasText="False" />
        <MDTextBlock Text="Terapija" FontWeight="ExtraBlack" Name="mdLbl21" Tag="{x:Null}" VerticalAlignment="Center" ContextMenu="{x:Null}" IsEnabled="True" av:Grid.Column="1" av:Grid.Row="18" av:Grid.ColumnSpan="4" av:Grid.RowSpan="1" />
        <MDTextBox IsEmpty="True" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" LabelForPrint="Zaključak" LabelControlName="mdLbl15" LabelShowInNewRow="True" LabelBold="True" ErrorLoadingNode="False" TextBoxWidth="Infinity" TextWrapping="Wrap" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdTextBox14.Value, UpdateSourceTrigger=PropertyChanged}" AcceptsReturn="True" VerticalScrollBarVisibility="Auto" TabIndex="14" Name="mdTextBox14" Tag="{x:Null}" Width="Auto" Height="Auto" MinHeight="23" HorizontalAlignment="Stretch" IsEnabled="True" Focusable="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="1" av:Grid.Row="23" av:Grid.ColumnSpan="4" av:Grid.RowSpan="1" av:SpellCheck.IsEnabled="True" assembly:TextBoxHelper.HasText="False" />
        <MDTextBlock Text="Početak pregleda" FontSize="10" Name="mdLbl22" Tag="{x:Null}" VerticalAlignment="Center" IsEnabled="True" av:Grid.Column="1" av:Grid.Row="0" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
        <MDDateTimePicker IsEmpty="True" Required="True" DefaultValue="True" FormulaExpressionEvaluateOneTime="False" LabelForPrint="Početak pregleda" LabelControlName="mdLbl22" FieldTitle="{x:Null}" ErrorLoadingNode="False" FontSize="10" TabIndex="30" Name="mdDateTime1" Tag="{x:Null}" Width="170" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="2" av:Grid.Row="0" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1">
          <MDDateTimePicker.SelectedDate>
            <av:Binding ValidatesOnDataErrors="True" NotifyOnValidationError="True" Path="Model.mdDateTime1.Value" Mode="TwoWay" UpdateSourceTrigger="PropertyChanged">
              <av:Binding.Converter>
                <inbismdc:DatePickerConverter />
              </av:Binding.Converter>
              <av:Binding.ValidationRules>
                <inbismdvc:RequiredDatePickerValidate ValidationStep="RawProposedValue" ValidatesOnTargetUpdated="True" />
              </av:Binding.ValidationRules>
            </av:Binding>
          </MDDateTimePicker.SelectedDate>
        </MDDateTimePicker>
        <MDTextBox IsEmpty="True" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" ErrorLoadingNode="False" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.dijagnostika_kolonoskopija.Value, UpdateSourceTrigger=PropertyChanged}" TabIndex="0" Name="dijagnostika_kolonoskopija" Tag="HideInDesign" Visibility="Collapsed" av:Grid.Column="0" av:Grid.Row="0" av:SpellCheck.IsEnabled="True" assembly:TextBoxHelper.HasText="False" />
        <MDTextBox IsEmpty="True" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" ErrorLoadingNode="False" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.dijagnostika_uzvabdomena.Value, UpdateSourceTrigger=PropertyChanged}" TabIndex="0" Name="dijagnostika_uzvabdomena" Tag="HideInDesign" Visibility="Collapsed" av:Grid.Column="0" av:Grid.Row="0" av:SpellCheck.IsEnabled="True" assembly:TextBoxHelper.HasText="False" />
        <MDDropElement AllowDrop="True" av:Grid.Column="4" av:Grid.Row="32" />
        <MDDropElement AllowDrop="True" av:Grid.Column="3" av:Grid.Row="32" />
        <MDDropElement AllowDrop="True" av:Grid.Column="4" av:Grid.Row="33" />
        <MDDropElement AllowDrop="True" av:Grid.Column="3" av:Grid.Row="33" />
        <MDDropElement AllowDrop="True" av:Grid.Column="4" av:Grid.Row="34" />
        <MDDropElement AllowDrop="True" av:Grid.Column="3" av:Grid.Row="34" />
        <MDTabControl CanAddNewTab="True" TabIndex="21" Name="mdTabControl0" Tag="{x:Null}" AllowDrop="True" IsEnabled="True" ItemsSource="{x:Null}" av:Grid.Column="1" av:Grid.Row="31" av:Grid.ColumnSpan="4" av:Grid.RowSpan="1">
          <MDTabItem IsSelected="True" Header="Liječnici i potpisi" AllowDrop="True" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto">
            <MDTabItem.Tag>
              <s:Int32>2</s:Int32>
            </MDTabItem.Tag>
            <MDAdornerDecorator Width="Auto" Height="Auto">
              <MDGridControl ShowGridLines="True" Background="#FFFFFFFF" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                <MDGridControl.ColumnDefinitions>
                  <av:ColumnDefinition Width="Auto" />
                  <av:ColumnDefinition Width="Auto" />
                  <av:ColumnDefinition Width="Auto" />
                  <av:ColumnDefinition Width="Auto" />
                  <av:ColumnDefinition Width="Auto" />
                  <av:ColumnDefinition Width="Auto" />
                </MDGridControl.ColumnDefinitions>
                <MDGridControl.RowDefinitions>
                  <av:RowDefinition Height="Auto" />
                  <av:RowDefinition Height="Auto" />
                  <av:RowDefinition Height="Auto" />
                  <av:RowDefinition Height="Auto" />
                  <av:RowDefinition Height="Auto" />
                </MDGridControl.RowDefinitions>
                <MDDropElement AllowDrop="True" av:Grid.Column="1" av:Grid.Row="4" />
                <MDDropElement AllowDrop="True" av:Grid.Column="2" av:Grid.Row="4" />
                <MDTextBlock Text="Liječnik - mlađa služba:" FontWeight="SemiBold" Name="mdLbl20" Tag="{x:Null}" VerticalAlignment="Center" IsEnabled="True" av:Grid.Column="1" av:Grid.Row="1" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
                <inbismdcgc:MDLookupDoctor Prefix="{x:Null}" Sufix="{x:Null}" Ime="{x:Null}" Prezime="{x:Null}" Specijalnost="{x:Null}" Subspecijalnost="{x:Null}" DjelatnikPravoGrupa="False" SignLogged="True" DoctorPermissionCode="14" Priority="3" IsEmpty="True" LabelBefore="Liječnik:" BindedValue="{av:Binding NotifyOnValidationError=True, Path=Model.mdLookup2.Value, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" BindedValueDescription="{av:Binding ValidatesOnDataErrors=True, Path=Model.mdLookup2.ValueDescription, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" LabelBeforeWidth="60" LabelForPrint="Liječnik - mlađa služba:" LabelControlName="mdLbl20" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" SelectedItem="{x:Null}" ValueText="" DisplayText="" TextBoxWidth="55" Title="Nalaz napisao" SelectedValueID="" TabIndex="75" Name="mdLookup2" Tag="14" Width="200" MinWidth="55" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="2" av:Grid.Row="1" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
                <MDDropElement AllowDrop="True" av:Grid.Column="4" av:Grid.Row="4" />
                <MDDropElement AllowDrop="True" av:Grid.Column="3" av:Grid.Row="4" />
                <MDTextBlock Text="Liječnik:" FontWeight="Bold" Name="mdLbl9" Tag="{x:Null}" VerticalAlignment="Center" IsEnabled="True" av:Grid.Column="3" av:Grid.Row="1" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
                <inbismdcgc:MDLookupDoctor Prefix="{x:Null}" Sufix="{x:Null}" Ime="{x:Null}" Prezime="{x:Null}" Specijalnost="{x:Null}" Subspecijalnost="{x:Null}" DjelatnikPravoGrupa="False" SignLogged="True" DoctorPermissionCode="6" Priority="1" IsEmpty="True" Required="True" LabelBefore="Liječnik:" BindedValueDescription="{av:Binding ValidatesOnDataErrors=True, Path=Model.mdLookup1.ValueDescription, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" LabelBeforeWidth="60" LabelForPrint="Liječnik:" LabelControlName="mdLbl9" LabelShowInNewRow="False" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" SelectedItem="{x:Null}" ValueText="" DisplayText="" TextBoxWidth="55" Title="Potpis na ambulantnim nalazima" SelectedValueID="" TabIndex="24" Name="mdLookup1" Tag="6" Width="200" MinWidth="55" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="4" av:Grid.Row="1" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1">
                  <inbismdcgc:MDLookupDoctor.BindedValue>
                    <av:Binding NotifyOnValidationError="True" Path="Model.mdLookup1.Value" Mode="TwoWay" UpdateSourceTrigger="PropertyChanged">
                      <av:Binding.ValidationRules>
                        <inbismdvc:RequiredValidate ValidationStep="UpdatedValue" ValidatesOnTargetUpdated="True" />
                      </av:Binding.ValidationRules>
                    </av:Binding>
                  </inbismdcgc:MDLookupDoctor.BindedValue>
                </inbismdcgc:MDLookupDoctor>
                <MDTextBlock Text="Liječnik - mlađa služba:" FontWeight="SemiBold" Name="mdLbl47" Tag="{x:Null}" VerticalAlignment="Center" IsEnabled="True" av:Grid.Column="1" av:Grid.Row="3" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
                <inbismdcgc:MDLookupDoctor Prefix="{x:Null}" Sufix="{x:Null}" Ime="{x:Null}" Prezime="{x:Null}" Specijalnost="{x:Null}" Subspecijalnost="{x:Null}" DjelatnikPravoGrupa="False" SignLogged="False" DoctorPermissionCode="14" Priority="4" IsEmpty="True" LabelBefore="Liječnik:" BindedValue="{av:Binding NotifyOnValidationError=True, Path=Model.mdLookup3.Value, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" BindedValueDescription="{av:Binding ValidatesOnDataErrors=True, Path=Model.mdLookup3.ValueDescription, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" LabelBeforeWidth="60" LabelForPrint="Liječnik - mlađa služba:" LabelControlName="mdLbl47" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" SelectedItem="{x:Null}" ValueText="" DisplayText="" TextBoxWidth="55" Title="Nalaz napisao" SelectedValueID="" TabIndex="75" Name="mdLookup3" Tag="14" Width="200" MinWidth="55" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="2" av:Grid.Row="3" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
                <MDTextBlock Text="Liječnik:" FontWeight="Bold" Name="mdLbl48" Tag="{x:Null}" VerticalAlignment="Center" IsEnabled="True" av:Grid.Column="3" av:Grid.Row="3" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
                <inbismdcgc:MDLookupDoctor Prefix="{x:Null}" Sufix="{x:Null}" Ime="{x:Null}" Prezime="{x:Null}" Specijalnost="{x:Null}" Subspecijalnost="{x:Null}" DjelatnikPravoGrupa="False" SignLogged="False" DoctorPermissionCode="6" Priority="2" IsEmpty="True" Required="False" LabelBefore="Liječnik:" BindedValue="{av:Binding NotifyOnValidationError=True, Path=Model.mdLookup4.Value, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" BindedValueDescription="{av:Binding ValidatesOnDataErrors=True, Path=Model.mdLookup4.ValueDescription, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" LabelBeforeWidth="60" LabelForPrint="Liječnik:" LabelControlName="mdLbl48" LabelShowInNewRow="False" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" SelectedItem="{x:Null}" ValueText="" DisplayText="" TextBoxWidth="55" Title="Potpis na ambulantnim nalazima" SelectedValueID="" TabIndex="26" Name="mdLookup4" Tag="6" Width="200" MinWidth="55" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="4" av:Grid.Row="3" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
                <MDDropElement AllowDrop="True" av:Grid.Column="3" av:Grid.Row="0" />
                <MDDropElement AllowDrop="True" av:Grid.Column="4" av:Grid.Row="0" />
                <MDTextBlock Text="Smjena I" Name="mdLbl49" Tag="{x:Null}" VerticalAlignment="Center" IsEnabled="True" av:Grid.Column="1" av:Grid.Row="0" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
                <MDDropElement AllowDrop="True" av:Grid.Column="2" av:Grid.Row="2" />
                <MDDropElement AllowDrop="True" av:Grid.Column="3" av:Grid.Row="2" />
                <MDDropElement AllowDrop="True" av:Grid.Column="4" av:Grid.Row="2" />
                <MDTextBlock Text="Smjena II" Name="mdLbl51" Tag="{x:Null}" VerticalAlignment="Center" IsEnabled="True" av:Grid.Column="1" av:Grid.Row="2" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
                <MDDropElement AllowDrop="True" av:Grid.Column="2" av:Grid.Row="0" />
              </MDGridControl>
            </MDAdornerDecorator>
          </MDTabItem>
        </MDTabControl>
        <MDDropElement AllowDrop="True" av:Grid.Column="1" av:Grid.Row="32" />
        <MDDropElement AllowDrop="True" av:Grid.Column="2" av:Grid.Row="32" />
        <MDDropElement AllowDrop="True" av:Grid.Column="1" av:Grid.Row="33" />
        <MDDropElement AllowDrop="True" av:Grid.Column="2" av:Grid.Row="33" />
        <inbismdcfc:MDFormula IsEmpty="True" BindedValue="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdFormula3_1.Value, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" FormulaExpression="@mdLookup3" LabelForPrint="Uputa izabranom  liječniku primarne zdravstvene zaštite" LabelControlName="mdLbl17" LabelShowInNewRow="True" RuntimeIsEnabled="True" TabIndex="0" Name="mdFormula3_1" Tag="{x:Null}" Visibility="Hidden" IsEnabled="True" av:Grid.Column="1" av:Grid.Row="36" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1">
          <inbismdcfc:MDFormula.FormulaCalculatedValue>
            <av:MultiBinding Mode="TwoWay" UpdateSourceTrigger="Default" NotifyOnSourceUpdated="True" NotifyOnValidationError="True" ValidatesOnDataErrors="True">
              <av:MultiBinding.Converter>
                <inbismdc:MDFormulaExpressionConverter />
              </av:MultiBinding.Converter>
              <av:MultiBinding.ConverterParameter>
                <inbismdm:ExpressionData Expression="@mdLookup3" StringFormat="{x:Null}" InverseResult="False" VariableTypes="String;" VariableNames="@mdLookup3;" />
              </av:MultiBinding.ConverterParameter>
              <av:Binding NotifyOnSourceUpdated="True" ValidatesOnDataErrors="True" NotifyOnValidationError="True" Path="SelectedItem.ItemValue" UpdateSourceTrigger="PropertyChanged" ElementName="mdLookup3" />
            </av:MultiBinding>
          </inbismdcfc:MDFormula.FormulaCalculatedValue>
        </inbismdcfc:MDFormula>
        <inbismdcfc:MDFormula IsEmpty="True" BindedValue="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdFormula4.Value, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" FormulaExpression="@mdLookup4" LabelForPrint="RR:" LabelControlName="mdLbl30" LabelShowInNewRow="True" RuntimeIsEnabled="True" TabIndex="0" Name="mdFormula4" Tag="{x:Null}" Visibility="Hidden" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="2" av:Grid.Row="36" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1">
          <inbismdcfc:MDFormula.FormulaCalculatedValue>
            <av:MultiBinding Mode="TwoWay" UpdateSourceTrigger="Default" NotifyOnSourceUpdated="True" NotifyOnValidationError="True" ValidatesOnDataErrors="True">
              <av:MultiBinding.Converter>
                <inbismdc:MDFormulaExpressionConverter />
              </av:MultiBinding.Converter>
              <av:MultiBinding.ConverterParameter>
                <inbismdm:ExpressionData Expression="@mdLookup4" StringFormat="{x:Null}" InverseResult="False" VariableTypes="String;" VariableNames="@mdLookup4;" />
              </av:MultiBinding.ConverterParameter>
              <av:Binding NotifyOnSourceUpdated="True" ValidatesOnDataErrors="True" NotifyOnValidationError="True" Path="SelectedItem.ItemValue" UpdateSourceTrigger="PropertyChanged" ElementName="mdLookup4" />
            </av:MultiBinding>
          </inbismdcfc:MDFormula.FormulaCalculatedValue>
        </inbismdcfc:MDFormula>
        <MDDropElement AllowDrop="True" av:Grid.Column="3" av:Grid.Row="36" />
        <MDDropElement AllowDrop="True" av:Grid.Column="4" av:Grid.Row="36" />
        <MDGridView IsEmpty="True" CalculatedValue="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdControlCollection0.Value, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" CalculatedValueDescription="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdControlCollection0.ValueDescription, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" LabelShowInNewRow="True" LabelControlName="mdLbl50" LabelForPrint="Vrijeme upisa:" FontSize="10" TabIndex="38" Name="mdControlCollection0" Tag="{x:Null}" MinHeight="10" ContextMenu="{x:Null}" IsEnabled="True" Focusable="True" ItemsSource="{av:Binding Path=Model.mdControlCollection0.Items}" SelectedItem="{x:Null}" av:Grid.Column="1" av:Grid.Row="2" av:Grid.ColumnSpan="4" av:Grid.RowSpan="1">
          <MDGridView.View>
            <av:GridView>
              <av:GridViewColumn DisplayMemberBinding="{x:Null}">
                <av:GridViewColumn.CellTemplate>
                  <av:DataTemplate>
                    <MDLookup LabelBefore="Odaberi:" BindedValue="{av:Binding NotifyOnValidationError=True, Path=mdControlCollection0_MDLookup1.Value, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" BindedValueDescription="{av:Binding ValidatesOnDataErrors=True, Path=mdControlCollection0_MDLookup1.ValueDescription, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" FormulaExpressionEvaluateOneTime="False" TextBoxWidth="45" Title="DijagnozaLAT" TabIndex="0" Name="mdControlCollection0_MDLookup1" Tag="mdControlCollection0_MDLookup1" Width="350" MinWidth="50" HorizontalAlignment="Stretch" />
                  </av:DataTemplate>
                </av:GridViewColumn.CellTemplate>OSTALE DIJAGNOZE:</av:GridViewColumn>
              <av:GridViewColumn DisplayMemberBinding="{x:Null}">
                <av:GridViewColumn.CellTemplate>
                  <av:DataTemplate>
                    <MDTextBox FormulaExpressionEvaluateOneTime="False" ErrorLoadingNode="False" TextBoxWidth="200" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=mdControlCollection0_MDTextBox1.Value, UpdateSourceTrigger=PropertyChanged}" VerticalScrollBarVisibility="Auto" TabIndex="0" Name="mdControlCollection0_MDTextBox1" Width="200" HorizontalAlignment="Stretch" av:SpellCheck.IsEnabled="True" />
                  </av:DataTemplate>
                </av:GridViewColumn.CellTemplate>Dg/Lat</av:GridViewColumn>
            </av:GridView>
          </MDGridView.View>
        </MDGridView>
        <MDTextBlock Text="Vrijeme upisa:" FontSize="10" Name="mdLbl50" Tag="{x:Null}" VerticalAlignment="Center" IsEnabled="True" av:Grid.Column="3" av:Grid.Row="0" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
        <MDDateTimePicker IsEmpty="True" DefaultValue="False" FormulaExpressionEvaluateOneTime="False" LabelForPrint="Vrijeme upisa:" LabelControlName="mdLbl50" FieldTitle="{x:Null}" ErrorLoadingNode="False" FontSize="10" TabIndex="32" Name="mdDateTime2" Tag="{x:Null}" Width="170" Height="Auto" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="4" av:Grid.Row="0" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1">
          <MDDateTimePicker.SelectedDate>
            <av:Binding ValidatesOnDataErrors="True" NotifyOnValidationError="True" Path="Model.mdDateTime2.Value" Mode="TwoWay" UpdateSourceTrigger="PropertyChanged">
              <av:Binding.Converter>
                <inbismdc:DatePickerConverter />
              </av:Binding.Converter>
            </av:Binding>
          </MDDateTimePicker.SelectedDate>
        </MDDateTimePicker>
        <MDCheckBox Text="Došao sa HMP" IsEmpty="True" FormulaExpressionEvaluateOneTime="False" DefaultValue="False" DefaultChecked="False" PrintDelimiter=" " LabelForPrint="Vrijeme upisa:" LabelControlName="mdLbl50" LabelShowInNewRow="True" LocalSource="{x:Null}" IsChecked="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdChk0.Value, UpdateSourceTrigger=PropertyChanged}" FontWeight="SemiBold" TabIndex="36" Name="mdChk0" Tag="{x:Null}" VerticalAlignment="Center" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="4" av:Grid.Row="1" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1">Došao sa HMP</MDCheckBox>
        <MDExpander IsExpanded="False" Header="Podaci s trijaže" Name="mdExpander0" Tag="{x:Null}" ContextMenu="{x:Null}" Visibility="Hidden" IsEnabled="True" av:Grid.Column="1" av:Grid.Row="9" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1">
          <MDAdornerDecorator>
            <av:Grid ShowGridLines="True" Background="#FFFFFFFF" HorizontalAlignment="Left" VerticalAlignment="Stretch">
              <av:Grid.ColumnDefinitions>
                <av:ColumnDefinition />
                <av:ColumnDefinition Width="Auto" />
                <av:ColumnDefinition Width="Auto" />
                <av:ColumnDefinition Width="Auto" />
              </av:Grid.ColumnDefinitions>
              <av:Grid.RowDefinitions>
                <av:RowDefinition Height="Auto" />
                <av:RowDefinition Height="Auto" />
                <av:RowDefinition Height="Auto" />
                <av:RowDefinition Height="Auto" />
                <av:RowDefinition Height="Auto" />
                <av:RowDefinition Height="Auto" />
                <av:RowDefinition Height="Auto" />
                <av:RowDefinition Height="Auto" />
                <av:RowDefinition Height="Auto" />
                <av:RowDefinition Height="Auto" />
                <av:RowDefinition Height="Auto" />
                <av:RowDefinition Height="Auto" />
              </av:Grid.RowDefinitions>
              <MDTextBlock Text="RR:" Name="mdLbl24" Tag="{x:Null}" VerticalAlignment="Center" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="1" av:Grid.Row="0" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
              <MDTextBox IsEmpty="True" IsCheckShortText="False" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" LabelForPrint="RR:" LabelControlName="mdLbl24" LabelShowIfEmpty="True" ErrorLoadingNode="False" ShortTooltip="mmHG" TextBoxWidth="75" TextWrapping="NoWrap" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdTextBox15.Value, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" AcceptsReturn="False" VerticalScrollBarVisibility="Auto" TabIndex="7" Name="mdTextBox15" Tag="{x:Null}" Width="118" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="2" av:Grid.Row="0" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" av:SpellCheck.IsEnabled="True" assembly:TextBoxHelper.HasText="False" />
              <MDTextBlock Text="Puls:" Name="mdLbl37" Tag="{x:Null}" VerticalAlignment="Center" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="1" av:Grid.Row="1" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
              <MDTextBox IsEmpty="True" IsCheckShortText="False" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" LabelForPrint="Puls:" LabelControlName="mdLbl37" LabelShowIfEmpty="True" ErrorLoadingNode="False" ShortTooltip="/min" TextBoxWidth="75" TextWrapping="NoWrap" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdTextBox25.Value, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" AcceptsReturn="False" VerticalScrollBarVisibility="Auto" TabIndex="9" Name="mdTextBox25" Tag="{x:Null}" Width="107" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="2" av:Grid.Row="1" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" av:SpellCheck.IsEnabled="True" assembly:TextBoxHelper.HasText="False" />
              <MDTextBlock Text="SpO2:" Name="mdLbl23" Tag="{x:Null}" VerticalAlignment="Center" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="1" av:Grid.Row="2" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
              <MDTextBox IsEmpty="True" IsCheckShortText="False" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" LabelForPrint="SpO2:" LabelControlName="mdLbl23" LabelShowIfEmpty="True" ErrorLoadingNode="False" ShortTooltip="%" TextBoxWidth="75" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdTextBox16.Value, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" VerticalScrollBarVisibility="Auto" TabIndex="11" Name="mdTextBox16" Tag="{x:Null}" Width="92" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="2" av:Grid.Row="2" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" av:SpellCheck.IsEnabled="True" assembly:TextBoxHelper.HasText="False" />
              <MDTextBlock Text="Respiracije:" Name="mdLbl27" Tag="{x:Null}" VerticalAlignment="Center" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="1" av:Grid.Row="3" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
              <MDTextBox IsEmpty="True" IsCheckShortText="False" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" LabelForPrint="Respiracije:" LabelControlName="mdLbl27" LabelShowIfEmpty="True" ErrorLoadingNode="False" ShortTooltip="/min" TextBoxWidth="75" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdTextBox17.Value, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" VerticalScrollBarVisibility="Auto" TabIndex="13" Name="mdTextBox17" Tag="{x:Null}" Width="107" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="2" av:Grid.Row="3" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" av:SpellCheck.IsEnabled="True" assembly:TextBoxHelper.HasText="False" />
              <MDTextBlock Text="Tax:" Name="mdLbl28" Tag="{x:Null}" VerticalAlignment="Center" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="1" av:Grid.Row="4" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
              <MDTextBox IsEmpty="True" IsCheckShortText="False" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" LabelForPrint="Tax:" LabelControlName="mdLbl28" LabelShowIfEmpty="True" ErrorLoadingNode="False" ShortTooltip="°C" TextBoxWidth="75" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdTextBox18.Value, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" VerticalScrollBarVisibility="Auto" TabIndex="15" Name="mdTextBox18" Tag="{x:Null}" Width="94" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="2" av:Grid.Row="4" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" av:SpellCheck.IsEnabled="True" assembly:TextBoxHelper.HasText="False" />
              <MDTextBlock Text="GUK:" Name="mdLbl45" Tag="{x:Null}" VerticalAlignment="Center" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="1" av:Grid.Row="5" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
              <MDTextBox IsEmpty="True" IsCheckShortText="False" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" LabelForPrint="GUK:" LabelControlName="mdLbl45" LabelShowIfEmpty="True" ErrorLoadingNode="False" ShortTooltip="mmol/L" TextBoxWidth="75" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdTextBox32.Value, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" VerticalScrollBarVisibility="Auto" TabIndex="17" Name="mdTextBox32" Tag="{x:Null}" Width="121" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="2" av:Grid.Row="5" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" av:SpellCheck.IsEnabled="True" assembly:TextBoxHelper.HasText="False" />
              <MDTextBlock Text="VAS:" Name="mdLbl29" Tag="{x:Null}" VerticalAlignment="Center" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="1" av:Grid.Row="6" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
              <MDTextBox IsEmpty="True" IsCheckShortText="False" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" LabelForPrint="VAS:" LabelControlName="mdLbl29" LabelShowIfEmpty="True" ErrorLoadingNode="False" TextBoxWidth="200" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdTextBox19.Value, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" VerticalScrollBarVisibility="Auto" TabIndex="19" Name="mdTextBox19" Tag="{x:Null}" Width="200" Height="Auto" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="2" av:Grid.Row="6" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" av:SpellCheck.IsEnabled="True" assembly:TextBoxHelper.HasText="False" />
              <MDTextBlock Text="GCS:" Name="mdLbl39" Tag="{x:Null}" VerticalAlignment="Center" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="1" av:Grid.Row="7" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
              <MDTextBox IsEmpty="True" IsCheckShortText="False" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" LabelForPrint="GCS:" LabelControlName="mdLbl39" LabelShowIfEmpty="True" ErrorLoadingNode="False" TextBoxWidth="100" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdTextBox27.Value, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" VerticalScrollBarVisibility="Auto" TabIndex="21" Name="mdTextBox27" Tag="{x:Null}" Width="100" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="2" av:Grid.Row="7" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" av:SpellCheck.IsEnabled="True" assembly:TextBoxHelper.HasText="False" />
              <MDTextBlock Text="AVPU:" Name="mdLbl40" Tag="{x:Null}" VerticalAlignment="Center" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="1" av:Grid.Row="8" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
              <MDTextBox IsEmpty="True" IsCheckShortText="False" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" LabelForPrint="AVPU:" LabelControlName="mdLbl40" LabelShowIfEmpty="True" ErrorLoadingNode="False" TextBoxWidth="200" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdTextBox28.Value, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" VerticalScrollBarVisibility="Auto" TabIndex="23" Name="mdTextBox28" Tag="{x:Null}" Width="200" Height="Auto" IsEnabled="True" Focusable="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="2" av:Grid.Row="8" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" av:SpellCheck.IsEnabled="True" assembly:TextBoxHelper.HasText="False" />
              <MDTextBlock Text="Trijažna kategorija:" Name="mdLbl25" Tag="{x:Null}" VerticalAlignment="Center" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="1" av:Grid.Row="9" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
              <MDLookup IsEmpty="True" LabelBefore="Odaberi:" BindedValue="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdLookup121.Value, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" BindedValueDescription="{av:Binding Path=Model.mdLookup121.ValueDescription, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" LabelBeforeWidth="60" LabelForPrint="Trijažna kategorija:" LabelControlName="mdLbl25" LabelShowIfEmpty="True" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" SelectedItem="{x:Null}" ValueText="" DisplayText="" TextBoxWidth="45" Title="Trijažna kategorija" SelectedValueID="" TabIndex="25" Name="mdLookup121" Tag="{x:Null}" Width="200" MinWidth="50" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="2" av:Grid.Row="9" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
              <MDTextBlock Text="Način dolaska:" Name="mdLbl26" Tag="{x:Null}" VerticalAlignment="Center" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="1" av:Grid.Row="10" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
              <MDComboBox IsEmpty="True" StaticComboValues="sam# upućen od LOM-a#HMP#sanitet" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" DjelatnikPravoGrupa="False" LabelForPrint="Način dolaska:" LabelControlName="mdLbl26" LabelShowIfEmpty="False" DisplayMemberPath="ItemValue" IsTextSearchEnabled="True" TabIndex="27" Name="mdCombo1" Tag="{x:Null}" Width="150" MinWidth="50" IsEnabled="True" ItemsSource="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdCombo1.ItemsSource, UpdateSourceTrigger=PropertyChanged}" SelectedItem="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdCombo1.SelectedItem, UpdateSourceTrigger=PropertyChanged}" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="2" av:Grid.Row="10" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" assembly:TextBoxHelper.HasText="False" />
              <MDDropElement AllowDrop="True" av:Grid.Column="1" av:Grid.Row="11" />
              <MDTextBox IsEmpty="True" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" ErrorLoadingNode="False" TextBoxWidth="75" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdTextBox31.Value, UpdateSourceTrigger=PropertyChanged}" VerticalScrollBarVisibility="Auto" Name="mdTextBox31" Tag="{x:Null}" Width="75" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="2" av:Grid.Row="11" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" av:SpellCheck.IsEnabled="True" assembly:TextBoxHelper.HasText="False">
                <MDTextBox.FormulaValue>
                  <av:MultiBinding Mode="TwoWay" UpdateSourceTrigger="Default" NotifyOnSourceUpdated="True" NotifyOnValidationError="True" ValidatesOnDataErrors="True">
                    <av:MultiBinding.Converter>
                      <inbismdc:MDFormulaExpressionSetValueConverter />
                    </av:MultiBinding.Converter>
                    <av:MultiBinding.ConverterParameter>
                      <inbismdm:ExpressionData Expression="@mdLookup121" StringFormat="{x:Null}" InverseResult="False" VariableTypes="String;" VariableNames="@mdLookup121;" />
                    </av:MultiBinding.ConverterParameter>
                    <av:Binding NotifyOnSourceUpdated="True" ValidatesOnDataErrors="True" NotifyOnValidationError="True" Path="SelectedItem.ItemValue" UpdateSourceTrigger="PropertyChanged" ElementName="mdLookup121" />
                  </av:MultiBinding>
                </MDTextBox.FormulaValue>
              </MDTextBox>
            </av:Grid>
          </MDAdornerDecorator>
        </MDExpander>
        <MDExpander IsExpanded="False" Header="Vitalni znakovi" Name="mdExpander3" Tag="{x:Null}" ContextMenu="{x:Null}" Visibility="Hidden" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="2" av:Grid.Row="9" av:Grid.ColumnSpan="2" av:Grid.RowSpan="1">
          <MDAdornerDecorator>
            <av:Grid ShowGridLines="True" Background="#FFFFFFFF" HorizontalAlignment="Left" VerticalAlignment="Stretch">
              <av:Grid.ColumnDefinitions>
                <av:ColumnDefinition />
                <av:ColumnDefinition Width="Auto" />
                <av:ColumnDefinition Width="Auto" />
                <av:ColumnDefinition Width="Auto" />
              </av:Grid.ColumnDefinitions>
              <av:Grid.RowDefinitions>
                <av:RowDefinition Height="Auto" />
                <av:RowDefinition Height="Auto" />
                <av:RowDefinition Height="Auto" />
                <av:RowDefinition Height="Auto" />
                <av:RowDefinition Height="Auto" />
                <av:RowDefinition Height="Auto" />
                <av:RowDefinition Height="Auto" />
                <av:RowDefinition Height="Auto" />
                <av:RowDefinition Height="Auto" />
                <av:RowDefinition Height="Auto" />
              </av:Grid.RowDefinitions>
              <MDTextBlock Text="RR:" Name="mdLbl30" Tag="{x:Null}" VerticalAlignment="Center" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="1" av:Grid.Row="0" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
              <MDTextBox IsEmpty="True" IsCheckShortText="False" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" LabelForPrint="RR:" LabelControlName="mdLbl30" LabelShowIfEmpty="False" ErrorLoadingNode="False" ShortTooltip="mmHG" TextBoxWidth="75" TextWrapping="NoWrap" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdTextBox20.Value, UpdateSourceTrigger=PropertyChanged}" AcceptsReturn="False" VerticalScrollBarVisibility="Auto" TabIndex="29" Name="mdTextBox20" Tag="{x:Null}" Width="118" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="2" av:Grid.Row="0" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" av:SpellCheck.IsEnabled="True" assembly:TextBoxHelper.HasText="False" />
              <MDTextBlock Text="Puls:" Name="mdLbl38" Tag="{x:Null}" VerticalAlignment="Center" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="1" av:Grid.Row="1" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
              <MDTextBox IsEmpty="True" IsCheckShortText="False" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" LabelForPrint="Puls:" LabelControlName="mdLbl38" LabelShowIfEmpty="False" ErrorLoadingNode="False" ShortTooltip="/min" TextBoxWidth="75" TextWrapping="NoWrap" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdTextBox26.Value, UpdateSourceTrigger=PropertyChanged}" AcceptsReturn="False" VerticalScrollBarVisibility="Auto" TabIndex="31" Name="mdTextBox26" Tag="{x:Null}" Width="107" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="2" av:Grid.Row="1" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" av:SpellCheck.IsEnabled="True" assembly:TextBoxHelper.HasText="False" />
              <MDTextBlock Text="SpO2:" Name="mdLbl31" Tag="{x:Null}" VerticalAlignment="Center" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="1" av:Grid.Row="2" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
              <MDTextBox IsEmpty="True" IsCheckShortText="False" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" LabelForPrint="SpO2:" LabelControlName="mdLbl31" LabelShowIfEmpty="False" ErrorLoadingNode="False" ShortTooltip="%" TextBoxWidth="75" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdTextBox21.Value, UpdateSourceTrigger=PropertyChanged}" VerticalScrollBarVisibility="Auto" TabIndex="33" Name="mdTextBox21" Tag="{x:Null}" Width="92" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="2" av:Grid.Row="2" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" av:SpellCheck.IsEnabled="True" assembly:TextBoxHelper.HasText="False" />
              <MDTextBlock Text="Respiracije:" Name="mdLbl34" Tag="{x:Null}" VerticalAlignment="Center" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="1" av:Grid.Row="3" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
              <MDTextBox IsEmpty="True" IsCheckShortText="False" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" LabelForPrint="Respiracije:" LabelControlName="mdLbl34" LabelShowIfEmpty="False" ErrorLoadingNode="False" ShortTooltip="/min" TextBoxWidth="75" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdTextBox22.Value, UpdateSourceTrigger=PropertyChanged}" VerticalScrollBarVisibility="Auto" TabIndex="35" Name="mdTextBox22" Tag="{x:Null}" Width="107" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="2" av:Grid.Row="3" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" av:SpellCheck.IsEnabled="True" assembly:TextBoxHelper.HasText="False" />
              <MDTextBlock Text="Tax:" Name="mdLbl35" Tag="{x:Null}" VerticalAlignment="Center" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="1" av:Grid.Row="4" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
              <MDTextBox IsEmpty="True" IsCheckShortText="False" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" LabelForPrint="Tax:" LabelControlName="mdLbl35" LabelShowIfEmpty="False" ErrorLoadingNode="False" ShortTooltip="°C" TextBoxWidth="75" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdTextBox23.Value, UpdateSourceTrigger=PropertyChanged}" VerticalScrollBarVisibility="Auto" TabIndex="37" Name="mdTextBox23" Tag="{x:Null}" Width="94" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="2" av:Grid.Row="4" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" av:SpellCheck.IsEnabled="True" assembly:TextBoxHelper.HasText="False" />
              <MDTextBlock Text="Trect:" Name="mdLbl44" Tag="{x:Null}" VerticalAlignment="Center" IsEnabled="True" av:Grid.Column="1" av:Grid.Row="5" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
              <MDTextBox IsEmpty="True" IsCheckShortText="False" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" LabelForPrint="Trect:" LabelControlName="mdLbl44" LabelShowIfEmpty="False" ErrorLoadingNode="False" ShortTooltip="°C" TextBoxWidth="75" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdTextBox30.Value, UpdateSourceTrigger=PropertyChanged}" VerticalScrollBarVisibility="Auto" TabIndex="39" Name="mdTextBox30" Tag="{x:Null}" Width="94" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="2" av:Grid.Row="5" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" av:SpellCheck.IsEnabled="True" assembly:TextBoxHelper.HasText="False" />
              <MDTextBlock Text="GUK:" Name="mdLbl46" Tag="{x:Null}" VerticalAlignment="Center" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="1" av:Grid.Row="6" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
              <MDTextBox IsEmpty="True" IsCheckShortText="False" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" LabelForPrint="GUK:" LabelControlName="mdLbl46" LabelShowIfEmpty="False" ErrorLoadingNode="False" ShortTooltip="mmol/L" TextBoxWidth="75" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdTextBox33.Value, UpdateSourceTrigger=PropertyChanged}" VerticalScrollBarVisibility="Auto" TabIndex="41" Name="mdTextBox33" Tag="{x:Null}" Width="121" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="2" av:Grid.Row="6" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" av:SpellCheck.IsEnabled="True" assembly:TextBoxHelper.HasText="False" />
              <MDTextBlock Text="VAS:" Name="mdLbl36" Tag="{x:Null}" VerticalAlignment="Center" IsEnabled="True" av:Grid.Column="1" av:Grid.Row="7" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
              <MDTextBox IsEmpty="True" IsCheckShortText="False" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" LabelForPrint="VAS:" LabelControlName="mdLbl36" LabelShowIfEmpty="False" ErrorLoadingNode="False" TextBoxWidth="75" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdTextBox24.Value, UpdateSourceTrigger=PropertyChanged}" VerticalScrollBarVisibility="Auto" TabIndex="43" Name="mdTextBox24" Tag="{x:Null}" Width="75" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="2" av:Grid.Row="7" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" av:SpellCheck.IsEnabled="True" assembly:TextBoxHelper.HasText="False" />
              <MDTextBlock Text="GCS:" Name="mdLbl43" Tag="{x:Null}" VerticalAlignment="Center" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="1" av:Grid.Row="8" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
              <MDScoreControl LabelForPrint="GCS:" LabelControlName="mdLbl43" IsEmpty="True" LabelShowIfEmpty="False" LabelShowInNewRow="False" LabelBold="False" DataBold="False" QuestionInputInDialog="True" ScoreCode="GCS" DateCreated="07/12/2023 20:46:56" ScoreInterpretation="{av:Binding Path=Model.mdScore1.ValueDescription, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" TabIndex="45" Name="mdScore1" Tag="{x:Null}" MinHeight="10" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="2" av:Grid.Row="8" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1">
                <MDScoreControl.ScoreValue>
                  <av:Binding Path="Model.mdScore1.Value" Mode="TwoWay" UpdateSourceTrigger="PropertyChanged">
                    <av:Binding.Converter>
                      <inbismdc:StringToDoubleConverter />
                    </av:Binding.Converter>
                  </av:Binding>
                </MDScoreControl.ScoreValue>
              </MDScoreControl>
              <MDTextBlock Text="AVPU:" Name="mdLbl42" Tag="{x:Null}" VerticalAlignment="Center" IsEnabled="True" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="1" av:Grid.Row="9" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
              <MDRadioButtonList IsEmpty="True" LabelForPrint="AVPU:" LabelControlName="mdLbl42" FormulaExpressionEvaluateOneTime="False" DefaultValue="{x:Null}" IsTextSearchEnabled="True" TabIndex="0" Name="mdRadioButtonList0" Tag="{x:Null}" Width="130" MinWidth="50" IsEnabled="True" ItemsSource="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdRadioButtonList0.ItemsSource, UpdateSourceTrigger=PropertyChanged}" SelectedItem="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdRadioButtonList0.SelectedItem, UpdateSourceTrigger=PropertyChanged}" av:Canvas.Left="Auto" av:Canvas.Top="Auto" av:Grid.Column="2" av:Grid.Row="9" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
            </av:Grid>
          </MDAdornerDecorator>
        </MDExpander>
        <inbismdcfc:MDFormula IsEmpty="True" TextBoxWidth="800" BindedValue="{av:Binding NotifyOnValidationError=True, Path=Model.mdFormula5.Value, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" FormulaExpression="var dobVar=&quot;&quot;;&#xA;try{&#xA;&#xA;}catch{}&#xA;&#xA;if   (@mdTextBox34 != &quot;&quot; ) &#xA;dobVar = dobVar + &quot;Trijaž.kat:&quot; + @mdTextBox34 + &quot;;&quot; ;&#xA;&#xA;if     (@mdTextBox15  != &quot;&quot; ) &#xA;dobVar = dobVar + &quot; RR: &quot; + @mdTextBox15  +&quot;mmHg;&quot; ;&#xA;&#xA;if     (@mdTextBox25 != &quot;&quot; ) &#xA;dobVar = dobVar + &quot; Puls:&quot; + @mdTextBox25  + &quot;/min;&quot; ;&#xA;&#xA;if     (@mdTextBox16 != &quot;&quot; ) &#xA;dobVar = dobVar + &quot; SpO2:&quot; + @mdTextBox16 + &quot;%;&quot; ;&#xA;&#xA;if     (@mdTextBox17 != &quot;&quot; ) &#xA;dobVar = dobVar + &quot; Resp:&quot; + @mdTextBox17 +&quot;/min;&quot; ;&#xA;&#xA;if     (@mdTextBox18 != &quot;&quot; ) &#xA;dobVar = dobVar + &quot; Tax: &quot; + @mdTextBox18 + &quot;C;&quot; ;&#xA;&#xA;if     (@mdTextBox32 != &quot;&quot; ) &#xA;dobVar = dobVar + &quot; GUK:&quot;  + @mdTextBox32 +  &quot;mmol/L;&quot; ;&#xA;&#xA;if     (@mdTextBox19 != &quot;&quot; ) &#xA;dobVar = dobVar + &quot; VAS: &quot; + @mdTextBox19 + &quot;;&quot;;&#xA;&#xA;if     (@mdTextBox27 != &quot;&quot; ) &#xA;dobVar = dobVar + &quot; GCS:&quot; + @mdTextBox27 + &quot;;&quot;; &#xA;&#xA;if     (@mdTextBox28 != &quot;&quot; ) &#xA;dobVar = dobVar + &quot; AVPU:&quot; + @mdTextBox28 + &quot;;&quot;;&#xA;&#xA;&#xA;return dobVar;" LabelForPrint="Podaci s trijaže" LabelControlName="mdLbl52" LabelShowInNewRow="True" FontSize="10" FontWeight="Bold" TabIndex="0" Name="mdFormula5" Tag="{x:Null}" MaxWidth="Infinity" Height="Auto" MinHeight="23" HorizontalAlignment="Stretch" ContextMenu="{x:Null}" av:Grid.Column="1" av:Grid.Row="6" av:Grid.ColumnSpan="4" av:Grid.RowSpan="1">
          <inbismdcfc:MDFormula.FormulaCalculatedValue>
            <av:MultiBinding Mode="TwoWay" UpdateSourceTrigger="Default" NotifyOnSourceUpdated="True" NotifyOnValidationError="True" ValidatesOnDataErrors="True">
              <av:MultiBinding.Converter>
                <inbismdc:MDFormulaExpressionConverter />
              </av:MultiBinding.Converter>
              <av:MultiBinding.ConverterParameter>
                <inbismdm:ExpressionData Expression="var dobVar=&quot;&quot;;&#xA;try{&#xA;&#xA;}catch{}&#xA;&#xA;if   (@mdTextBox34 != &quot;&quot; ) &#xA;dobVar = dobVar + &quot;Trijaž.kat:&quot; + @mdTextBox34 + &quot;;&quot; ;&#xA;&#xA;if     (@mdTextBox15  != &quot;&quot; ) &#xA;dobVar = dobVar + &quot; RR: &quot; + @mdTextBox15  +&quot;mmHg;&quot; ;&#xA;&#xA;if     (@mdTextBox25 != &quot;&quot; ) &#xA;dobVar = dobVar + &quot; Puls:&quot; + @mdTextBox25  + &quot;/min;&quot; ;&#xA;&#xA;if     (@mdTextBox16 != &quot;&quot; ) &#xA;dobVar = dobVar + &quot; SpO2:&quot; + @mdTextBox16 + &quot;%;&quot; ;&#xA;&#xA;if     (@mdTextBox17 != &quot;&quot; ) &#xA;dobVar = dobVar + &quot; Resp:&quot; + @mdTextBox17 +&quot;/min;&quot; ;&#xA;&#xA;if     (@mdTextBox18 != &quot;&quot; ) &#xA;dobVar = dobVar + &quot; Tax: &quot; + @mdTextBox18 + &quot;C;&quot; ;&#xA;&#xA;if     (@mdTextBox32 != &quot;&quot; ) &#xA;dobVar = dobVar + &quot; GUK:&quot;  + @mdTextBox32 +  &quot;mmol/L;&quot; ;&#xA;&#xA;if     (@mdTextBox19 != &quot;&quot; ) &#xA;dobVar = dobVar + &quot; VAS: &quot; + @mdTextBox19 + &quot;;&quot;;&#xA;&#xA;if     (@mdTextBox27 != &quot;&quot; ) &#xA;dobVar = dobVar + &quot; GCS:&quot; + @mdTextBox27 + &quot;;&quot;; &#xA;&#xA;if     (@mdTextBox28 != &quot;&quot; ) &#xA;dobVar = dobVar + &quot; AVPU:&quot; + @mdTextBox28 + &quot;;&quot;;&#xA;&#xA;&#xA;return dobVar;" StringFormat="{x:Null}" InverseResult="False" VariableTypes="String;String;String;String;String;String;String;String;String;String;" VariableNames="@mdTextBox34;@mdTextBox15;@mdTextBox25;@mdTextBox16;@mdTextBox17;@mdTextBox18;@mdTextBox32;@mdTextBox19;@mdTextBox27;@mdTextBox28;" />
              </av:MultiBinding.ConverterParameter>
              <av:Binding NotifyOnSourceUpdated="True" ValidatesOnDataErrors="True" NotifyOnValidationError="True" Path="Text" UpdateSourceTrigger="PropertyChanged" ElementName="mdTextBox34" />
              <av:Binding NotifyOnSourceUpdated="True" ValidatesOnDataErrors="True" NotifyOnValidationError="True" Path="Text" UpdateSourceTrigger="PropertyChanged" ElementName="mdTextBox15" />
              <av:Binding NotifyOnSourceUpdated="True" ValidatesOnDataErrors="True" NotifyOnValidationError="True" Path="Text" UpdateSourceTrigger="PropertyChanged" ElementName="mdTextBox25" />
              <av:Binding NotifyOnSourceUpdated="True" ValidatesOnDataErrors="True" NotifyOnValidationError="True" Path="Text" UpdateSourceTrigger="PropertyChanged" ElementName="mdTextBox16" />
              <av:Binding NotifyOnSourceUpdated="True" ValidatesOnDataErrors="True" NotifyOnValidationError="True" Path="Text" UpdateSourceTrigger="PropertyChanged" ElementName="mdTextBox17" />
              <av:Binding NotifyOnSourceUpdated="True" ValidatesOnDataErrors="True" NotifyOnValidationError="True" Path="Text" UpdateSourceTrigger="PropertyChanged" ElementName="mdTextBox18" />
              <av:Binding NotifyOnSourceUpdated="True" ValidatesOnDataErrors="True" NotifyOnValidationError="True" Path="Text" UpdateSourceTrigger="PropertyChanged" ElementName="mdTextBox32" />
              <av:Binding NotifyOnSourceUpdated="True" ValidatesOnDataErrors="True" NotifyOnValidationError="True" Path="Text" UpdateSourceTrigger="PropertyChanged" ElementName="mdTextBox19" />
              <av:Binding NotifyOnSourceUpdated="True" ValidatesOnDataErrors="True" NotifyOnValidationError="True" Path="Text" UpdateSourceTrigger="PropertyChanged" ElementName="mdTextBox27" />
              <av:Binding NotifyOnSourceUpdated="True" ValidatesOnDataErrors="True" NotifyOnValidationError="True" Path="Text" UpdateSourceTrigger="PropertyChanged" ElementName="mdTextBox28" />
            </av:MultiBinding>
          </inbismdcfc:MDFormula.FormulaCalculatedValue>
          <inbismdcfc:MDFormula.RuntimeIsEnabled>
            <av:MultiBinding Mode="TwoWay" UpdateSourceTrigger="Default" NotifyOnSourceUpdated="True" NotifyOnValidationError="True" ValidatesOnDataErrors="True">
              <av:MultiBinding.Converter>
                <inbismdc:MDFormulaExpressionConverter />
              </av:MultiBinding.Converter>
              <av:MultiBinding.ConverterParameter>
                <inbismdm:ExpressionData Expression="1==2" StringFormat="{x:Null}" InverseResult="False" VariableTypes="" VariableNames="" />
              </av:MultiBinding.ConverterParameter>
              <av:MultiBinding.TargetNullValue>
                <s:Boolean>False</s:Boolean>
              </av:MultiBinding.TargetNullValue>
            </av:MultiBinding>
          </inbismdcfc:MDFormula.RuntimeIsEnabled>
          <inbismdcfc:MDFormula.IsEnabled>
            <av:MultiBinding Mode="TwoWay" UpdateSourceTrigger="Default" NotifyOnSourceUpdated="True" NotifyOnValidationError="True" ValidatesOnDataErrors="True">
              <av:MultiBinding.Converter>
                <inbismdc:MDFormulaExpressionConverter />
              </av:MultiBinding.Converter>
              <av:MultiBinding.ConverterParameter>
                <inbismdm:ExpressionData Expression="1==2" StringFormat="{x:Null}" InverseResult="False" VariableTypes="" VariableNames="" />
              </av:MultiBinding.ConverterParameter>
              <av:MultiBinding.TargetNullValue>
                <s:Boolean>False</s:Boolean>
              </av:MultiBinding.TargetNullValue>
            </av:MultiBinding>
          </inbismdcfc:MDFormula.IsEnabled>
        </inbismdcfc:MDFormula>
        <MDGridView IsEmpty="True" CalculatedValue="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdControlCollection1.Value, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" CalculatedValueDescription="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdControlCollection1.ValueDescription, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" LabelShowInNewRow="True" LabelControlName="mdLbl53" LabelForPrint="Vitalni znakovi" Name="mdControlCollection1" Tag="{x:Null}" MinHeight="10" ContextMenu="{x:Null}" IsEnabled="True" Focusable="True" ItemsSource="{av:Binding Path=Model.mdControlCollection1.Items}" SelectedItem="{x:Null}" av:Grid.Column="1" av:Grid.Row="8" av:Grid.ColumnSpan="4" av:Grid.RowSpan="1">
          <MDGridView.View>
            <av:GridView>
              <av:GridViewColumn DisplayMemberBinding="{x:Null}">
                <av:GridViewColumn.CellTemplate>
                  <av:DataTemplate>
                    <MDDateTimePicker Required="True" DefaultValue="True" FormulaExpressionEvaluateOneTime="False" FieldTitle="{x:Null}" ErrorLoadingNode="False" TabIndex="0" Name="mdControlCollection1_MDDateTimePicker1" Width="165" HorizontalAlignment="Stretch">
                      <MDDateTimePicker.SelectedDate>
                        <av:Binding ValidatesOnDataErrors="True" NotifyOnValidationError="True" Path="mdControlCollection1_MDDateTimePicker1.Value" Mode="TwoWay" UpdateSourceTrigger="PropertyChanged">
                          <av:Binding.Converter>
                            <inbismdc:DatePickerConverter />
                          </av:Binding.Converter>
                          <av:Binding.ValidationRules>
                            <inbismdvc:RequiredDatePickerValidate ValidationStep="RawProposedValue" ValidatesOnTargetUpdated="True" />
                          </av:Binding.ValidationRules>
                        </av:Binding>
                      </MDDateTimePicker.SelectedDate>
                    </MDDateTimePicker>
                  </av:DataTemplate>
                </av:GridViewColumn.CellTemplate>Datum i vr.</av:GridViewColumn>
              <av:GridViewColumn DisplayMemberBinding="{x:Null}">
                <av:GridViewColumn.CellTemplate>
                  <av:DataTemplate>
                    <MDTextBox IsCheckShortText="False" FormulaExpressionEvaluateOneTime="False" ErrorLoadingNode="False" TextBoxWidth="50" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=mdControlCollection1_MDTextBox1.Value, UpdateSourceTrigger=PropertyChanged}" VerticalScrollBarVisibility="Auto" TabIndex="0" Name="mdControlCollection1_MDTextBox1" Width="50" HorizontalAlignment="Stretch" av:SpellCheck.IsEnabled="True" />
                  </av:DataTemplate>
                </av:GridViewColumn.CellTemplate>RR</av:GridViewColumn>
              <av:GridViewColumn DisplayMemberBinding="{x:Null}">
                <av:GridViewColumn.CellTemplate>
                  <av:DataTemplate>
                    <MDTextBox FormulaExpressionEvaluateOneTime="False" ErrorLoadingNode="False" TextBoxWidth="40" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=mdControlCollection1_MDTextBox2.Value, UpdateSourceTrigger=PropertyChanged}" VerticalScrollBarVisibility="Auto" TabIndex="0" Name="mdControlCollection1_MDTextBox2" Width="40" MinWidth="35" MinHeight="23" HorizontalAlignment="Stretch" av:SpellCheck.IsEnabled="True" />
                  </av:DataTemplate>
                </av:GridViewColumn.CellTemplate>Puls</av:GridViewColumn>
              <av:GridViewColumn DisplayMemberBinding="{x:Null}">
                <av:GridViewColumn.CellTemplate>
                  <av:DataTemplate>
                    <MDTextBox FormulaExpressionEvaluateOneTime="False" ErrorLoadingNode="False" TextBoxWidth="40" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=mdControlCollection1_MDTextBox3.Value, UpdateSourceTrigger=PropertyChanged}" VerticalScrollBarVisibility="Auto" TabIndex="0" Name="mdControlCollection1_MDTextBox3" Width="40" HorizontalAlignment="Stretch" av:SpellCheck.IsEnabled="True" />
                  </av:DataTemplate>
                </av:GridViewColumn.CellTemplate>SpO2</av:GridViewColumn>
              <av:GridViewColumn DisplayMemberBinding="{x:Null}">
                <av:GridViewColumn.CellTemplate>
                  <av:DataTemplate>
                    <MDTextBox FormulaExpressionEvaluateOneTime="False" ErrorLoadingNode="False" TextBoxWidth="40" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=mdControlCollection1_MDTextBox4.Value, UpdateSourceTrigger=PropertyChanged}" VerticalScrollBarVisibility="Auto" TabIndex="0" Name="mdControlCollection1_MDTextBox4" Width="40" HorizontalAlignment="Stretch" av:SpellCheck.IsEnabled="True" />
                  </av:DataTemplate>
                </av:GridViewColumn.CellTemplate>Resp</av:GridViewColumn>
              <av:GridViewColumn DisplayMemberBinding="{x:Null}">
                <av:GridViewColumn.CellTemplate>
                  <av:DataTemplate>
                    <MDTextBox FormulaExpressionEvaluateOneTime="False" ErrorLoadingNode="False" TextBoxWidth="40" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=mdControlCollection1_MDTextBox5.Value, UpdateSourceTrigger=PropertyChanged}" VerticalScrollBarVisibility="Auto" TabIndex="0" Name="mdControlCollection1_MDTextBox5" Width="40" MinWidth="40" HorizontalAlignment="Stretch" av:SpellCheck.IsEnabled="True" />
                  </av:DataTemplate>
                </av:GridViewColumn.CellTemplate>Tax</av:GridViewColumn>
              <av:GridViewColumn DisplayMemberBinding="{x:Null}">
                <av:GridViewColumn.CellTemplate>
                  <av:DataTemplate>
                    <MDTextBox FormulaExpressionEvaluateOneTime="False" ErrorLoadingNode="False" TextBoxWidth="40" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=mdControlCollection1_MDTextBox6.Value, UpdateSourceTrigger=PropertyChanged}" VerticalScrollBarVisibility="Auto" TabIndex="0" Name="mdControlCollection1_MDTextBox6" Width="40" HorizontalAlignment="Stretch" av:SpellCheck.IsEnabled="True" />
                  </av:DataTemplate>
                </av:GridViewColumn.CellTemplate>Trect</av:GridViewColumn>
              <av:GridViewColumn DisplayMemberBinding="{x:Null}">
                <av:GridViewColumn.CellTemplate>
                  <av:DataTemplate>
                    <MDTextBox FormulaExpressionEvaluateOneTime="False" ErrorLoadingNode="False" TextBoxWidth="40" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=mdControlCollection1_MDTextBox7.Value, UpdateSourceTrigger=PropertyChanged}" VerticalScrollBarVisibility="Auto" TabIndex="0" Name="mdControlCollection1_MDTextBox7" Width="40" HorizontalAlignment="Stretch" av:SpellCheck.IsEnabled="True" />
                  </av:DataTemplate>
                </av:GridViewColumn.CellTemplate>GUK</av:GridViewColumn>
              <av:GridViewColumn DisplayMemberBinding="{x:Null}">
                <av:GridViewColumn.CellTemplate>
                  <av:DataTemplate>
                    <MDTextBox FormulaExpressionEvaluateOneTime="False" ErrorLoadingNode="False" TextBoxWidth="40" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=mdControlCollection1_MDTextBox8.Value, UpdateSourceTrigger=PropertyChanged}" VerticalScrollBarVisibility="Auto" TabIndex="0" Name="mdControlCollection1_MDTextBox8" Width="40" HorizontalAlignment="Stretch" av:SpellCheck.IsEnabled="True" />
                  </av:DataTemplate>
                </av:GridViewColumn.CellTemplate>VAS</av:GridViewColumn>
              <av:GridViewColumn DisplayMemberBinding="{x:Null}">
                <av:GridViewColumn.CellTemplate>
                  <av:DataTemplate>
                    <MDTextBox FormulaExpressionEvaluateOneTime="False" ErrorLoadingNode="False" TextBoxWidth="40" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=mdControlCollection1_MDTextBox9.Value, UpdateSourceTrigger=PropertyChanged}" VerticalScrollBarVisibility="Auto" TabIndex="0" Name="mdControlCollection1_MDTextBox9" Width="40" HorizontalAlignment="Stretch" av:SpellCheck.IsEnabled="True" />
                  </av:DataTemplate>
                </av:GridViewColumn.CellTemplate>GCS</av:GridViewColumn>
              <av:GridViewColumn DisplayMemberBinding="{x:Null}">
                <av:GridViewColumn.CellTemplate>
                  <av:DataTemplate>
                    <MDTextBox FormulaExpressionEvaluateOneTime="False" ErrorLoadingNode="False" TextBoxWidth="40" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=mdControlCollection1_MDTextBox10.Value, UpdateSourceTrigger=PropertyChanged}" VerticalScrollBarVisibility="Auto" TabIndex="0" Name="mdControlCollection1_MDTextBox10" Width="40" HorizontalAlignment="Stretch" av:SpellCheck.IsEnabled="True" />
                  </av:DataTemplate>
                </av:GridViewColumn.CellTemplate>AVPU</av:GridViewColumn>
            </av:GridView>
          </MDGridView.View>
        </MDGridView>
        <MDDropElement AllowDrop="True" av:Grid.Column="3" av:Grid.Row="5" />
        <MDDropElement AllowDrop="True" av:Grid.Column="4" av:Grid.Row="5" />
        <MDTextBlock Text="Podaci s trijaže" FontWeight="Bold" Name="mdLbl52" Tag="{x:Null}" VerticalAlignment="Center" IsEnabled="True" av:Grid.Column="1" av:Grid.Row="5" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
        <MDDropElement AllowDrop="True" av:Grid.Column="2" av:Grid.Row="7" />
        <MDDropElement AllowDrop="True" av:Grid.Column="3" av:Grid.Row="7" />
        <MDDropElement AllowDrop="True" av:Grid.Column="4" av:Grid.Row="7" />
        <MDTextBlock Text="Vitalni znakovi" FontWeight="Bold" Name="mdLbl53" Tag="{x:Null}" VerticalAlignment="Center" IsEnabled="True" av:Grid.Column="1" av:Grid.Row="7" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" />
        <MDTextBox IsEmpty="True" DefaultValue="{x:Null}" FormulaExpressionEvaluateOneTime="False" LabelForPrint="Podaci s trijaže" LabelControlName="mdLbl52" ErrorLoadingNode="False" TextBoxWidth="75" Text="{av:Binding ValidatesOnDataErrors=True, NotifyOnValidationError=True, Path=Model.mdTextBox34.Value, UpdateSourceTrigger=PropertyChanged}" VerticalScrollBarVisibility="Auto" Name="mdTextBox34" Tag="{x:Null}" Width="75" Visibility="Hidden" IsEnabled="True" av:Grid.Column="2" av:Grid.Row="5" av:Grid.ColumnSpan="1" av:Grid.RowSpan="1" av:SpellCheck.IsEnabled="True" assembly:TextBoxHelper.HasText="False" />
      </MDGridControl>
    </MDAdornerDecorator>
  </MDTabItem>
</MDTabControl>'
--dokument  
    IF(EXISTS(SELECT 1 FROM MD_Document WHERE Code = '1334'))
    BEGIN 
        SET @Code = (SELECT CONVERT(varchar(10),ISNULL(MAX(ID)+1,1)) from MD_Document) 
        IF(EXISTS(SELECT 1 FROM MD_Document WHERE Code = @Code))
        BEGIN 
            SET @Code = (SELECT CONVERT(VARCHAR(10), ISNULL(MAX(CONVERT(INT, Code)) + 1, 1)) FROM MD_Document WHERE ISNUMERIC(Code) = 1) 
        END 
    END 
    ELSE BEGIN 
        SET @Code = (SELECT CONVERT(varchar(10),ISNULL(MAX(ID)+1,1)) from MD_Document) 
        IF(EXISTS(SELECT 1 FROM MD_Document WHERE Code = @Code))
        BEGIN 
            SET @Code = (SELECT CONVERT(VARCHAR(10), ISNULL(MAX(CONVERT(INT, Code)) + 1, 1)) FROM MD_Document WHERE ISNUMERIC(Code) = 1) 
        END 
    END 
    INSERT INTO [dbo].[MD_Document] ([Name], [FormXAML], [MD_DocumentTypeID], [UserInsert], [DateInsert], [UserUpdate], [DateUpdate], [Code], [IsLocked], [ValidationOff], [MinWidth], [MinHeight], [Bill], [IsActive], [DontSendToCezih], [ImportDiagnosisType], [ImportLastDiagnosesSettings], [SendForBilling], [ConcatenatedPrint], [ImportDocumentSettings], [DisableAutoImport], [DocumentFormOnly], [OnlyOriginalDoctorCanChange],[SendToExternalHis],[SendToOIS], [MD_DocumentSubTypeID], [EnableFileImport], [AttachmentFolderPath], [SendToFhirCezih])SELECT 'Nalaz hitne +',@xaml,5,1,getdate(),NULL,NULL,@Code,'False','False',NULL,NULL,'False','True','False',2,NULL,'False','False',0,'True','True','False','True','False',NULL,'False','','False'
    SELECT @MD_Document_ID = SCOPE_IDENTITY() 
    INSERT INTO [dbo].[MD_DocumentXaml]([Xaml], [MD_DocumentID], [DateFrom]) VALUES(@xaml, @MD_Document_ID, GETDATE()) 


--kontrole  
--deaktiviramo sve kontrole  
UPDATE dc 
     SET dc.Active=0 
from MD_DocumentControl dc 
 INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID 

--mdDate0
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdDate0'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=6, Label='', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName=NULL,[DefaultValue]=ISNULL(CONVERT(varchar(30),@RtftPartID),'True'),LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '4',RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName],[DefaultValue], [LabelBold], [DataBold], [MD_DocumentControlDataType], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 6,'mdDate0','',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', NULL,ISNULL(CONVERT(varchar(30),@RtftPartID),'True'), 'False' , 'False' ,'4', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdLookup1
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdLookup1'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=8, Label='Liječnik:', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl9',LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= '6',MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [DoctorPermissionCode], [MD_DocumentControlDataType], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 8,'mdLookup1','Liječnik:',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', 'mdLbl9', 'False' , 'False' ,'6','22', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdDijagnoze0
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdDijagnoze0'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=16, Label='Vrijeme posjete:', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl13',LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= NULL,RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 16,'mdDijagnoze0','Vrijeme posjete:',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','True',0,0,'',' ','False', 'mdLbl13', 'False' , 'False' , NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdTextBox0_1
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdTextBox0_1'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName=NULL,LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= NULL,RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdTextBox0_1','',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', NULL, 'False' , 'False' , NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdTextBox2
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdTextBox2'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='Razlog dolaska', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl1',LabelBold= 'True' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= NULL,RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdTextBox2','Razlog dolaska',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','True',0,0,'',' ','False', 'mdLbl1', 'True' , 'False' , NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdTextBox3
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdTextBox3'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='Anamneza', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl2',LabelBold= 'True' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= NULL,RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdTextBox3','Anamneza',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','True',0,0,'',' ','False', 'mdLbl2', 'True' , 'False' , NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdTextBox4
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdTextBox4'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='Status', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl4',LabelBold= 'True' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= NULL,RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdTextBox4','Status',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','True',0,0,'',' ','False', 'mdLbl4', 'True' , 'False' , NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdTextBox7
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdTextBox7'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='Komentar:', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl19',LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= NULL,RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdTextBox7','Komentar:',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', 'mdLbl19', 'False' , 'False' , NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @ParentGroupID = NULL 
-- MD_GlobalControlGroup
IF NOT EXISTS(SELECT ID FROM MD_GlobalControlGroup WHERE CODE='Document') BEGIN 
    INSERT INTO MD_GlobalControlGroup(Code, Description, Name, ParentGroupID) VALUES('Document', 'Dokument', 'Dokument', @ParentGroupID) 
    SET @ParentGroupID = SCOPE_IDENTITY() 
END ELSE BEGIN
    UPDATE MD_GlobalControlGroup SET Description = 'Dokument',  Name = 'Dokument' WHERE code = 'Document' 
    SET @ParentGroupID = (SELECT ID FROM MD_GlobalControlGroup WHERE CODE='Document') 
END 
-- MD_GlobalControl
IF(NOT EXISTS(SELECT TOP 1 1 FROM MD_GlobalControl gc WHERE gc.Code = 'Document_Comment')) 
BEGIN 
    INSERT INTO MD_GlobalControl(Code, Name, Description, GlobalControlGroupID, DataSourceID, IsUserDefined, IsReadOnly, IsActive, TestData, DisplayFormat, DataTypeID, IsMultiSelect, RefControlTypeID) VALUES('Document_Comment', 'Komentar dokumenta', 'Komentar dokumenta', @ParentGroupID, 6, 0, 0, 1, 'Neki komentar u dokumentu', NULL ,22, 0, 1) 
END ELSE
BEGIN 
    UPDATE MD_GlobalControl SET Description = 'Komentar dokumenta', Name = 'Komentar dokumenta', GlobalControlGroupID = @ParentGroupID,  DataSourceID = 6, IsUserDefined = 0, IsReadOnly = 0, IsActive = 1, TestData = 'Neki komentar u dokumentu', DisplayFormat = NULL, DataTypeID = 22, IsMultiSelect = 0, RefControlTypeID = 1 WHERE Code = 'Document_Comment'  
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentControlDataSource where DocumentControlID=@MD_DocumentControl_ID) BEGIN 
    INSERT MD_DocumentControlDataSource ( DocumentControlID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, ControlParametar, ControlParametarRange, DisplayFormat )
    SELECT @MD_DocumentControl_ID, (SELECT ID FROM MD_GlobalControl WHERE CODE='Document_Comment'),1,2, 4, NULL, NULL, NULL
END ELSE BEGIN
    UPDATE MD_DocumentControlDataSource SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='Document_Comment'),RefControlTypeID= 1,ControlConnectionTypeID=2,ControlConnectionLevelID=4, ControlParametar=NULL, ControlParametarRange=NULL, DisplayFormat=NULL
    WHERE DocumentControlID=@MD_DocumentControl_ID
END 
SET @MD_DocumentControl_ID=NULL
--mdLookup2
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdLookup2'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=8, Label='Liječnik - mlađa služba:', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl20',LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= '14',MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [DoctorPermissionCode], [MD_DocumentControlDataType], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 8,'mdLookup2','Liječnik - mlađa služba:',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', 'mdLbl20', 'False' , 'False' ,'14','22', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdFormula0
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdFormula0'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=9, Label='Uputa izabranom  liječniku primarne zdravstvene zaštite', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName=NULL,LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= NULL,RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 9,'mdFormula0','Uputa izabranom  liječniku primarne zdravstvene zaštite',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','True',0,0,'',' ','False', NULL, 'False' , 'False' , NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdFormula1
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdFormula1'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=9, Label='RR:', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName=NULL,LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= NULL,RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 9,'mdFormula1','RR:',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','True',0,0,'',' ','False', NULL, 'False' , 'False' , NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdTextBox8
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdTextBox8'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='Transfuzijska terapija', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl12',LabelBold= 'True' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= NULL,RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdTextBox8','Transfuzijska terapija',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','True',0,0,'',' ','False', 'mdLbl12', 'True' , 'False' , NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdTextBox9
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdTextBox9'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='Dijagnostičke i konzilijarne pretrage', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl14',LabelBold= 'True' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= NULL,RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdTextBox9','Dijagnostičke i konzilijarne pretrage',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','True',0,0,'',' ','False', 'mdLbl14', 'True' , 'False' , NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdTextBox10
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdTextBox10'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='Terapija', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl21',LabelBold= 'True' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= NULL,RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdTextBox10','Terapija',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','True',0,0,'',' ','False', 'mdLbl21', 'True' , 'False' , NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdTextBox11
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdTextBox11'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='Predviđeni kontrolni pregled', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl16',LabelBold= 'True' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= NULL,RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdTextBox11','Predviđeni kontrolni pregled',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','True',0,0,'',' ','False', 'mdLbl16', 'True' , 'False' , NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdTextBox12
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdTextBox12'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='Uputa izabranom  liječniku primarne zdravstvene zaštite', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl17',LabelBold= 'True' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= NULL,RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdTextBox12','Uputa izabranom  liječniku primarne zdravstvene zaštite',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','True',0,0,'',' ','False', 'mdLbl17', 'True' , 'False' , NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdTextBox13
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdTextBox13'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='Ostale preporuke i napomene (npr.prehrana, palijativna skrb i dr)', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl18',LabelBold= 'True' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= NULL,RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdTextBox13','Ostale preporuke i napomene (npr.prehrana, palijativna skrb i dr)',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','True',0,0,'',' ','False', 'mdLbl18', 'True' , 'False' , NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdTextBox14
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdTextBox14'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='Zaključak', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl15',LabelBold= 'True' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= NULL,RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdTextBox14','Zaključak',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','True',0,0,'',' ','False', 'mdLbl15', 'True' , 'False' , NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdDateTime1
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdDateTime1'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=12, Label='Početak pregleda', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl22',[DefaultValue]=ISNULL(CONVERT(varchar(30),@RtftPartID),'True'),LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '4',RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName],[DefaultValue], [LabelBold], [DataBold], [MD_DocumentControlDataType], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 12,'mdDateTime1','Početak pregleda',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', 'mdLbl22',ISNULL(CONVERT(varchar(30),@RtftPartID),'True'), 'False' , 'False' ,'4', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @ParentGroupID = NULL 
-- MD_GlobalControlGroup
IF NOT EXISTS(SELECT ID FROM MD_GlobalControlGroup WHERE CODE='Admission') BEGIN 
    INSERT INTO MD_GlobalControlGroup(Code, Description, Name, ParentGroupID) VALUES('Admission', 'Prijem', 'Prijem', @ParentGroupID) 
    SET @ParentGroupID = SCOPE_IDENTITY() 
END ELSE BEGIN
    UPDATE MD_GlobalControlGroup SET Description = 'Prijem',  Name = 'Prijem' WHERE code = 'Admission' 
    SET @ParentGroupID = (SELECT ID FROM MD_GlobalControlGroup WHERE CODE='Admission') 
END 
-- MD_GlobalControlGroup
IF NOT EXISTS(SELECT ID FROM MD_GlobalControlGroup WHERE CODE='AdmissionOutPatient') BEGIN 
    INSERT INTO MD_GlobalControlGroup(Code, Description, Name, ParentGroupID) VALUES('AdmissionOutPatient', 'Poliklinika', 'Poliklinika', @ParentGroupID) 
    SET @ParentGroupID = SCOPE_IDENTITY() 
END ELSE BEGIN
    UPDATE MD_GlobalControlGroup SET Description = 'Poliklinika',  Name = 'Poliklinika' WHERE code = 'AdmissionOutPatient' 
    SET @ParentGroupID = (SELECT ID FROM MD_GlobalControlGroup WHERE CODE='AdmissionOutPatient') 
END 
-- MD_GlobalControl
IF(NOT EXISTS(SELECT TOP 1 1 FROM MD_GlobalControl gc WHERE gc.Code = 'AdmissionOutPatientExamination_DateTime')) 
BEGIN 
    INSERT INTO MD_GlobalControl(Code, Name, Description, GlobalControlGroupID, DataSourceID, IsUserDefined, IsReadOnly, IsActive, TestData, DisplayFormat, DataTypeID, IsMultiSelect, RefControlTypeID) VALUES('AdmissionOutPatientExamination_DateTime', 'Datum i vrijeme pregleda na poliklinici', 'Datum i vrijeme pregleda na poliklinici', @ParentGroupID, 3, 0, 0, 1, '03.02.2015 12:12', 'DD.MM.YYYY HH:mm' ,4, 0, 1) 
END ELSE
BEGIN 
    UPDATE MD_GlobalControl SET Description = 'Datum i vrijeme pregleda na poliklinici', Name = 'Datum i vrijeme pregleda na poliklinici', GlobalControlGroupID = @ParentGroupID,  DataSourceID = 3, IsUserDefined = 0, IsReadOnly = 0, IsActive = 1, TestData = '03.02.2015 12:12', DisplayFormat = 'DD.MM.YYYY HH:mm', DataTypeID = 4, IsMultiSelect = 0, RefControlTypeID = 1 WHERE Code = 'AdmissionOutPatientExamination_DateTime'  
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentControlDataSource where DocumentControlID=@MD_DocumentControl_ID) BEGIN 
    INSERT MD_DocumentControlDataSource ( DocumentControlID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, ControlParametar, ControlParametarRange, DisplayFormat )
    SELECT @MD_DocumentControl_ID, (SELECT ID FROM MD_GlobalControl WHERE CODE='AdmissionOutPatientExamination_DateTime'),1,2, 2, NULL, NULL, 'DD.MM.YYYY HH:mm'
END ELSE BEGIN
    UPDATE MD_DocumentControlDataSource SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='AdmissionOutPatientExamination_DateTime'),RefControlTypeID= 1,ControlConnectionTypeID=2,ControlConnectionLevelID=2, ControlParametar=NULL, ControlParametarRange=NULL, DisplayFormat='DD.MM.YYYY HH:mm'
    WHERE DocumentControlID=@MD_DocumentControl_ID
END 
SET @MD_DocumentControl_ID=NULL
--dijagnostika_kolonoskopija
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='dijagnostika_kolonoskopija'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName=NULL,LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'dijagnostika_kolonoskopija','',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', NULL, 'False' , 'False' ,'22', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @ParentGroupID = NULL 
-- MD_GlobalControlGroup
IF NOT EXISTS(SELECT ID FROM MD_GlobalControlGroup WHERE CODE='Admission') BEGIN 
    INSERT INTO MD_GlobalControlGroup(Code, Description, Name, ParentGroupID) VALUES('Admission', 'Prijem', 'Prijem', @ParentGroupID) 
    SET @ParentGroupID = SCOPE_IDENTITY() 
END ELSE BEGIN
    UPDATE MD_GlobalControlGroup SET Description = 'Prijem',  Name = 'Prijem' WHERE code = 'Admission' 
    SET @ParentGroupID = (SELECT ID FROM MD_GlobalControlGroup WHERE CODE='Admission') 
END 
-- MD_GlobalControl
IF(NOT EXISTS(SELECT TOP 1 1 FROM MD_GlobalControl gc WHERE gc.Code = 'dijagnostika_kolonoskopija')) 
BEGIN 
    INSERT INTO MD_GlobalControl(Code, Name, Description, GlobalControlGroupID, DataSourceID, IsUserDefined, IsReadOnly, IsActive, TestData, DisplayFormat, DataTypeID, IsMultiSelect, RefControlTypeID) VALUES('dijagnostika_kolonoskopija', 'dijagnostika_kolonoskopija', '', @ParentGroupID, 7, 1, 1, 1, 'dijagnostika_kolonoskopija', NULL ,22, 0, 2) 
END ELSE
BEGIN 
    UPDATE MD_GlobalControl SET Description = '', Name = 'dijagnostika_kolonoskopija', GlobalControlGroupID = @ParentGroupID,  DataSourceID = 7, IsUserDefined = 1, IsReadOnly = 1, IsActive = 1, TestData = 'dijagnostika_kolonoskopija', DisplayFormat = NULL, DataTypeID = 22, IsMultiSelect = 0, RefControlTypeID = 2 WHERE Code = 'dijagnostika_kolonoskopija'  
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentControlDataSource where DocumentControlID=@MD_DocumentControl_ID) BEGIN 
    INSERT MD_DocumentControlDataSource ( DocumentControlID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, ControlParametar, ControlParametarRange, DisplayFormat )
    SELECT @MD_DocumentControl_ID, (SELECT ID FROM MD_GlobalControl WHERE CODE='dijagnostika_kolonoskopija'),2,1, 1, NULL, NULL, NULL
END ELSE BEGIN
    UPDATE MD_DocumentControlDataSource SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='dijagnostika_kolonoskopija'),RefControlTypeID= 2,ControlConnectionTypeID=1,ControlConnectionLevelID=1, ControlParametar=NULL, ControlParametarRange=NULL, DisplayFormat=NULL
    WHERE DocumentControlID=@MD_DocumentControl_ID
END 
SET @MD_DocumentControl_ID=NULL
--dijagnostika_uzvabdomena
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='dijagnostika_uzvabdomena'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName=NULL,LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'dijagnostika_uzvabdomena','',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', NULL, 'False' , 'False' ,'22', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @ParentGroupID = NULL 
-- MD_GlobalControlGroup
IF NOT EXISTS(SELECT ID FROM MD_GlobalControlGroup WHERE CODE='Admission') BEGIN 
    INSERT INTO MD_GlobalControlGroup(Code, Description, Name, ParentGroupID) VALUES('Admission', 'Prijem', 'Prijem', @ParentGroupID) 
    SET @ParentGroupID = SCOPE_IDENTITY() 
END ELSE BEGIN
    UPDATE MD_GlobalControlGroup SET Description = 'Prijem',  Name = 'Prijem' WHERE code = 'Admission' 
    SET @ParentGroupID = (SELECT ID FROM MD_GlobalControlGroup WHERE CODE='Admission') 
END 
-- MD_GlobalControl
IF(NOT EXISTS(SELECT TOP 1 1 FROM MD_GlobalControl gc WHERE gc.Code = 'dijagnostika_uzvabdomena')) 
BEGIN 
    INSERT INTO MD_GlobalControl(Code, Name, Description, GlobalControlGroupID, DataSourceID, IsUserDefined, IsReadOnly, IsActive, TestData, DisplayFormat, DataTypeID, IsMultiSelect, RefControlTypeID) VALUES('dijagnostika_uzvabdomena', 'dijagnostika_uzvabdomena', 'dijagnostika_uzvabdomena', @ParentGroupID, 7, 1, 0, 1, 'dijagnostika_uzvabdomena', NULL ,22, 0, 2) 
END ELSE
BEGIN 
    UPDATE MD_GlobalControl SET Description = 'dijagnostika_uzvabdomena', Name = 'dijagnostika_uzvabdomena', GlobalControlGroupID = @ParentGroupID,  DataSourceID = 7, IsUserDefined = 1, IsReadOnly = 0, IsActive = 1, TestData = 'dijagnostika_uzvabdomena', DisplayFormat = NULL, DataTypeID = 22, IsMultiSelect = 0, RefControlTypeID = 2 WHERE Code = 'dijagnostika_uzvabdomena'  
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentControlDataSource where DocumentControlID=@MD_DocumentControl_ID) BEGIN 
    INSERT MD_DocumentControlDataSource ( DocumentControlID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, ControlParametar, ControlParametarRange, DisplayFormat )
    SELECT @MD_DocumentControl_ID, (SELECT ID FROM MD_GlobalControl WHERE CODE='dijagnostika_uzvabdomena'),2,1, 1, NULL, NULL, NULL
END ELSE BEGIN
    UPDATE MD_DocumentControlDataSource SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='dijagnostika_uzvabdomena'),RefControlTypeID= 2,ControlConnectionTypeID=1,ControlConnectionLevelID=1, ControlParametar=NULL, ControlParametarRange=NULL, DisplayFormat=NULL
    WHERE DocumentControlID=@MD_DocumentControl_ID
END 
SET @MD_DocumentControl_ID=NULL
--mdTextBox15
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdTextBox15'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='RR:', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='True', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl24',LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= 'mmHG',PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], [ShortTooltip], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdTextBox15','RR:',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'True','False',0,0,'',' ','False', 'mdLbl24', 'False' , 'False' ,'22','mmHG', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @ParentGroupID = NULL 
-- MD_GlobalControlGroup
IF NOT EXISTS(SELECT ID FROM MD_GlobalControlGroup WHERE CODE='Admission') BEGIN 
    INSERT INTO MD_GlobalControlGroup(Code, Description, Name, ParentGroupID) VALUES('Admission', 'Prijem', 'Prijem', @ParentGroupID) 
    SET @ParentGroupID = SCOPE_IDENTITY() 
END ELSE BEGIN
    UPDATE MD_GlobalControlGroup SET Description = 'Prijem',  Name = 'Prijem' WHERE code = 'Admission' 
    SET @ParentGroupID = (SELECT ID FROM MD_GlobalControlGroup WHERE CODE='Admission') 
END 
-- MD_GlobalControl
IF(NOT EXISTS(SELECT TOP 1 1 FROM MD_GlobalControl gc WHERE gc.Code = 'test_rr')) 
BEGIN 
    INSERT INTO MD_GlobalControl(Code, Name, Description, GlobalControlGroupID, DataSourceID, IsUserDefined, IsReadOnly, IsActive, TestData, DisplayFormat, DataTypeID, IsMultiSelect, RefControlTypeID) VALUES('test_rr', 'test_rr', 'test_rr', @ParentGroupID, 7, 1, 1, 1, 'test_rr', NULL ,22, 0, 2) 
END ELSE
BEGIN 
    UPDATE MD_GlobalControl SET Description = 'test_rr', Name = 'test_rr', GlobalControlGroupID = @ParentGroupID,  DataSourceID = 7, IsUserDefined = 1, IsReadOnly = 1, IsActive = 1, TestData = 'test_rr', DisplayFormat = NULL, DataTypeID = 22, IsMultiSelect = 0, RefControlTypeID = 2 WHERE Code = 'test_rr'  
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentControlDataSource where DocumentControlID=@MD_DocumentControl_ID) BEGIN 
    INSERT MD_DocumentControlDataSource ( DocumentControlID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, ControlParametar, ControlParametarRange, DisplayFormat )
    SELECT @MD_DocumentControl_ID, (SELECT ID FROM MD_GlobalControl WHERE CODE='test_rr'),2,1, 2, NULL, NULL, NULL
END ELSE BEGIN
    UPDATE MD_DocumentControlDataSource SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='test_rr'),RefControlTypeID= 2,ControlConnectionTypeID=1,ControlConnectionLevelID=2, ControlParametar=NULL, ControlParametarRange=NULL, DisplayFormat=NULL
    WHERE DocumentControlID=@MD_DocumentControl_ID
END 
SET @MD_DocumentControl_ID=NULL
--mdTextBox16
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdTextBox16'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='SpO2:', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='True', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl23',LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= '%',PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], [ShortTooltip], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdTextBox16','SpO2:',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'True','False',0,0,'',' ','False', 'mdLbl23', 'False' , 'False' ,'22','%', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @ParentGroupID = NULL 
-- MD_GlobalControlGroup
IF NOT EXISTS(SELECT ID FROM MD_GlobalControlGroup WHERE CODE='Admission') BEGIN 
    INSERT INTO MD_GlobalControlGroup(Code, Description, Name, ParentGroupID) VALUES('Admission', 'Prijem', 'Prijem', @ParentGroupID) 
    SET @ParentGroupID = SCOPE_IDENTITY() 
END ELSE BEGIN
    UPDATE MD_GlobalControlGroup SET Description = 'Prijem',  Name = 'Prijem' WHERE code = 'Admission' 
    SET @ParentGroupID = (SELECT ID FROM MD_GlobalControlGroup WHERE CODE='Admission') 
END 
-- MD_GlobalControl
IF(NOT EXISTS(SELECT TOP 1 1 FROM MD_GlobalControl gc WHERE gc.Code = 'test_sp02')) 
BEGIN 
    INSERT INTO MD_GlobalControl(Code, Name, Description, GlobalControlGroupID, DataSourceID, IsUserDefined, IsReadOnly, IsActive, TestData, DisplayFormat, DataTypeID, IsMultiSelect, RefControlTypeID) VALUES('test_sp02', 'test_sp02', 'test_sp02', @ParentGroupID, 7, 1, 1, 1, 'test_sp02', NULL ,22, 0, 2) 
END ELSE
BEGIN 
    UPDATE MD_GlobalControl SET Description = 'test_sp02', Name = 'test_sp02', GlobalControlGroupID = @ParentGroupID,  DataSourceID = 7, IsUserDefined = 1, IsReadOnly = 1, IsActive = 1, TestData = 'test_sp02', DisplayFormat = NULL, DataTypeID = 22, IsMultiSelect = 0, RefControlTypeID = 2 WHERE Code = 'test_sp02'  
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentControlDataSource where DocumentControlID=@MD_DocumentControl_ID) BEGIN 
    INSERT MD_DocumentControlDataSource ( DocumentControlID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, ControlParametar, ControlParametarRange, DisplayFormat )
    SELECT @MD_DocumentControl_ID, (SELECT ID FROM MD_GlobalControl WHERE CODE='test_sp02'),2,1, 2, NULL, NULL, NULL
END ELSE BEGIN
    UPDATE MD_DocumentControlDataSource SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='test_sp02'),RefControlTypeID= 2,ControlConnectionTypeID=1,ControlConnectionLevelID=2, ControlParametar=NULL, ControlParametarRange=NULL, DisplayFormat=NULL
    WHERE DocumentControlID=@MD_DocumentControl_ID
END 
SET @MD_DocumentControl_ID=NULL
--mdCombo1
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdCombo1'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=2, Label='Način dolaska:', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl26',LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '8',RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 2,'mdCombo1','Način dolaska:',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', 'mdLbl26', 'False' , 'False' ,'8', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdTextBox17
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdTextBox17'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='Respiracije:', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='True', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl27',LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= '/min',PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], [ShortTooltip], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdTextBox17','Respiracije:',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'True','False',0,0,'',' ','False', 'mdLbl27', 'False' , 'False' ,'22','/min', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @ParentGroupID = NULL 
-- MD_GlobalControlGroup
IF NOT EXISTS(SELECT ID FROM MD_GlobalControlGroup WHERE CODE='Admission') BEGIN 
    INSERT INTO MD_GlobalControlGroup(Code, Description, Name, ParentGroupID) VALUES('Admission', 'Prijem', 'Prijem', @ParentGroupID) 
    SET @ParentGroupID = SCOPE_IDENTITY() 
END ELSE BEGIN
    UPDATE MD_GlobalControlGroup SET Description = 'Prijem',  Name = 'Prijem' WHERE code = 'Admission' 
    SET @ParentGroupID = (SELECT ID FROM MD_GlobalControlGroup WHERE CODE='Admission') 
END 
-- MD_GlobalControl
IF(NOT EXISTS(SELECT TOP 1 1 FROM MD_GlobalControl gc WHERE gc.Code = 'test_rf')) 
BEGIN 
    INSERT INTO MD_GlobalControl(Code, Name, Description, GlobalControlGroupID, DataSourceID, IsUserDefined, IsReadOnly, IsActive, TestData, DisplayFormat, DataTypeID, IsMultiSelect, RefControlTypeID) VALUES('test_rf', 'test_rf', 'test_rf', @ParentGroupID, 7, 1, 0, 1, 'test_rf', NULL ,22, 0, 2) 
END ELSE
BEGIN 
    UPDATE MD_GlobalControl SET Description = 'test_rf', Name = 'test_rf', GlobalControlGroupID = @ParentGroupID,  DataSourceID = 7, IsUserDefined = 1, IsReadOnly = 0, IsActive = 1, TestData = 'test_rf', DisplayFormat = NULL, DataTypeID = 22, IsMultiSelect = 0, RefControlTypeID = 2 WHERE Code = 'test_rf'  
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentControlDataSource where DocumentControlID=@MD_DocumentControl_ID) BEGIN 
    INSERT MD_DocumentControlDataSource ( DocumentControlID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, ControlParametar, ControlParametarRange, DisplayFormat )
    SELECT @MD_DocumentControl_ID, (SELECT ID FROM MD_GlobalControl WHERE CODE='test_rf'),2,1, 2, NULL, NULL, NULL
END ELSE BEGIN
    UPDATE MD_DocumentControlDataSource SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='test_rf'),RefControlTypeID= 2,ControlConnectionTypeID=1,ControlConnectionLevelID=2, ControlParametar=NULL, ControlParametarRange=NULL, DisplayFormat=NULL
    WHERE DocumentControlID=@MD_DocumentControl_ID
END 
SET @MD_DocumentControl_ID=NULL
--mdTextBox18
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdTextBox18'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='Tax:', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='True', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl28',LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= '°C',PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], [ShortTooltip], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdTextBox18','Tax:',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'True','False',0,0,'',' ','False', 'mdLbl28', 'False' , 'False' ,'22','°C', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @ParentGroupID = NULL 
-- MD_GlobalControlGroup
IF NOT EXISTS(SELECT ID FROM MD_GlobalControlGroup WHERE CODE='Admission') BEGIN 
    INSERT INTO MD_GlobalControlGroup(Code, Description, Name, ParentGroupID) VALUES('Admission', 'Prijem', 'Prijem', @ParentGroupID) 
    SET @ParentGroupID = SCOPE_IDENTITY() 
END ELSE BEGIN
    UPDATE MD_GlobalControlGroup SET Description = 'Prijem',  Name = 'Prijem' WHERE code = 'Admission' 
    SET @ParentGroupID = (SELECT ID FROM MD_GlobalControlGroup WHERE CODE='Admission') 
END 
-- MD_GlobalControl
IF(NOT EXISTS(SELECT TOP 1 1 FROM MD_GlobalControl gc WHERE gc.Code = 'test_tax')) 
BEGIN 
    INSERT INTO MD_GlobalControl(Code, Name, Description, GlobalControlGroupID, DataSourceID, IsUserDefined, IsReadOnly, IsActive, TestData, DisplayFormat, DataTypeID, IsMultiSelect, RefControlTypeID) VALUES('test_tax', 'test_tax', 'test_tax', @ParentGroupID, 7, 1, 0, 1, 'test_tax', NULL ,22, 0, 2) 
END ELSE
BEGIN 
    UPDATE MD_GlobalControl SET Description = 'test_tax', Name = 'test_tax', GlobalControlGroupID = @ParentGroupID,  DataSourceID = 7, IsUserDefined = 1, IsReadOnly = 0, IsActive = 1, TestData = 'test_tax', DisplayFormat = NULL, DataTypeID = 22, IsMultiSelect = 0, RefControlTypeID = 2 WHERE Code = 'test_tax'  
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentControlDataSource where DocumentControlID=@MD_DocumentControl_ID) BEGIN 
    INSERT MD_DocumentControlDataSource ( DocumentControlID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, ControlParametar, ControlParametarRange, DisplayFormat )
    SELECT @MD_DocumentControl_ID, (SELECT ID FROM MD_GlobalControl WHERE CODE='test_tax'),2,1, 2, NULL, NULL, NULL
END ELSE BEGIN
    UPDATE MD_DocumentControlDataSource SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='test_tax'),RefControlTypeID= 2,ControlConnectionTypeID=1,ControlConnectionLevelID=2, ControlParametar=NULL, ControlParametarRange=NULL, DisplayFormat=NULL
    WHERE DocumentControlID=@MD_DocumentControl_ID
END 
SET @MD_DocumentControl_ID=NULL
--mdTextBox19
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdTextBox19'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='VAS:', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='True', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl29',LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdTextBox19','VAS:',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'True','False',0,0,'',' ','False', 'mdLbl29', 'False' , 'False' ,'22', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @ParentGroupID = NULL 
-- MD_GlobalControlGroup
IF NOT EXISTS(SELECT ID FROM MD_GlobalControlGroup WHERE CODE='Admission') BEGIN 
    INSERT INTO MD_GlobalControlGroup(Code, Description, Name, ParentGroupID) VALUES('Admission', 'Prijem', 'Prijem', @ParentGroupID) 
    SET @ParentGroupID = SCOPE_IDENTITY() 
END ELSE BEGIN
    UPDATE MD_GlobalControlGroup SET Description = 'Prijem',  Name = 'Prijem' WHERE code = 'Admission' 
    SET @ParentGroupID = (SELECT ID FROM MD_GlobalControlGroup WHERE CODE='Admission') 
END 
-- MD_GlobalControl
IF(NOT EXISTS(SELECT TOP 1 1 FROM MD_GlobalControl gc WHERE gc.Code = 'test_vas')) 
BEGIN 
    INSERT INTO MD_GlobalControl(Code, Name, Description, GlobalControlGroupID, DataSourceID, IsUserDefined, IsReadOnly, IsActive, TestData, DisplayFormat, DataTypeID, IsMultiSelect, RefControlTypeID) VALUES('test_vas', 'test_vas', 'test_vas', @ParentGroupID, 7, 1, 0, 1, 'test_vas', NULL ,22, 0, 2) 
END ELSE
BEGIN 
    UPDATE MD_GlobalControl SET Description = 'test_vas', Name = 'test_vas', GlobalControlGroupID = @ParentGroupID,  DataSourceID = 7, IsUserDefined = 1, IsReadOnly = 0, IsActive = 1, TestData = 'test_vas', DisplayFormat = NULL, DataTypeID = 22, IsMultiSelect = 0, RefControlTypeID = 2 WHERE Code = 'test_vas'  
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentControlDataSource where DocumentControlID=@MD_DocumentControl_ID) BEGIN 
    INSERT MD_DocumentControlDataSource ( DocumentControlID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, ControlParametar, ControlParametarRange, DisplayFormat )
    SELECT @MD_DocumentControl_ID, (SELECT ID FROM MD_GlobalControl WHERE CODE='test_vas'),2,1, 2, NULL, NULL, NULL
END ELSE BEGIN
    UPDATE MD_DocumentControlDataSource SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='test_vas'),RefControlTypeID= 2,ControlConnectionTypeID=1,ControlConnectionLevelID=2, ControlParametar=NULL, ControlParametarRange=NULL, DisplayFormat=NULL
    WHERE DocumentControlID=@MD_DocumentControl_ID
END 
SET @MD_DocumentControl_ID=NULL
--mdTextBox20
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdTextBox20'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='RR:', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl30',LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= 'mmHG',PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], [ShortTooltip], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdTextBox20','RR:',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', 'mdLbl30', 'False' , 'False' ,'22','mmHG', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdTextBox21
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdTextBox21'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='SpO2:', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl31',LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= '%',PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], [ShortTooltip], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdTextBox21','SpO2:',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', 'mdLbl31', 'False' , 'False' ,'22','%', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdTextBox22
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdTextBox22'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='Respiracije:', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl34',LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= '/min',PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], [ShortTooltip], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdTextBox22','Respiracije:',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', 'mdLbl34', 'False' , 'False' ,'22','/min', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdTextBox23
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdTextBox23'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='Tax:', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl35',LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= '°C',PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], [ShortTooltip], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdTextBox23','Tax:',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', 'mdLbl35', 'False' , 'False' ,'22','°C', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdTextBox24
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdTextBox24'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='VAS:', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl36',LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdTextBox24','VAS:',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', 'mdLbl36', 'False' , 'False' ,'22', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdTextBox25
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdTextBox25'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='Puls:', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='True', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl37',LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= '/min',PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], [ShortTooltip], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdTextBox25','Puls:',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'True','False',0,0,'',' ','False', 'mdLbl37', 'False' , 'False' ,'22','/min', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @ParentGroupID = NULL 
-- MD_GlobalControlGroup
IF NOT EXISTS(SELECT ID FROM MD_GlobalControlGroup WHERE CODE='Admission') BEGIN 
    INSERT INTO MD_GlobalControlGroup(Code, Description, Name, ParentGroupID) VALUES('Admission', 'Prijem', 'Prijem', @ParentGroupID) 
    SET @ParentGroupID = SCOPE_IDENTITY() 
END ELSE BEGIN
    UPDATE MD_GlobalControlGroup SET Description = 'Prijem',  Name = 'Prijem' WHERE code = 'Admission' 
    SET @ParentGroupID = (SELECT ID FROM MD_GlobalControlGroup WHERE CODE='Admission') 
END 
-- MD_GlobalControl
IF(NOT EXISTS(SELECT TOP 1 1 FROM MD_GlobalControl gc WHERE gc.Code = 'test_puls')) 
BEGIN 
    INSERT INTO MD_GlobalControl(Code, Name, Description, GlobalControlGroupID, DataSourceID, IsUserDefined, IsReadOnly, IsActive, TestData, DisplayFormat, DataTypeID, IsMultiSelect, RefControlTypeID) VALUES('test_puls', 'test_puls', 'test_puls', @ParentGroupID, 7, 1, 0, 1, NULL, NULL ,22, 0, 2) 
END ELSE
BEGIN 
    UPDATE MD_GlobalControl SET Description = 'test_puls', Name = 'test_puls', GlobalControlGroupID = @ParentGroupID,  DataSourceID = 7, IsUserDefined = 1, IsReadOnly = 0, IsActive = 1, TestData = NULL, DisplayFormat = NULL, DataTypeID = 22, IsMultiSelect = 0, RefControlTypeID = 2 WHERE Code = 'test_puls'  
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentControlDataSource where DocumentControlID=@MD_DocumentControl_ID) BEGIN 
    INSERT MD_DocumentControlDataSource ( DocumentControlID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, ControlParametar, ControlParametarRange, DisplayFormat )
    SELECT @MD_DocumentControl_ID, (SELECT ID FROM MD_GlobalControl WHERE CODE='test_puls'),2,1, 2, NULL, NULL, NULL
END ELSE BEGIN
    UPDATE MD_DocumentControlDataSource SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='test_puls'),RefControlTypeID= 2,ControlConnectionTypeID=1,ControlConnectionLevelID=2, ControlParametar=NULL, ControlParametarRange=NULL, DisplayFormat=NULL
    WHERE DocumentControlID=@MD_DocumentControl_ID
END 
SET @MD_DocumentControl_ID=NULL
--mdTextBox26
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdTextBox26'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='Puls:', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl38',LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= '/min',PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], [ShortTooltip], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdTextBox26','Puls:',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', 'mdLbl38', 'False' , 'False' ,'22','/min', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdTextBox27
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdTextBox27'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='GCS:', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='True', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl39',LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdTextBox27','GCS:',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'True','False',0,0,'',' ','False', 'mdLbl39', 'False' , 'False' ,'22', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @ParentGroupID = NULL 
-- MD_GlobalControlGroup
IF NOT EXISTS(SELECT ID FROM MD_GlobalControlGroup WHERE CODE='Admission') BEGIN 
    INSERT INTO MD_GlobalControlGroup(Code, Description, Name, ParentGroupID) VALUES('Admission', 'Prijem', 'Prijem', @ParentGroupID) 
    SET @ParentGroupID = SCOPE_IDENTITY() 
END ELSE BEGIN
    UPDATE MD_GlobalControlGroup SET Description = 'Prijem',  Name = 'Prijem' WHERE code = 'Admission' 
    SET @ParentGroupID = (SELECT ID FROM MD_GlobalControlGroup WHERE CODE='Admission') 
END 
-- MD_GlobalControl
IF(NOT EXISTS(SELECT TOP 1 1 FROM MD_GlobalControl gc WHERE gc.Code = 'test_gcs')) 
BEGIN 
    INSERT INTO MD_GlobalControl(Code, Name, Description, GlobalControlGroupID, DataSourceID, IsUserDefined, IsReadOnly, IsActive, TestData, DisplayFormat, DataTypeID, IsMultiSelect, RefControlTypeID) VALUES('test_gcs', 'test_gcs', 'test_gcs', @ParentGroupID, 7, 1, 0, 1, NULL, NULL ,22, 0, 2) 
END ELSE
BEGIN 
    UPDATE MD_GlobalControl SET Description = 'test_gcs', Name = 'test_gcs', GlobalControlGroupID = @ParentGroupID,  DataSourceID = 7, IsUserDefined = 1, IsReadOnly = 0, IsActive = 1, TestData = NULL, DisplayFormat = NULL, DataTypeID = 22, IsMultiSelect = 0, RefControlTypeID = 2 WHERE Code = 'test_gcs'  
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentControlDataSource where DocumentControlID=@MD_DocumentControl_ID) BEGIN 
    INSERT MD_DocumentControlDataSource ( DocumentControlID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, ControlParametar, ControlParametarRange, DisplayFormat )
    SELECT @MD_DocumentControl_ID, (SELECT ID FROM MD_GlobalControl WHERE CODE='test_gcs'),2,1, 2, NULL, NULL, NULL
END ELSE BEGIN
    UPDATE MD_DocumentControlDataSource SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='test_gcs'),RefControlTypeID= 2,ControlConnectionTypeID=1,ControlConnectionLevelID=2, ControlParametar=NULL, ControlParametarRange=NULL, DisplayFormat=NULL
    WHERE DocumentControlID=@MD_DocumentControl_ID
END 
SET @MD_DocumentControl_ID=NULL
--mdTextBox28
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdTextBox28'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='AVPU:', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='True', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl40',LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdTextBox28','AVPU:',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'True','False',0,0,'',' ','False', 'mdLbl40', 'False' , 'False' ,'22', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @ParentGroupID = NULL 
-- MD_GlobalControlGroup
IF NOT EXISTS(SELECT ID FROM MD_GlobalControlGroup WHERE CODE='Admission') BEGIN 
    INSERT INTO MD_GlobalControlGroup(Code, Description, Name, ParentGroupID) VALUES('Admission', 'Prijem', 'Prijem', @ParentGroupID) 
    SET @ParentGroupID = SCOPE_IDENTITY() 
END ELSE BEGIN
    UPDATE MD_GlobalControlGroup SET Description = 'Prijem',  Name = 'Prijem' WHERE code = 'Admission' 
    SET @ParentGroupID = (SELECT ID FROM MD_GlobalControlGroup WHERE CODE='Admission') 
END 
-- MD_GlobalControl
IF(NOT EXISTS(SELECT TOP 1 1 FROM MD_GlobalControl gc WHERE gc.Code = 'test_avpu')) 
BEGIN 
    INSERT INTO MD_GlobalControl(Code, Name, Description, GlobalControlGroupID, DataSourceID, IsUserDefined, IsReadOnly, IsActive, TestData, DisplayFormat, DataTypeID, IsMultiSelect, RefControlTypeID) VALUES('test_avpu', 'test_avpu', 'test_avpu', @ParentGroupID, 7, 1, 0, 1, NULL, NULL ,22, 0, 1) 
END ELSE
BEGIN 
    UPDATE MD_GlobalControl SET Description = 'test_avpu', Name = 'test_avpu', GlobalControlGroupID = @ParentGroupID,  DataSourceID = 7, IsUserDefined = 1, IsReadOnly = 0, IsActive = 1, TestData = NULL, DisplayFormat = NULL, DataTypeID = 22, IsMultiSelect = 0, RefControlTypeID = 1 WHERE Code = 'test_avpu'  
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentControlDataSource where DocumentControlID=@MD_DocumentControl_ID) BEGIN 
    INSERT MD_DocumentControlDataSource ( DocumentControlID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, ControlParametar, ControlParametarRange, DisplayFormat )
    SELECT @MD_DocumentControl_ID, (SELECT ID FROM MD_GlobalControl WHERE CODE='test_avpu'),2,1, 2, NULL, NULL, NULL
END ELSE BEGIN
    UPDATE MD_DocumentControlDataSource SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='test_avpu'),RefControlTypeID= 2,ControlConnectionTypeID=1,ControlConnectionLevelID=2, ControlParametar=NULL, ControlParametarRange=NULL, DisplayFormat=NULL
    WHERE DocumentControlID=@MD_DocumentControl_ID
END 
SET @MD_DocumentControl_ID=NULL
--mdScore1
-- Score
SET @ScoreID = (SELECT ID FROM Score s WHERE s.Code = 'GCS') 
IF @ScoreID IS NULL 
BEGIN 
    INSERT INTO Score(Name, IsActive, Code, Description) VALUES('GCS', 1, 'GCS', NULL)
    SET @ScoreID = SCOPE_IDENTITY() 
END ELSE
BEGIN 
    UPDATE Score SET Name = 'GCS', IsActive = 1, Description = NULL WHERE ID = @ScoreID 
END 
-- ScoreHistory
IF(NOT EXISTS(SELECT TOP 1 1 FROM ScoreHistory sh WHERE sh.ScoreID = @ScoreID AND GETDATE() BETWEEN sh.DateFrom AND sh.DateTo)) 
BEGIN 
    INSERT INTO ScoreHistory(ScoreID, CalculationExpression, DateFrom, DateTo) VALUES(@ScoreID, '@GCS1+@GCS2+@GCS3', '1900-01-01 00:00:00.000', '2999-01-01 00:00:00.000') 
END ELSE
BEGIN 
    UPDATE ScoreHistory SET CalculationExpression = '@GCS1+@GCS2+@GCS3' WHERE ScoreID = @ScoreID AND GETDATE() BETWEEN DateFrom AND DateTo 
END 
-- ScoreQuestion
SET @ScoreQuestionID = (SELECT ID FROM ScoreQuestion WHERE ScoreID = @ScoreID AND Code = 'GCS1') 
IF @ScoreQuestionID IS NULL 
BEGIN 
    INSERT INTO ScoreQuestion(ScoreID, Code, Description) VALUES(@ScoreID, 'GCS1', '') 
    SET @ScoreQuestionID = SCOPE_IDENTITY() 
END ELSE
BEGIN 
    UPDATE ScoreQuestion SET Description = '' WHERE ID = @ScoreQuestionID 
END 
-- ScoreQuestionHistory
IF(NOT EXISTS(SELECT TOP 1 1 FROM ScoreQuestionHistory sqh WHERE sqh.ScoreQuestionID = @ScoreQuestionID AND GETDATE() BETWEEN sqh.DateFrom AND sqh.DateTo)) 
BEGIN 
    INSERT INTO ScoreQuestionHistory(ScoreQuestionID, Num, DisplayTypeID, QuestionText, DateFrom, DateTo) VALUES(@ScoreQuestionID, 3, 5, '3. Najbolji očni odgovor(O)', '1900-01-01 00:00:00.000', '2999-01-01 00:00:00.000') 
END ELSE
BEGIN 
    UPDATE ScoreQuestionHistory SET Num = 3, DisplayTypeID = 5, QuestionText = '3. Najbolji očni odgovor(O)'  WHERE ScoreQuestionID = @ScoreQuestionID AND GETDATE() BETWEEN DateFrom AND DateTo 
END 
-- ScoreQuestionPosAnswerHistory
IF(NOT EXISTS(SELECT TOP 1 1 FROM ScoreQuestionPosAnswerHistory sqah WHERE sqah.QuestionID = @ScoreQuestionID AND sqah.Num = 1 AND GETDATE() BETWEEN sqah.DateFrom AND sqah.DateTo)) 
BEGIN 
    INSERT INTO ScoreQuestionPosAnswerHistory(QuestionID, Num, Description, ValueFrom, ValueTo, DateFrom, DateTo) VALUES(@ScoreQuestionID, 1, 'spontano otvara oči', 4, 4, '1900-01-01 00:00:00.000', '2999-01-01 00:00:00.000') 
END ELSE
BEGIN 
    UPDATE ScoreQuestionPosAnswerHistory SET Description = 'spontano otvara oči',  ValueFrom = 4, ValueTo = 4 WHERE QuestionID = @ScoreQuestionID AND Num = 1 AND GETDATE() BETWEEN DateFrom AND DateTo 
END 
-- ScoreQuestionPosAnswerHistory
IF(NOT EXISTS(SELECT TOP 1 1 FROM ScoreQuestionPosAnswerHistory sqah WHERE sqah.QuestionID = @ScoreQuestionID AND sqah.Num = 2 AND GETDATE() BETWEEN sqah.DateFrom AND sqah.DateTo)) 
BEGIN 
    INSERT INTO ScoreQuestionPosAnswerHistory(QuestionID, Num, Description, ValueFrom, ValueTo, DateFrom, DateTo) VALUES(@ScoreQuestionID, 2, 'oči otvara na glasovnu naredbu', 3, 3, '1900-01-01 00:00:00.000', '2999-01-01 00:00:00.000') 
END ELSE
BEGIN 
    UPDATE ScoreQuestionPosAnswerHistory SET Description = 'oči otvara na glasovnu naredbu',  ValueFrom = 3, ValueTo = 3 WHERE QuestionID = @ScoreQuestionID AND Num = 2 AND GETDATE() BETWEEN DateFrom AND DateTo 
END 
-- ScoreQuestionPosAnswerHistory
IF(NOT EXISTS(SELECT TOP 1 1 FROM ScoreQuestionPosAnswerHistory sqah WHERE sqah.QuestionID = @ScoreQuestionID AND sqah.Num = 3 AND GETDATE() BETWEEN sqah.DateFrom AND sqah.DateTo)) 
BEGIN 
    INSERT INTO ScoreQuestionPosAnswerHistory(QuestionID, Num, Description, ValueFrom, ValueTo, DateFrom, DateTo) VALUES(@ScoreQuestionID, 3, 'oči otvara na bolni podražaj', 2, 2, '1900-01-01 00:00:00.000', '2999-01-01 00:00:00.000') 
END ELSE
BEGIN 
    UPDATE ScoreQuestionPosAnswerHistory SET Description = 'oči otvara na bolni podražaj',  ValueFrom = 2, ValueTo = 2 WHERE QuestionID = @ScoreQuestionID AND Num = 3 AND GETDATE() BETWEEN DateFrom AND DateTo 
END 
-- ScoreQuestionPosAnswerHistory
IF(NOT EXISTS(SELECT TOP 1 1 FROM ScoreQuestionPosAnswerHistory sqah WHERE sqah.QuestionID = @ScoreQuestionID AND sqah.Num = 4 AND GETDATE() BETWEEN sqah.DateFrom AND sqah.DateTo)) 
BEGIN 
    INSERT INTO ScoreQuestionPosAnswerHistory(QuestionID, Num, Description, ValueFrom, ValueTo, DateFrom, DateTo) VALUES(@ScoreQuestionID, 4, 'ne otvara oči', 1, 1, '1900-01-01 00:00:00.000', '2999-01-01 00:00:00.000') 
END ELSE
BEGIN 
    UPDATE ScoreQuestionPosAnswerHistory SET Description = 'ne otvara oči',  ValueFrom = 1, ValueTo = 1 WHERE QuestionID = @ScoreQuestionID AND Num = 4 AND GETDATE() BETWEEN DateFrom AND DateTo 
END 
-- ScoreQuestion
SET @ScoreQuestionID = (SELECT ID FROM ScoreQuestion WHERE ScoreID = @ScoreID AND Code = 'GCS2') 
IF @ScoreQuestionID IS NULL 
BEGIN 
    INSERT INTO ScoreQuestion(ScoreID, Code, Description) VALUES(@ScoreID, 'GCS2', '') 
    SET @ScoreQuestionID = SCOPE_IDENTITY() 
END ELSE
BEGIN 
    UPDATE ScoreQuestion SET Description = '' WHERE ID = @ScoreQuestionID 
END 
-- ScoreQuestionHistory
IF(NOT EXISTS(SELECT TOP 1 1 FROM ScoreQuestionHistory sqh WHERE sqh.ScoreQuestionID = @ScoreQuestionID AND GETDATE() BETWEEN sqh.DateFrom AND sqh.DateTo)) 
BEGIN 
    INSERT INTO ScoreQuestionHistory(ScoreQuestionID, Num, DisplayTypeID, QuestionText, DateFrom, DateTo) VALUES(@ScoreQuestionID, 2, 5, '2. Najbolji verbalni (govorni) odgovor (V)', '1900-01-01 00:00:00.000', '2999-01-01 00:00:00.000') 
END ELSE
BEGIN 
    UPDATE ScoreQuestionHistory SET Num = 2, DisplayTypeID = 5, QuestionText = '2. Najbolji verbalni (govorni) odgovor (V)'  WHERE ScoreQuestionID = @ScoreQuestionID AND GETDATE() BETWEEN DateFrom AND DateTo 
END 
-- ScoreQuestionPosAnswerHistory
IF(NOT EXISTS(SELECT TOP 1 1 FROM ScoreQuestionPosAnswerHistory sqah WHERE sqah.QuestionID = @ScoreQuestionID AND sqah.Num = 1 AND GETDATE() BETWEEN sqah.DateFrom AND sqah.DateTo)) 
BEGIN 
    INSERT INTO ScoreQuestionPosAnswerHistory(QuestionID, Num, Description, ValueFrom, ValueTo, DateFrom, DateTo) VALUES(@ScoreQuestionID, 1, 'odgovara orijentirano', 5, 5, '1900-01-01 00:00:00.000', '2999-01-01 00:00:00.000') 
END ELSE
BEGIN 
    UPDATE ScoreQuestionPosAnswerHistory SET Description = 'odgovara orijentirano',  ValueFrom = 5, ValueTo = 5 WHERE QuestionID = @ScoreQuestionID AND Num = 1 AND GETDATE() BETWEEN DateFrom AND DateTo 
END 
-- ScoreQuestionPosAnswerHistory
IF(NOT EXISTS(SELECT TOP 1 1 FROM ScoreQuestionPosAnswerHistory sqah WHERE sqah.QuestionID = @ScoreQuestionID AND sqah.Num = 2 AND GETDATE() BETWEEN sqah.DateFrom AND sqah.DateTo)) 
BEGIN 
    INSERT INTO ScoreQuestionPosAnswerHistory(QuestionID, Num, Description, ValueFrom, ValueTo, DateFrom, DateTo) VALUES(@ScoreQuestionID, 2, 'odgovora konfuzno', 4, 4, '1900-01-01 00:00:00.000', '2999-01-01 00:00:00.000') 
END ELSE
BEGIN 
    UPDATE ScoreQuestionPosAnswerHistory SET Description = 'odgovora konfuzno',  ValueFrom = 4, ValueTo = 4 WHERE QuestionID = @ScoreQuestionID AND Num = 2 AND GETDATE() BETWEEN DateFrom AND DateTo 
END 
-- ScoreQuestionPosAnswerHistory
IF(NOT EXISTS(SELECT TOP 1 1 FROM ScoreQuestionPosAnswerHistory sqah WHERE sqah.QuestionID = @ScoreQuestionID AND sqah.Num = 3 AND GETDATE() BETWEEN sqah.DateFrom AND sqah.DateTo)) 
BEGIN 
    INSERT INTO ScoreQuestionPosAnswerHistory(QuestionID, Num, Description, ValueFrom, ValueTo, DateFrom, DateTo) VALUES(@ScoreQuestionID, 3, 'odgovara besmislenim riječima', 3, 3, '1900-01-01 00:00:00.000', '2999-01-01 00:00:00.000') 
END ELSE
BEGIN 
    UPDATE ScoreQuestionPosAnswerHistory SET Description = 'odgovara besmislenim riječima',  ValueFrom = 3, ValueTo = 3 WHERE QuestionID = @ScoreQuestionID AND Num = 3 AND GETDATE() BETWEEN DateFrom AND DateTo 
END 
-- ScoreQuestionPosAnswerHistory
IF(NOT EXISTS(SELECT TOP 1 1 FROM ScoreQuestionPosAnswerHistory sqah WHERE sqah.QuestionID = @ScoreQuestionID AND sqah.Num = 4 AND GETDATE() BETWEEN sqah.DateFrom AND sqah.DateTo)) 
BEGIN 
    INSERT INTO ScoreQuestionPosAnswerHistory(QuestionID, Num, Description, ValueFrom, ValueTo, DateFrom, DateTo) VALUES(@ScoreQuestionID, 4, 'odgovara nerazumljivim zvukovima', 2, 2, '1900-01-01 00:00:00.000', '2999-01-01 00:00:00.000') 
END ELSE
BEGIN 
    UPDATE ScoreQuestionPosAnswerHistory SET Description = 'odgovara nerazumljivim zvukovima',  ValueFrom = 2, ValueTo = 2 WHERE QuestionID = @ScoreQuestionID AND Num = 4 AND GETDATE() BETWEEN DateFrom AND DateTo 
END 
-- ScoreQuestionPosAnswerHistory
IF(NOT EXISTS(SELECT TOP 1 1 FROM ScoreQuestionPosAnswerHistory sqah WHERE sqah.QuestionID = @ScoreQuestionID AND sqah.Num = 5 AND GETDATE() BETWEEN sqah.DateFrom AND sqah.DateTo)) 
BEGIN 
    INSERT INTO ScoreQuestionPosAnswerHistory(QuestionID, Num, Description, ValueFrom, ValueTo, DateFrom, DateTo) VALUES(@ScoreQuestionID, 5, 'nema glasovnog odgovora', 1, 1, '1900-01-01 00:00:00.000', '2999-01-01 00:00:00.000') 
END ELSE
BEGIN 
    UPDATE ScoreQuestionPosAnswerHistory SET Description = 'nema glasovnog odgovora',  ValueFrom = 1, ValueTo = 1 WHERE QuestionID = @ScoreQuestionID AND Num = 5 AND GETDATE() BETWEEN DateFrom AND DateTo 
END 
-- ScoreQuestion
SET @ScoreQuestionID = (SELECT ID FROM ScoreQuestion WHERE ScoreID = @ScoreID AND Code = 'GCS3') 
IF @ScoreQuestionID IS NULL 
BEGIN 
    INSERT INTO ScoreQuestion(ScoreID, Code, Description) VALUES(@ScoreID, 'GCS3', '') 
    SET @ScoreQuestionID = SCOPE_IDENTITY() 
END ELSE
BEGIN 
    UPDATE ScoreQuestion SET Description = '' WHERE ID = @ScoreQuestionID 
END 
-- ScoreQuestionHistory
IF(NOT EXISTS(SELECT TOP 1 1 FROM ScoreQuestionHistory sqh WHERE sqh.ScoreQuestionID = @ScoreQuestionID AND GETDATE() BETWEEN sqh.DateFrom AND sqh.DateTo)) 
BEGIN 
    INSERT INTO ScoreQuestionHistory(ScoreQuestionID, Num, DisplayTypeID, QuestionText, DateFrom, DateTo) VALUES(@ScoreQuestionID, 1, 5, '1. Najbolji motorički odgovor (M)', '1900-01-01 00:00:00.000', '2999-01-01 00:00:00.000') 
END ELSE
BEGIN 
    UPDATE ScoreQuestionHistory SET Num = 1, DisplayTypeID = 5, QuestionText = '1. Najbolji motorički odgovor (M)'  WHERE ScoreQuestionID = @ScoreQuestionID AND GETDATE() BETWEEN DateFrom AND DateTo 
END 
-- ScoreQuestionPosAnswerHistory
IF(NOT EXISTS(SELECT TOP 1 1 FROM ScoreQuestionPosAnswerHistory sqah WHERE sqah.QuestionID = @ScoreQuestionID AND sqah.Num = 1 AND GETDATE() BETWEEN sqah.DateFrom AND sqah.DateTo)) 
BEGIN 
    INSERT INTO ScoreQuestionPosAnswerHistory(QuestionID, Num, Description, ValueFrom, ValueTo, DateFrom, DateTo) VALUES(@ScoreQuestionID, 1, 'prati naredbe', 6, 6, '1900-01-01 00:00:00.000', '2999-01-01 00:00:00.000') 
END ELSE
BEGIN 
    UPDATE ScoreQuestionPosAnswerHistory SET Description = 'prati naredbe',  ValueFrom = 6, ValueTo = 6 WHERE QuestionID = @ScoreQuestionID AND Num = 1 AND GETDATE() BETWEEN DateFrom AND DateTo 
END 
-- ScoreQuestionPosAnswerHistory
IF(NOT EXISTS(SELECT TOP 1 1 FROM ScoreQuestionPosAnswerHistory sqah WHERE sqah.QuestionID = @ScoreQuestionID AND sqah.Num = 2 AND GETDATE() BETWEEN sqah.DateFrom AND sqah.DateTo)) 
BEGIN 
    INSERT INTO ScoreQuestionPosAnswerHistory(QuestionID, Num, Description, ValueFrom, ValueTo, DateFrom, DateTo) VALUES(@ScoreQuestionID, 2, 'lokalizira bolni podražaj', 5, 5, '1900-01-01 00:00:00.000', '2999-01-01 00:00:00.000') 
END ELSE
BEGIN 
    UPDATE ScoreQuestionPosAnswerHistory SET Description = 'lokalizira bolni podražaj',  ValueFrom = 5, ValueTo = 5 WHERE QuestionID = @ScoreQuestionID AND Num = 2 AND GETDATE() BETWEEN DateFrom AND DateTo 
END 
-- ScoreQuestionPosAnswerHistory
IF(NOT EXISTS(SELECT TOP 1 1 FROM ScoreQuestionPosAnswerHistory sqah WHERE sqah.QuestionID = @ScoreQuestionID AND sqah.Num = 3 AND GETDATE() BETWEEN sqah.DateFrom AND sqah.DateTo)) 
BEGIN 
    INSERT INTO ScoreQuestionPosAnswerHistory(QuestionID, Num, Description, ValueFrom, ValueTo, DateFrom, DateTo) VALUES(@ScoreQuestionID, 3, 'odmiče se od bolnog podražaja', 4, 4, '1900-01-01 00:00:00.000', '2999-01-01 00:00:00.000') 
END ELSE
BEGIN 
    UPDATE ScoreQuestionPosAnswerHistory SET Description = 'odmiče se od bolnog podražaja',  ValueFrom = 4, ValueTo = 4 WHERE QuestionID = @ScoreQuestionID AND Num = 3 AND GETDATE() BETWEEN DateFrom AND DateTo 
END 
-- ScoreQuestionPosAnswerHistory
IF(NOT EXISTS(SELECT TOP 1 1 FROM ScoreQuestionPosAnswerHistory sqah WHERE sqah.QuestionID = @ScoreQuestionID AND sqah.Num = 4 AND GETDATE() BETWEEN sqah.DateFrom AND sqah.DateTo)) 
BEGIN 
    INSERT INTO ScoreQuestionPosAnswerHistory(QuestionID, Num, Description, ValueFrom, ValueTo, DateFrom, DateTo) VALUES(@ScoreQuestionID, 4, 'odgovara fleksijom na bolni podražaj', 3, 3, '1900-01-01 00:00:00.000', '2999-01-01 00:00:00.000') 
END ELSE
BEGIN 
    UPDATE ScoreQuestionPosAnswerHistory SET Description = 'odgovara fleksijom na bolni podražaj',  ValueFrom = 3, ValueTo = 3 WHERE QuestionID = @ScoreQuestionID AND Num = 4 AND GETDATE() BETWEEN DateFrom AND DateTo 
END 
-- ScoreQuestionPosAnswerHistory
IF(NOT EXISTS(SELECT TOP 1 1 FROM ScoreQuestionPosAnswerHistory sqah WHERE sqah.QuestionID = @ScoreQuestionID AND sqah.Num = 5 AND GETDATE() BETWEEN sqah.DateFrom AND sqah.DateTo)) 
BEGIN 
    INSERT INTO ScoreQuestionPosAnswerHistory(QuestionID, Num, Description, ValueFrom, ValueTo, DateFrom, DateTo) VALUES(@ScoreQuestionID, 5, 'odgovara ekstenzijom na bolni podražaj ', 2, 2, '1900-01-01 00:00:00.000', '2999-01-01 00:00:00.000') 
END ELSE
BEGIN 
    UPDATE ScoreQuestionPosAnswerHistory SET Description = 'odgovara ekstenzijom na bolni podražaj ',  ValueFrom = 2, ValueTo = 2 WHERE QuestionID = @ScoreQuestionID AND Num = 5 AND GETDATE() BETWEEN DateFrom AND DateTo 
END 
-- ScoreQuestionPosAnswerHistory
IF(NOT EXISTS(SELECT TOP 1 1 FROM ScoreQuestionPosAnswerHistory sqah WHERE sqah.QuestionID = @ScoreQuestionID AND sqah.Num = 6 AND GETDATE() BETWEEN sqah.DateFrom AND sqah.DateTo)) 
BEGIN 
    INSERT INTO ScoreQuestionPosAnswerHistory(QuestionID, Num, Description, ValueFrom, ValueTo, DateFrom, DateTo) VALUES(@ScoreQuestionID, 6, 'nema motoričkog odgovora', 1, 1, '1900-01-01 00:00:00.000', '2999-01-01 00:00:00.000') 
END ELSE
BEGIN 
    UPDATE ScoreQuestionPosAnswerHistory SET Description = 'nema motoričkog odgovora',  ValueFrom = 1, ValueTo = 1 WHERE QuestionID = @ScoreQuestionID AND Num = 6 AND GETDATE() BETWEEN DateFrom AND DateTo 
END 
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdScore1'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=14, Label='GCS:', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl43', [ExternalSource]='GCS',LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= NULL,RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [ExternalSource], [LabelBold], [DataBold], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 14,'mdScore1','GCS:',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', 'mdLbl43','GCS', 'False' , 'False' , NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdTextBox30
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdTextBox30'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='Trect:', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl44',LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= '°C',PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], [ShortTooltip], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdTextBox30','Trect:',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', 'mdLbl44', 'False' , 'False' ,'22','°C', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdTextBox32
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdTextBox32'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='GUK:', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='True', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl45',LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= 'mmol/L',PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], [ShortTooltip], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdTextBox32','GUK:',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'True','False',0,0,'',' ','False', 'mdLbl45', 'False' , 'False' ,'22','mmol/L', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @ParentGroupID = NULL 
-- MD_GlobalControlGroup
IF NOT EXISTS(SELECT ID FROM MD_GlobalControlGroup WHERE CODE='Admission') BEGIN 
    INSERT INTO MD_GlobalControlGroup(Code, Description, Name, ParentGroupID) VALUES('Admission', 'Prijem', 'Prijem', @ParentGroupID) 
    SET @ParentGroupID = SCOPE_IDENTITY() 
END ELSE BEGIN
    UPDATE MD_GlobalControlGroup SET Description = 'Prijem',  Name = 'Prijem' WHERE code = 'Admission' 
    SET @ParentGroupID = (SELECT ID FROM MD_GlobalControlGroup WHERE CODE='Admission') 
END 
-- MD_GlobalControl
IF(NOT EXISTS(SELECT TOP 1 1 FROM MD_GlobalControl gc WHERE gc.Code = 'test_guk')) 
BEGIN 
    INSERT INTO MD_GlobalControl(Code, Name, Description, GlobalControlGroupID, DataSourceID, IsUserDefined, IsReadOnly, IsActive, TestData, DisplayFormat, DataTypeID, IsMultiSelect, RefControlTypeID) VALUES('test_guk', 'test_guk', 'test_guk', @ParentGroupID, 7, 1, 0, 1, NULL, NULL ,22, 0, 2) 
END ELSE
BEGIN 
    UPDATE MD_GlobalControl SET Description = 'test_guk', Name = 'test_guk', GlobalControlGroupID = @ParentGroupID,  DataSourceID = 7, IsUserDefined = 1, IsReadOnly = 0, IsActive = 1, TestData = NULL, DisplayFormat = NULL, DataTypeID = 22, IsMultiSelect = 0, RefControlTypeID = 2 WHERE Code = 'test_guk'  
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentControlDataSource where DocumentControlID=@MD_DocumentControl_ID) BEGIN 
    INSERT MD_DocumentControlDataSource ( DocumentControlID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, ControlParametar, ControlParametarRange, DisplayFormat )
    SELECT @MD_DocumentControl_ID, (SELECT ID FROM MD_GlobalControl WHERE CODE='test_guk'),2,1, 2, NULL, NULL, NULL
END ELSE BEGIN
    UPDATE MD_DocumentControlDataSource SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='test_guk'),RefControlTypeID= 2,ControlConnectionTypeID=1,ControlConnectionLevelID=2, ControlParametar=NULL, ControlParametarRange=NULL, DisplayFormat=NULL
    WHERE DocumentControlID=@MD_DocumentControl_ID
END 
SET @MD_DocumentControl_ID=NULL
--mdTextBox33
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdTextBox33'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='GUK:', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl46',LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= 'mmol/L',PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], [ShortTooltip], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdTextBox33','GUK:',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', 'mdLbl46', 'False' , 'False' ,'22','mmol/L', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdLookup121
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdLookup121'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=5, Label='Trijažna kategorija:', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='True', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl25',LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '8',RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 5,'mdLookup121','Trijažna kategorija:',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'True','False',0,0,'',' ','False', 'mdLbl25', 'False' , 'False' ,'8', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @ParentGroupID = NULL 
-- MD_GlobalControlGroup
IF NOT EXISTS(SELECT ID FROM MD_GlobalControlGroup WHERE CODE='Admission') BEGIN 
    INSERT INTO MD_GlobalControlGroup(Code, Description, Name, ParentGroupID) VALUES('Admission', 'Prijem', 'Prijem', @ParentGroupID) 
    SET @ParentGroupID = SCOPE_IDENTITY() 
END ELSE BEGIN
    UPDATE MD_GlobalControlGroup SET Description = 'Prijem',  Name = 'Prijem' WHERE code = 'Admission' 
    SET @ParentGroupID = (SELECT ID FROM MD_GlobalControlGroup WHERE CODE='Admission') 
END 
-- MD_GlobalControlGroup
IF NOT EXISTS(SELECT ID FROM MD_GlobalControlGroup WHERE CODE='AdmissionOutPatient') BEGIN 
    INSERT INTO MD_GlobalControlGroup(Code, Description, Name, ParentGroupID) VALUES('AdmissionOutPatient', 'Poliklinika', 'Poliklinika', @ParentGroupID) 
    SET @ParentGroupID = SCOPE_IDENTITY() 
END ELSE BEGIN
    UPDATE MD_GlobalControlGroup SET Description = 'Poliklinika',  Name = 'Poliklinika' WHERE code = 'AdmissionOutPatient' 
    SET @ParentGroupID = (SELECT ID FROM MD_GlobalControlGroup WHERE CODE='AdmissionOutPatient') 
END 
-- MD_GlobalControl
IF(NOT EXISTS(SELECT TOP 1 1 FROM MD_GlobalControl gc WHERE gc.Code = 'AdmissionOutPatientTriageCategory')) 
BEGIN 
    INSERT INTO MD_GlobalControl(Code, Name, Description, GlobalControlGroupID, DataSourceID, IsUserDefined, IsReadOnly, IsActive, TestData, DisplayFormat, DataTypeID, IsMultiSelect, RefControlTypeID) VALUES('AdmissionOutPatientTriageCategory', 'Trijažna kategorija', 'Trijažna kategorija', @ParentGroupID, 3, 0, 0, 1, '1', NULL ,8, 0, 1) 
END ELSE
BEGIN 
    UPDATE MD_GlobalControl SET Description = 'Trijažna kategorija', Name = 'Trijažna kategorija', GlobalControlGroupID = @ParentGroupID,  DataSourceID = 3, IsUserDefined = 0, IsReadOnly = 0, IsActive = 1, TestData = '1', DisplayFormat = NULL, DataTypeID = 8, IsMultiSelect = 0, RefControlTypeID = 1 WHERE Code = 'AdmissionOutPatientTriageCategory'  
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentControlDataSource where DocumentControlID=@MD_DocumentControl_ID) BEGIN 
    INSERT MD_DocumentControlDataSource ( DocumentControlID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, ControlParametar, ControlParametarRange, DisplayFormat )
    SELECT @MD_DocumentControl_ID, (SELECT ID FROM MD_GlobalControl WHERE CODE='AdmissionOutPatientTriageCategory'),1,1, 2, NULL, NULL, NULL
END ELSE BEGIN
    UPDATE MD_DocumentControlDataSource SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='AdmissionOutPatientTriageCategory'),RefControlTypeID= 1,ControlConnectionTypeID=1,ControlConnectionLevelID=2, ControlParametar=NULL, ControlParametarRange=NULL, DisplayFormat=NULL
    WHERE DocumentControlID=@MD_DocumentControl_ID
END 
SET @MD_DocumentControl_ID=NULL
--mdRadioButtonList0
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdRadioButtonList0'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=17, Label='AVPU:', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl42',LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '8',RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 17,'mdRadioButtonList0','AVPU:',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', 'mdLbl42', 'False' , 'False' ,'8', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdLookup3
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdLookup3'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=8, Label='Liječnik - mlađa služba:', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl47',LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= '14',MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [DoctorPermissionCode], [MD_DocumentControlDataType], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 8,'mdLookup3','Liječnik - mlađa služba:',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', 'mdLbl47', 'False' , 'False' ,'14','22', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdLookup4
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdLookup4'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=8, Label='Liječnik:', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl48',LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= '6',MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [DoctorPermissionCode], [MD_DocumentControlDataType], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 8,'mdLookup4','Liječnik:',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', 'mdLbl48', 'False' , 'False' ,'6','22', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdFormula3_1
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdFormula3_1'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=9, Label='Uputa izabranom  liječniku primarne zdravstvene zaštite', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName=NULL,LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= NULL,RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 9,'mdFormula3_1','Uputa izabranom  liječniku primarne zdravstvene zaštite',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','True',0,0,'',' ','False', NULL, 'False' , 'False' , NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdFormula4
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdFormula4'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=9, Label='RR:', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName=NULL,LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= NULL,RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 9,'mdFormula4','RR:',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','True',0,0,'',' ','False', NULL, 'False' , 'False' , NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdControlCollection0
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdControlCollection0'
DECLARE @GridmdControlCollection0ID AS INT; 
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=13, Label='Vrijeme upisa:', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl50',LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= NULL,RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
SET @GridmdControlCollection0ID = @MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 13,'mdControlCollection0','Vrijeme upisa:',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','True',0,0,'',' ','False', 'mdLbl50', 'False' , 'False' , NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
SET @GridmdControlCollection0ID = @MD_DocumentControl_ID 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL

IF NOT EXISTS(SELECT 1 from MD_DocumentControlSource WHERE Code = '605' AND TableName = 'dijagnoza' AND Domain = 'DijagnozaLAT') BEGIN
   SET @SourceID =IDENT_CURRENT('dbo.MD_DocumentControlSource') + 1
   INSERT INTO MD_DocumentControlSource(Domain,TableName,CollumnID,CollumnDiscription,Name,   Description,Active,MD_DocumentControlSourceFilterTypeID,IsForLabel,CollumnCode,Condition,Code) 
    SELECT 'DijagnozaLAT', 'dijagnoza','id','iif(LatinskaDijagnoza is null,naziv,LatinskaDijagnoza )','DijagnozaLAT','DijagnozaLAT','True',NULL,NULL,'Sifra','AND aktivnost = 1 order by sifra',CAST(@SourceID as varchar(15))
 END 
ELSE BEGIN 
    UPDATE MD_DocumentControlSource SET CollumnID='id',CollumnDiscription='iif(LatinskaDijagnoza is null,naziv,LatinskaDijagnoza )',CollumnCode='Sifra',Name='DijagnozaLAT',Description='DijagnozaLAT',Condition='AND aktivnost = 1 order by sifra' 
WHERE Code = '605' AND TableName = 'dijagnoza' AND Domain = 'DijagnozaLAT'
SELECT @SourceID=ID from MD_DocumentControlSource WHERE Code='605'

END
set @xaml =Replace(@xaml,'Tag="mdControlCollection0_MDLookup1"','Tag="'+CAST(@SourceID as varchar(5))+'"')
UPDATE MD_Document SET FormXAML = @xaml WHERE ID=@MD_Document_ID
UPDATE MD_DocumentXaml SET XAML=@xaml WHERE MD_DocumentID = @MD_Document_ID AND DateTo IS NULL 
--mdControlCollection0_MDLookup1
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdControlCollection0_MDLookup1'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=5, Label='OSTALE DIJAGNOZE:', ParentDocumentControlID=@GridmdControlCollection0ID, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=(SELECT ID FROM dbo.MD_DocumentControlSource WHERE ID =@SourceID ), DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName=NULL,LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '8',RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 5,'mdControlCollection0_MDLookup1','OSTALE DIJAGNOZE:',@GridmdControlCollection0ID, 1,GETDATE(),@SourceID,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', NULL, 'False' , 'False' ,'8', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdControlCollection0_MDTextBox1
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdControlCollection0_MDTextBox1'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='Dg/Lat', ParentDocumentControlID=@GridmdControlCollection0ID, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName=NULL,LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdControlCollection0_MDTextBox1','Dg/Lat',@GridmdControlCollection0ID, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', NULL, 'False' , 'False' ,'22', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdDateTime2
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdDateTime2'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=12, Label='Vrijeme upisa:', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl50',[DefaultValue]=ISNULL(CONVERT(varchar(30),@RtftPartID),'False'),LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '4',RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName],[DefaultValue], [LabelBold], [DataBold], [MD_DocumentControlDataType], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 12,'mdDateTime2','Vrijeme upisa:',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', 'mdLbl50',ISNULL(CONVERT(varchar(30),@RtftPartID),'False'), 'False' , 'False' ,'4', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @ParentGroupID = NULL 
-- MD_GlobalControlGroup
IF NOT EXISTS(SELECT ID FROM MD_GlobalControlGroup WHERE CODE='Admission') BEGIN 
    INSERT INTO MD_GlobalControlGroup(Code, Description, Name, ParentGroupID) VALUES('Admission', 'Prijem', 'Prijem', @ParentGroupID) 
    SET @ParentGroupID = SCOPE_IDENTITY() 
END ELSE BEGIN
    UPDATE MD_GlobalControlGroup SET Description = 'Prijem',  Name = 'Prijem' WHERE code = 'Admission' 
    SET @ParentGroupID = (SELECT ID FROM MD_GlobalControlGroup WHERE CODE='Admission') 
END 
-- MD_GlobalControlGroup
IF NOT EXISTS(SELECT ID FROM MD_GlobalControlGroup WHERE CODE='AdmissionOutPatient') BEGIN 
    INSERT INTO MD_GlobalControlGroup(Code, Description, Name, ParentGroupID) VALUES('AdmissionOutPatient', 'Poliklinika', 'Poliklinika', @ParentGroupID) 
    SET @ParentGroupID = SCOPE_IDENTITY() 
END ELSE BEGIN
    UPDATE MD_GlobalControlGroup SET Description = 'Poliklinika',  Name = 'Poliklinika' WHERE code = 'AdmissionOutPatient' 
    SET @ParentGroupID = (SELECT ID FROM MD_GlobalControlGroup WHERE CODE='AdmissionOutPatient') 
END 
-- MD_GlobalControl
IF(NOT EXISTS(SELECT TOP 1 1 FROM MD_GlobalControl gc WHERE gc.Code = 'AdmissionOutPatient_DateAndTime')) 
BEGIN 
    INSERT INTO MD_GlobalControl(Code, Name, Description, GlobalControlGroupID, DataSourceID, IsUserDefined, IsReadOnly, IsActive, TestData, DisplayFormat, DataTypeID, IsMultiSelect, RefControlTypeID) VALUES('AdmissionOutPatient_DateAndTime', 'Datum i vrijeme dolaska na polikliniku', 'Datum i vrijeme dolaska na polikliniku', @ParentGroupID, 3, 0, 0, 1, '03.02.2015 12:12', 'DD.MM.YYYY HH:mm' ,4, 0, 1) 
END ELSE
BEGIN 
    UPDATE MD_GlobalControl SET Description = 'Datum i vrijeme dolaska na polikliniku', Name = 'Datum i vrijeme dolaska na polikliniku', GlobalControlGroupID = @ParentGroupID,  DataSourceID = 3, IsUserDefined = 0, IsReadOnly = 0, IsActive = 1, TestData = '03.02.2015 12:12', DisplayFormat = 'DD.MM.YYYY HH:mm', DataTypeID = 4, IsMultiSelect = 0, RefControlTypeID = 1 WHERE Code = 'AdmissionOutPatient_DateAndTime'  
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentControlDataSource where DocumentControlID=@MD_DocumentControl_ID) BEGIN 
    INSERT MD_DocumentControlDataSource ( DocumentControlID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, ControlParametar, ControlParametarRange, DisplayFormat )
    SELECT @MD_DocumentControl_ID, (SELECT ID FROM MD_GlobalControl WHERE CODE='AdmissionOutPatient_DateAndTime'),1,1, 2, NULL, NULL, 'DD.MM.YYYY HH:mm'
END ELSE BEGIN
    UPDATE MD_DocumentControlDataSource SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='AdmissionOutPatient_DateAndTime'),RefControlTypeID= 1,ControlConnectionTypeID=1,ControlConnectionLevelID=2, ControlParametar=NULL, ControlParametarRange=NULL, DisplayFormat='DD.MM.YYYY HH:mm'
    WHERE DocumentControlID=@MD_DocumentControl_ID
END 
SET @MD_DocumentControl_ID=NULL
--mdChk0
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdChk0'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=3, Label='Vrijeme upisa:', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl50',[DefaultValue]=ISNULL(CONVERT(varchar(30),@RtftPartID),'False'),LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '2',RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName],[DefaultValue], [LabelBold], [DataBold], [MD_DocumentControlDataType], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 3,'mdChk0','Vrijeme upisa:',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','True',0,0,'',' ','False', 'mdLbl50',ISNULL(CONVERT(varchar(30),@RtftPartID),'False'), 'False' , 'False' ,'2', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @ParentGroupID = NULL 
-- MD_GlobalControlGroup
IF NOT EXISTS(SELECT ID FROM MD_GlobalControlGroup WHERE CODE='Admission') BEGIN 
    INSERT INTO MD_GlobalControlGroup(Code, Description, Name, ParentGroupID) VALUES('Admission', 'Prijem', 'Prijem', @ParentGroupID) 
    SET @ParentGroupID = SCOPE_IDENTITY() 
END ELSE BEGIN
    UPDATE MD_GlobalControlGroup SET Description = 'Prijem',  Name = 'Prijem' WHERE code = 'Admission' 
    SET @ParentGroupID = (SELECT ID FROM MD_GlobalControlGroup WHERE CODE='Admission') 
END 
-- MD_GlobalControlGroup
IF NOT EXISTS(SELECT ID FROM MD_GlobalControlGroup WHERE CODE='AdmissionOutPatient') BEGIN 
    INSERT INTO MD_GlobalControlGroup(Code, Description, Name, ParentGroupID) VALUES('AdmissionOutPatient', 'Poliklinika', 'Poliklinika', @ParentGroupID) 
    SET @ParentGroupID = SCOPE_IDENTITY() 
END ELSE BEGIN
    UPDATE MD_GlobalControlGroup SET Description = 'Poliklinika',  Name = 'Poliklinika' WHERE code = 'AdmissionOutPatient' 
    SET @ParentGroupID = (SELECT ID FROM MD_GlobalControlGroup WHERE CODE='AdmissionOutPatient') 
END 
-- MD_GlobalControl
IF(NOT EXISTS(SELECT TOP 1 1 FROM MD_GlobalControl gc WHERE gc.Code = 'AdmissionOutPatientCameWithAmbulance')) 
BEGIN 
    INSERT INTO MD_GlobalControl(Code, Name, Description, GlobalControlGroupID, DataSourceID, IsUserDefined, IsReadOnly, IsActive, TestData, DisplayFormat, DataTypeID, IsMultiSelect, RefControlTypeID) VALUES('AdmissionOutPatientCameWithAmbulance', 'Došao vozilom HMP', 'Došao vozilom HMP', @ParentGroupID, 3, 0, 0, 1, '0', NULL ,2, 0, 1) 
END ELSE
BEGIN 
    UPDATE MD_GlobalControl SET Description = 'Došao vozilom HMP', Name = 'Došao vozilom HMP', GlobalControlGroupID = @ParentGroupID,  DataSourceID = 3, IsUserDefined = 0, IsReadOnly = 0, IsActive = 1, TestData = '0', DisplayFormat = NULL, DataTypeID = 2, IsMultiSelect = 0, RefControlTypeID = 1 WHERE Code = 'AdmissionOutPatientCameWithAmbulance'  
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentControlDataSource where DocumentControlID=@MD_DocumentControl_ID) BEGIN 
    INSERT MD_DocumentControlDataSource ( DocumentControlID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, ControlParametar, ControlParametarRange, DisplayFormat )
    SELECT @MD_DocumentControl_ID, (SELECT ID FROM MD_GlobalControl WHERE CODE='AdmissionOutPatientCameWithAmbulance'),1,2, 2, NULL, NULL, NULL
END ELSE BEGIN
    UPDATE MD_DocumentControlDataSource SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='AdmissionOutPatientCameWithAmbulance'),RefControlTypeID= 1,ControlConnectionTypeID=2,ControlConnectionLevelID=2, ControlParametar=NULL, ControlParametarRange=NULL, DisplayFormat=NULL
    WHERE DocumentControlID=@MD_DocumentControl_ID
END 
SET @MD_DocumentControl_ID=NULL
--mdFormula5
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdFormula5'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=9, Label='Podaci s trijaže', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName=NULL,LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 9,'mdFormula5','Podaci s trijaže',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','True',0,0,'',' ','False', NULL, 'False' , 'False' ,'22', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdControlCollection1
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdControlCollection1'
DECLARE @GridmdControlCollection1ID AS INT; 
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=13, Label='Vitalni znakovi', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl53',LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= NULL,RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
SET @GridmdControlCollection1ID = @MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 13,'mdControlCollection1','Vitalni znakovi',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','True',0,0,'',' ','False', 'mdLbl53', 'False' , 'False' , NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
SET @GridmdControlCollection1ID = @MD_DocumentControl_ID 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdControlCollection1_MDDateTimePicker1
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdControlCollection1_MDDateTimePicker1'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=12, Label='Datum i vr.', ParentDocumentControlID=@GridmdControlCollection1ID, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName=NULL,[DefaultValue]=ISNULL(CONVERT(varchar(30),@RtftPartID),'True'),LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '4',RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName],[DefaultValue], [LabelBold], [DataBold], [MD_DocumentControlDataType], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 12,'mdControlCollection1_MDDateTimePicker1','Datum i vr.',@GridmdControlCollection1ID, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', NULL,ISNULL(CONVERT(varchar(30),@RtftPartID),'True'), 'False' , 'False' ,'4', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdControlCollection1_MDTextBox1
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdControlCollection1_MDTextBox1'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='RR', ParentDocumentControlID=@GridmdControlCollection1ID, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName=NULL,LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdControlCollection1_MDTextBox1','RR',@GridmdControlCollection1ID, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', NULL, 'False' , 'False' ,'22', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdControlCollection1_MDTextBox2
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdControlCollection1_MDTextBox2'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='Puls', ParentDocumentControlID=@GridmdControlCollection1ID, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName=NULL,LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdControlCollection1_MDTextBox2','Puls',@GridmdControlCollection1ID, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', NULL, 'False' , 'False' ,'22', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdControlCollection1_MDTextBox3
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdControlCollection1_MDTextBox3'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='SpO2', ParentDocumentControlID=@GridmdControlCollection1ID, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName=NULL,LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdControlCollection1_MDTextBox3','SpO2',@GridmdControlCollection1ID, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', NULL, 'False' , 'False' ,'22', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdControlCollection1_MDTextBox4
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdControlCollection1_MDTextBox4'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='Resp', ParentDocumentControlID=@GridmdControlCollection1ID, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName=NULL,LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdControlCollection1_MDTextBox4','Resp',@GridmdControlCollection1ID, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', NULL, 'False' , 'False' ,'22', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdControlCollection1_MDTextBox5
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdControlCollection1_MDTextBox5'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='Tax', ParentDocumentControlID=@GridmdControlCollection1ID, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName=NULL,LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdControlCollection1_MDTextBox5','Tax',@GridmdControlCollection1ID, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', NULL, 'False' , 'False' ,'22', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdControlCollection1_MDTextBox6
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdControlCollection1_MDTextBox6'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='Trect', ParentDocumentControlID=@GridmdControlCollection1ID, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName=NULL,LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdControlCollection1_MDTextBox6','Trect',@GridmdControlCollection1ID, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', NULL, 'False' , 'False' ,'22', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdControlCollection1_MDTextBox7
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdControlCollection1_MDTextBox7'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='GUK', ParentDocumentControlID=@GridmdControlCollection1ID, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName=NULL,LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdControlCollection1_MDTextBox7','GUK',@GridmdControlCollection1ID, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', NULL, 'False' , 'False' ,'22', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdControlCollection1_MDTextBox8
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdControlCollection1_MDTextBox8'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='VAS', ParentDocumentControlID=@GridmdControlCollection1ID, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName=NULL,LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdControlCollection1_MDTextBox8','VAS',@GridmdControlCollection1ID, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', NULL, 'False' , 'False' ,'22', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdControlCollection1_MDTextBox9
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdControlCollection1_MDTextBox9'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='GCS', ParentDocumentControlID=@GridmdControlCollection1ID, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName=NULL,LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdControlCollection1_MDTextBox9','GCS',@GridmdControlCollection1ID, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', NULL, 'False' , 'False' ,'22', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdControlCollection1_MDTextBox10
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdControlCollection1_MDTextBox10'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='AVPU', ParentDocumentControlID=@GridmdControlCollection1ID, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName=NULL,LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdControlCollection1_MDTextBox10','AVPU',@GridmdControlCollection1ID, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', NULL, 'False' , 'False' ,'22', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdTextBox31
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdTextBox31'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName=NULL,LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdTextBox31','',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', NULL, 'False' , 'False' ,'22', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @MD_DocumentControl_ID=NULL
--mdTextBox34
SELECT @MD_DocumentControl_ID=dc.ID from MD_DocumentControl dc INNER join MD_DocumentDocumentControl ddc on ddc.MD_DocumentID=@MD_Document_ID and ddc.MD_DocumentControlID=dc.ID WHERE dc.Name='mdTextBox34'
IF(@MD_DocumentControl_ID is not NULL) BEGIN 
    UPDATE MD_DocumentControl 
    SET   MD_ControlTypeID=1, Label='Podaci s trijaže', ParentDocumentControlID=NULL, UserUpdate=1, DateUpdate=GETDATE(), MD_DocumentControlSourceID=NULL, DataFormat=NULL, Formula=NULL, Active=1,MD_DocumentControlContextID=NULL, LabelShowIfEmpty='False', Display=0, PrintDirection=0, GroupName='', PrintDelimiter=' ', DontSendToCezih='False', LabelControlName='mdLbl52',LabelBold= 'False' ,DataBold= 'False' ,DoctorPermissionCode= NULL,MD_DocumentControlDataType= '22',RoleID= NULL,ShortTooltip= NULL,PrintShortTooltip ='False' ,Consumption ='False' ,VisitDiagnosis ='False' ,[Print] =0  WHERE ID=@MD_DocumentControl_ID 
END ELSE BEGIN 
    INSERT INTO [dbo].[MD_DocumentControl] ([MD_ControlTypeID], [Name], [Label],  [ParentDocumentControlID], [UserUpdate], [DateUpdate], [MD_DocumentControlSourceID], [DataFormat], [Formula], [Active], [MD_DocumentControlContextID], [LabelShowIfEmpty],[LabelShowInNewRow], [Display],[PrintDirection],[GroupName],[PrintDelimiter],[DontSendToCezih],[LabelControlName], [LabelBold], [DataBold], [MD_DocumentControlDataType], RoleID, PrintShortTooltip, Consumption, [Print], VisitDiagnosis) SELECT 1,'mdTextBox34','Podaci s trijaže',NULL, 1,GETDATE(),NULL,NULL,NULL,'True',NULL,'False','False',0,0,'',' ','False', 'mdLbl52', 'False' , 'False' ,'22', NULL, 'False' , 'False' , 0 , 'False' 
    SELECT @MD_DocumentControl_ID = SCOPE_IDENTITY() 
    INSERT INTO MD_DocumentDocumentControl (MD_DocumentID, MD_DocumentControlID) VALUES ( @MD_Document_ID,	@MD_DocumentControl_ID) 
  
END 
SET @ParentGroupID = NULL 
-- MD_GlobalControlGroup
IF NOT EXISTS(SELECT ID FROM MD_GlobalControlGroup WHERE CODE='Admission') BEGIN 
    INSERT INTO MD_GlobalControlGroup(Code, Description, Name, ParentGroupID) VALUES('Admission', 'Prijem', 'Prijem', @ParentGroupID) 
    SET @ParentGroupID = SCOPE_IDENTITY() 
END ELSE BEGIN
    UPDATE MD_GlobalControlGroup SET Description = 'Prijem',  Name = 'Prijem' WHERE code = 'Admission' 
    SET @ParentGroupID = (SELECT ID FROM MD_GlobalControlGroup WHERE CODE='Admission') 
END 
-- MD_GlobalControlGroup
IF NOT EXISTS(SELECT ID FROM MD_GlobalControlGroup WHERE CODE='AdmissionOutPatient') BEGIN 
    INSERT INTO MD_GlobalControlGroup(Code, Description, Name, ParentGroupID) VALUES('AdmissionOutPatient', 'Poliklinika', 'Poliklinika', @ParentGroupID) 
    SET @ParentGroupID = SCOPE_IDENTITY() 
END ELSE BEGIN
    UPDATE MD_GlobalControlGroup SET Description = 'Poliklinika',  Name = 'Poliklinika' WHERE code = 'AdmissionOutPatient' 
    SET @ParentGroupID = (SELECT ID FROM MD_GlobalControlGroup WHERE CODE='AdmissionOutPatient') 
END 
-- MD_GlobalControl
IF(NOT EXISTS(SELECT TOP 1 1 FROM MD_GlobalControl gc WHERE gc.Code = 'AdmissionOutPatientTriageCategory')) 
BEGIN 
    INSERT INTO MD_GlobalControl(Code, Name, Description, GlobalControlGroupID, DataSourceID, IsUserDefined, IsReadOnly, IsActive, TestData, DisplayFormat, DataTypeID, IsMultiSelect, RefControlTypeID) VALUES('AdmissionOutPatientTriageCategory', 'Trijažna kategorija', 'Trijažna kategorija', @ParentGroupID, 3, 0, 0, 1, '1', NULL ,8, 0, 1) 
END ELSE
BEGIN 
    UPDATE MD_GlobalControl SET Description = 'Trijažna kategorija', Name = 'Trijažna kategorija', GlobalControlGroupID = @ParentGroupID,  DataSourceID = 3, IsUserDefined = 0, IsReadOnly = 0, IsActive = 1, TestData = '1', DisplayFormat = NULL, DataTypeID = 8, IsMultiSelect = 0, RefControlTypeID = 1 WHERE Code = 'AdmissionOutPatientTriageCategory'  
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentControlDataSource where DocumentControlID=@MD_DocumentControl_ID) BEGIN 
    INSERT MD_DocumentControlDataSource ( DocumentControlID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, ControlParametar, ControlParametarRange, DisplayFormat )
    SELECT @MD_DocumentControl_ID, (SELECT ID FROM MD_GlobalControl WHERE CODE='AdmissionOutPatientTriageCategory'),1,1, 2, NULL, NULL, NULL
END ELSE BEGIN
    UPDATE MD_DocumentControlDataSource SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='AdmissionOutPatientTriageCategory'),RefControlTypeID= 1,ControlConnectionTypeID=1,ControlConnectionLevelID=2, ControlParametar=NULL, ControlParametarRange=NULL, DisplayFormat=NULL
    WHERE DocumentControlID=@MD_DocumentControl_ID
END 
SET @MD_DocumentControl_ID=NULL
--report  
SET @RTF='{\rtf1\deff0{\fonttbl{\f0 Calibri;}}{\colortbl ;\red0\green0\blue255 ;\red254\green180\blue200 ;\red57\green107\blue167 ;\red255\green255\blue255 ;}{\*\defchp \fs22}{\stylesheet {\ql\fs22 Normal;}{\*\cs1\fs22 Default Paragraph Font;}{\*\cs2\sbasedon1\fs22 Line Number;}{\*\cs3\ul\fs22\cf1 Hyperlink;}{\*\ts4\tsrowd\fs22\ql\tscellpaddfl3\tscellpaddl108\tscellpaddfb3\tscellpaddfr3\tscellpaddr108\tscellpaddft3\tsvertalt\cltxlrtb Normal Table;}{\*\ts5\tsrowd\sbasedon4\fs22\ql\trbrdrt\brdrs\brdrw10\trbrdrl\brdrs\brdrw10\trbrdrb\brdrs\brdrw10\trbrdrr\brdrs\brdrw10\trbrdrh\brdrs\brdrw10\trbrdrv\brdrs\brdrw10\tscellpaddfl3\tscellpaddl108\tscellpaddfr3\tscellpaddr108\tsvertalt\cltxlrtb Table Simple 1;}}{\*\listoverridetable}{\info{\creatim\yr2019\mo8\dy28\hr14\min26}{\version1}}\nouicompat\splytwnine\htmautsp\sectd\marglsxn720\margrsxn720\margtsxn720\margbsxn720\pgwsxn11907\pghsxn16839\psz9{\headerr\pard\plain\ql\fs22\par}{\footerr\pard\plain\ql{\field{\*\fldinst{\lang1050\langfe1050\fs14\cf0 MERGEFIELD Hospital_Place\\ShareField}}{\fldrslt{\lang1050\langfe1050\fs14\cf0\chshdng0\chcbpat2 PRIGORJE BRDOVE\u268\''c8KO}}}{\lang1050\langfe1050\fs14\cf0 , }{\field{\*\fldinst{\lang1050\langfe1050\fs14\cf0 MERGEFIELD Document_DateTimeNow\\ShareField}}{\fldrslt{\lang1050\langfe1050\fs14\cf0\chshdng0\chcbpat2 01.01.2016 10:00}}}{\lang1050\langfe1050\fs14\cf0 \tab \tab \tab \tab \tab \tab \tab \tab \tab \tab Stranica }{\field{\*\fldinst{\lang1050\langfe1050\fs14\cf0  PAGE }}{\fldrslt{\lang1050\langfe1050\fs14\cf0 #}}}{\lang1050\langfe1050\fs14\cf0  od }{\field{\*\fldinst{\lang1050\langfe1050\fs14\cf0  NUMPAGES }}{\fldrslt{\lang1050\langfe1050\fs14\cf0 #}}}\fs16\par}\pard\plain\ql\intbl\itap2\yts5{\field{\*\fldinst{\fs24\cf3 INCLUDEPICTURE "dbimg://}{\field{\*\fldinst{\fs24\cf3 MERGEFIELD Logo}}{\fldrslt{\fs24\cf3 3}}}{\fs24\cf3 " \\d}}{\fldrslt}}\fs24\cf3\nestcell{\nonesttables\par}\pard\plain\ql\intbl\itap2\yts5{\field{\*\fldinst{\lang1050\langfe1050\b\fs22\cf3 MERGEFIELD Worksite_Djelatnost\\ShareField}}{\fldrslt{\lang1050\langfe1050\b\fs22\cf3\chshdng0\chcbpat2 Djelatnost}}}{\lang1050\langfe1050\b\fs22\cf3  }\lang1050\langfe1050\b\fs22\cf3\par\pard\plain\ql\intbl\itap2\yts5{\lang1050\langfe1050\fs22\cf3 Predstojnik Klinike: }{\field{\*\fldinst{\lang1050\langfe1050\fs22\cf3 MERGEFIELD Worksite_MainDoctor\\ShareField}}{\fldrslt{\lang1050\langfe1050\fs22\cf3\chshdng0\chcbpat2 GlavniDjelatnik}}}{\lang1050\langfe1050\fs22\cf3  }\lang1050\langfe1050\fs22\cf3\par\pard\plain\ql\intbl\itap2\yts5{\field{\*\fldinst{\lang1050\langfe1050\b\fs22\cf3 MERGEFIELD Worksite_Department\\ShareField}}{\fldrslt{\lang1050\langfe1050\b\fs22\cf3\chshdng0\chcbpat2 Odjel}}}{\lang1050\langfe1050\b\fs22\cf3  }\lang1050\langfe1050\fs22\cf3\par\pard\plain\ql\intbl\itap2\yts5{\field{\*\fldinst{\lang1050\langfe1050\fs22\cf3 MERGEFIELD Worksite_OTR\\ShareField}}{\fldrslt{\lang1050\langfe1050\fs22\cf3\chshdng0\chcbpat2 NazivGrupaRadilista}}}{\lang1050\langfe1050\fs22\cf3\chshdng0\chcbpat4  }\lang1050\langfe1050\fs22\cf3\par\pard\plain\ql\intbl\itap2\yts5{\field{\*\fldinst{\lang1050\langfe1050\fs22\cf3 MERGEFIELD Worksite_7\\ShareField}}{\fldrslt{\lang1050\langfe1050\fs22\cf3\chshdng0\chcbpat2 Radili\u353\''9ate}}}{\lang1050\langfe1050\fs22\cf3\chshdng0\chcbpat4  }\lang1050\langfe1050\fs22\cf3\par\pard\plain\ql\intbl\itap2\yts5\lang1050\langfe1050\fs22\cf3\par\pard\plain\ql\intbl\itap2\yts5{\lang1050\langfe1050\fs22\cf3 Adresa: }{\field{\*\fldinst{\lang1050\langfe1050\fs22\cf3 MERGEFIELD Worksite_LocationAddress\\ShareField}}{\fldrslt{\lang1050\langfe1050\fs22\cf3 LokacijaAdresa}}}{\lang1050\langfe1050\fs22\cf3 , }{\field{\*\fldinst{\lang1050\langfe1050\fs22\cf3 MERGEFIELD Worksite_LocationPlace\\ShareField}}{\fldrslt{\lang1050\langfe1050\fs22\cf3\chshdng0\chcbpat2 LokacijaMjesto}}}{\lang1050\langfe1050\fs22\cf3  }\lang1050\langfe1050\fs22\cf3\par\pard\plain\ql\intbl\itap2\yts5{\field{\*\fldinst{\lang1050\langfe1050\fs22\cf3 MERGEFIELD Worksite_6\\ShareField}}{\fldrslt{\lang1050\langfe1050\fs22\cf3\chshdng0\chcbpat2 Radili\u353\''9ate}}}{\lang1050\langfe1050\fs22\cf3\chshdng0\chcbpat4  }\lang1050\langfe1050\b\fs22\cf3\nestcell{\nonesttables\par}\pard\plain\qr\intbl\itap2\yts5\lang1050\langfe1050\fs20\cf3\nestcell{\nonesttables\par}{\*\nesttableprops\trowd\irow0\irowband-1\ts5\trgaph108\trbrdrt\brdrnone\trbrdrl\brdrnone\trbrdrb\brdrnone\trbrdrr\brdrnone\trbrdrh\brdrs\brdrw10\trbrdrv\brdrnone\trleft-108\trftsWidth3\trwWidth10112\trpaddfl3\trpaddl108\trpaddfr3\trpaddr108\tbllkhdrcols\tbllkhdrrows\tbllknocolband\tblindtype3\tblind0\clvmgf\clvertalt\clbrdrt\brdrnone\clbrdrl\brdrnone\clbrdrb\brdrtnthlg\brdrw10\brdrcf3\clbrdrr\brdrnone\cltxlrtb\clftsWidth3\clwWidth2689\clpadfr3\clpadr108\clpadft3\clpadt108\cellx2581\clvmgf\clvertalt\clbrdrt\brdrnone\clbrdrl\brdrnone\clbrdrb\brdrtnthlg\brdrw10\brdrcf3\clbrdrr\brdrnone\cltxlrtb\clftsWidth3\clwWidth7141\clpadfr3\clpadr108\clpadft3\clpadt108\cellx9722\clvertalt\clbrdrt\brdrnone\clbrdrl\brdrnone\clbrdrb\brdrnone\clbrdrr\brdrnone\cltxlrtb\clftsWidth3\clwWidth282\clpadfr3\clpadr108\clpadft3\clpadt108\cellx10004\nestrow}\pard\plain\qc\intbl\itap2\yts5\lang1050\langfe1050\fs24\cf3\nestcell{\nonesttables\par}\pard\plain\ql\intbl\itap2\yts5\lang1050\langfe1050\b\fs24\cf3\nestcell{\nonesttables\par}\pard\plain\qr\intbl\itap2\yts5\lang1050\langfe1050\fs20\cf3\nestcell{\nonesttables\par}{\*\nesttableprops\trowd\irow1\irowband0\ts5\trgaph108\trbrdrt\brdrnone\trbrdrl\brdrnone\trbrdrb\brdrnone\trbrdrr\brdrnone\trbrdrh\brdrs\brdrw10\trbrdrv\brdrnone\trleft-108\trftsWidth3\trwWidth10112\trpaddfl3\trpaddl108\trpaddfr3\trpaddr108\tbllkhdrcols\tbllkhdrrows\tbllknocolband\tblindtype3\tblind0\clvmrg\clvertalt\clbrdrt\brdrnone\clbrdrl\brdrnone\clbrdrb\brdrtnthlg\brdrw10\brdrcf3\clbrdrr\brdrnone\cltxlrtb\clftsWidth3\clwWidth2689\clpadfr3\clpadr108\clpadft3\clpadt108\cellx2581\clvmrg\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrnone\clbrdrb\brdrtnthlg\brdrw10\brdrcf3\clbrdrr\brdrnone\cltxlrtb\clftsWidth3\clwWidth7141\clpadfr3\clpadr108\clpadft3\clpadt108\cellx9722\clvertalt\clbrdrt\brdrnone\clbrdrl\brdrnone\clbrdrb\brdrnone\clbrdrr\brdrnone\cltxlrtb\clftsWidth3\clwWidth282\clpadfr3\clpadr108\clpadft3\clpadt108\cellx10004\nestrow}\pard\plain\qc\intbl\itap2\yts5\lang1050\langfe1050\fs24\cf3\nestcell{\nonesttables\par}\pard\plain\ql\intbl\itap2\yts5\lang1050\langfe1050\b\fs24\cf3\nestcell{\nonesttables\par}\pard\plain\qr\intbl\itap2\yts5\lang1050\langfe1050\fs20\cf3\nestcell{\nonesttables\par}{\*\nesttableprops\trowd\irow2\irowband1\ts5\trgaph108\trbrdrt\brdrnone\trbrdrl\brdrnone\trbrdrb\brdrnone\trbrdrr\brdrnone\trbrdrh\brdrs\brdrw10\trbrdrv\brdrnone\trleft-108\trftsWidth3\trwWidth10112\trpaddfl3\trpaddl108\trpaddfr3\trpaddr108\tbllkhdrcols\tbllkhdrrows\tbllknocolband\tblindtype3\tblind0\clvmrg\clvertalt\clbrdrt\brdrnone\clbrdrl\brdrnone\clbrdrb\brdrtnthlg\brdrw10\brdrcf3\clbrdrr\brdrnone\cltxlrtb\clftsWidth3\clwWidth2689\clpadfr3\clpadr108\clpadft3\clpadt108\cellx2581\clvmrg\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrnone\clbrdrb\brdrtnthlg\brdrw10\brdrcf3\clbrdrr\brdrnone\cltxlrtb\clftsWidth3\clwWidth7141\clpadfr3\clpadr108\clpadft3\clpadt108\cellx9722\clvertalt\clbrdrt\brdrnone\clbrdrl\brdrnone\clbrdrb\brdrnone\clbrdrr\brdrnone\cltxlrtb\clftsWidth3\clwWidth282\clpadfr3\clpadr108\clpadft3\clpadt108\cellx10004\nestrow}\pard\plain\qc\intbl\itap2\yts5\lang1050\langfe1050\fs24\cf3\nestcell{\nonesttables\par}\pard\plain\ql\intbl\itap2\yts5\lang1050\langfe1050\b\fs24\cf3\nestcell{\nonesttables\par}\pard\plain\qr\intbl\itap2\yts5\lang1050\langfe1050\fs20\cf3\nestcell{\nonesttables\par}{\*\nesttableprops\trowd\irow3\irowband2\lastrow\ts5\trgaph108\trbrdrt\brdrnone\trbrdrl\brdrnone\trbrdrb\brdrnone\trbrdrr\brdrnone\trbrdrh\brdrs\brdrw10\trbrdrv\brdrnone\trleft-108\trftsWidth3\trwWidth10112\trpaddfl3\trpaddl108\trpaddfr3\trpaddr108\tbllkhdrcols\tbllkhdrrows\tbllknocolband\tblindtype3\tblind0\clvmrg\clvertalt\clbrdrt\brdrnone\clbrdrl\brdrnone\clbrdrb\brdrtnthlg\brdrw10\brdrcf3\clbrdrr\brdrnone\cltxlrtb\clftsWidth3\clwWidth2689\clpadfr3\clpadr108\clpadft3\clpadt108\cellx2581\clvmrg\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrnone\clbrdrb\brdrtnthlg\brdrw10\brdrcf3\clbrdrr\brdrnone\cltxlrtb\clftsWidth3\clwWidth7141\clpadfr3\clpadr108\clpadft3\clpadt108\cellx9722\clvertalt\clbrdrt\brdrnone\clbrdrl\brdrnone\clbrdrb\brdrnone\clbrdrr\brdrnone\cltxlrtb\clftsWidth3\clwWidth282\clpadfr3\clpadr108\clpadft3\clpadt108\cellx10004\nestrow}\trowd\irow0\irowband-1\lastrow\ts5\trgaph108\trbrdrt\brdrnone\trbrdrl\brdrnone\trbrdrb\brdrnone\trbrdrr\brdrnone\trbrdrh\brdrnone\trbrdrv\brdrnone\trleft-108\trftsWidth1\trpaddfl3\trpaddl108\trpaddfr3\trpaddr108\tbllkhdrcols\tbllkhdrrows\tbllknocolband\tblindtype3\tblind0\clvertalt\clbrdrt\brdrnone\clbrdrl\brdrnone\clbrdrb\brdrnone\clbrdrr\brdrnone\cltxlrtb\clftsWidth3\clwWidth9652\clpadfr3\clpadr108\clpadft3\clpadt108\cellx9544\clvertalt\clbrdrt\brdrnone\clbrdrl\brdrnone\clbrdrb\brdrnone\clbrdrr\brdrnone\cltxlrtb\clftsWidth3\clwWidth255\clpadfr3\clpadr108\clpadft3\clpadt108\cellx9799\pard\plain\ql\intbl\yts5\lang1050\langfe1050\b\fs28\cf3\cell\pard\plain\ql\intbl\yts5\lang1050\langfe1050\b\fs18\cf3\cell\trowd\irow0\irowband-1\lastrow\ts5\trgaph108\trbrdrt\brdrnone\trbrdrl\brdrnone\trbrdrb\brdrnone\trbrdrr\brdrnone\trbrdrh\brdrnone\trbrdrv\brdrnone\trleft-108\trftsWidth1\trpaddfl3\trpaddl108\trpaddfr3\trpaddr108\tbllkhdrcols\tbllkhdrrows\tbllknocolband\tblindtype3\tblind0\clvertalt\clbrdrt\brdrnone\clbrdrl\brdrnone\clbrdrb\brdrnone\clbrdrr\brdrnone\cltxlrtb\clftsWidth3\clwWidth9652\clpadfr3\clpadr108\clpadft3\clpadt108\cellx9544\clvertalt\clbrdrt\brdrnone\clbrdrl\brdrnone\clbrdrb\brdrnone\clbrdrr\brdrnone\cltxlrtb\clftsWidth3\clwWidth255\clpadfr3\clpadr108\clpadft3\clpadt108\cellx9799\row\pard\plain\qc\lang1050\langfe1050\b\fs12\cf3\par\pard\plain\qc{\lang1050\langfe1050\b\fs28\cf3 NALAZ HITNOG PRIJEMA}\lang1050\langfe1050\b\fs28\par\pard\plain\qc{\lang1050\langfe1050\fs20\cf0 Broj protokola: }{\field{\*\fldinst{\lang1050\langfe1050\fs20\cf0 MERGEFIELD AdmissionNumber\\ShareField}}{\fldrslt{\lang1050\langfe1050\fs20\cf0 12345678901}}}\lang1050\langfe1050\fs20\par\pard\plain\qc\lang1050\langfe1050\b\fs12\par\trowd\irow0\irowband-1\ts5\trgaph108\trbrdrt\brdrnone\trbrdrl\brdrnone\trbrdrb\brdrnone\trbrdrr\brdrnone\trbrdrh\brdrnone\trbrdrv\brdrnone\trleft-108\trftsWidth1\trpaddfl3\trpaddl108\trpaddfr3\trpaddr108\tbllkhdrcols\tbllkhdrrows\tbllknocolband\tblindtype3\tblind0\clvertalt\clbrdrt\brdrnone\clbrdrl\brdrnone\clbrdrb\brdrnone\clbrdrr\brdrnone\cltxlrtb\clftsWidth3\clwWidth6566\clpadfr3\clpadr108\clpadft3\clpadt108\cellx6458\clvertalt\clbrdrt\brdrnone\clbrdrl\brdrnone\clbrdrb\brdrnone\clbrdrr\brdrnone\cltxlrtb\clftsWidth3\clwWidth3341\clpadfr3\clpadr108\clpadft3\clpadt108\cellx9799\pard\plain\ql\intbl\yts5{\*\bkmkstart Preview}{\lang1050\langfe1050\b\fs22\cf0 Prezime i ime:}{\lang1050\langfe1050\fs22\cf0  }{\field{\*\fldinst{\lang1050\langfe1050\b\fs24\cf0 MERGEFIELD Patient_Surname\\ShareField}}{\fldrslt{\lang1050\langfe1050\b\fs24\cf0 Horvat}}}{\lang1050\langfe1050\b\fs24\cf0  }{\field{\*\fldinst{\lang1050\langfe1050\b\fs24\cf0 MERGEFIELD Patient_Name\\ShareField}}{\fldrslt{\lang1050\langfe1050\b\fs24\cf0 Hrvoje}}}{\lang1050\langfe1050\fs22\cf0  }\lang1050\langfe1050\fs22\cell\pard\plain\ql\intbl\yts5{\lang1050\langfe1050\b\fs20\cf0 MBOO:}{\lang1050\langfe1050\fs20\cf0  }{\field{\*\fldinst{\lang1050\langfe1050\fs20\cf0 MERGEFIELD Patient_MBO\\ShareField}}{\fldrslt{\lang1050\langfe1050\fs20\cf0 123456789}}}{\lang1050\langfe1050\fs20\cf0  }\lang1050\langfe1050\fs20\cell\trowd\irow0\irowband-1\ts5\trgaph108\trbrdrt\brdrnone\trbrdrl\brdrnone\trbrdrb\brdrnone\trbrdrr\brdrnone\trbrdrh\brdrnone\trbrdrv\brdrnone\trleft-108\trftsWidth1\trpaddfl3\trpaddl108\trpaddfr3\trpaddr108\tbllkhdrcols\tbllkhdrrows\tbllknocolband\tblindtype3\tblind0\clvertalt\clbrdrt\brdrnone\clbrdrl\brdrnone\clbrdrb\brdrnone\clbrdrr\brdrnone\cltxlrtb\clftsWidth3\clwWidth6566\clpadfr3\clpadr108\clpadft3\clpadt108\cellx6458\clvertalt\clbrdrt\brdrnone\clbrdrl\brdrnone\clbrdrb\brdrnone\clbrdrr\brdrnone\cltxlrtb\clftsWidth3\clwWidth3341\clpadfr3\clpadr108\clpadft3\clpadt108\cellx9799\row\trowd\irow1\irowband0\lastrow\ts5\trgaph108\trbrdrt\brdrnone\trbrdrl\brdrnone\trbrdrb\brdrnone\trbrdrr\brdrnone\trbrdrh\brdrnone\trbrdrv\brdrnone\trleft-108\trftsWidth1\trpaddfl3\trpaddl108\trpaddfr3\trpaddr108\tbllkhdrcols\tbllkhdrrows\tbllknocolband\tblindtype3\tblind0\clvertalt\clbrdrt\brdrnone\clbrdrl\brdrnone\clbrdrb\brdrs\brdrw10\clbrdrr\brdrnone\cltxlrtb\clftsWidth3\clwWidth6566\clpadfr3\clpadr108\clpadft3\clpadt108\cellx6458\clvertalt\clbrdrt\brdrnone\clbrdrl\brdrnone\clbrdrb\brdrs\brdrw10\clbrdrr\brdrnone\cltxlrtb\clftsWidth3\clwWidth3341\clpadfr3\clpadr108\clpadft3\clpadt108\cellx9799\pard\plain\ql\intbl\yts5{\lang1050\langfe1050\b\fs22\cf0 Adresa:}{\lang1050\langfe1050\fs22\cf0  }{\field{\*\fldinst{\lang1050\langfe1050\fs22\cf0 MERGEFIELD Patient_Address\\ShareField}}{\fldrslt{\lang1050\langfe1050\fs22\cf0 Ulica 99}}}{\lang1050\langfe1050\fs22\cf0 , }{\field{\*\fldinst{\lang1050\langfe1050\fs22\cf0 MERGEFIELD Patient_Place\\ShareField}}{\fldrslt{\lang1050\langfe1050\fs22\cf0\chshdng0\chcbpat2 Mjesto}}}{\lang1050\langfe1050\fs22\cf0  }\lang1050\langfe1050\fs22\par\pard\plain\ql\intbl\yts5{\lang1050\langfe1050\fs22\cf0 Datum dolaska: }{\field{\*\fldinst{\lang1050\langfe1050\fs22\cf0 MERGEFIELD AdmissionOutPatient_DateAndTime\\ShareField}}{\fldrslt{\lang1050\langfe1050\fs22\cf0\chshdng0\chcbpat2 03.02.2015 12:12}}}\lang1050\langfe1050\fs22\cell\pard\plain\ql\intbl\yts5{\lang1050\langfe1050\b\fs22\cf0 Datum ro\u273\''f0enja:}{\lang1050\langfe1050\fs22\cf0  }{\field{\*\fldinst{\lang1050\langfe1050\fs22\cf0 MERGEFIELD Patient_DateOfBirth\\ShareField}}{\fldrslt{\lang1050\langfe1050\fs22\cf0\chshdng0\chcbpat2 23.05.2010}}}{\lang1050\langfe1050\fs22\cf0 .}\lang1050\langfe1050\fs22\par\pard\plain\ql\intbl\yts5{\lang1050\langfe1050\fs22\cf0 Datum otpusta: }{\field{\*\fldinst{\lang1050\langfe1050\fs22\cf0 MERGEFIELD AdmissionOutPatientDischarge_DateTime\\ShareField}}{\fldrslt{\lang1050\langfe1050\fs22\cf0\chshdng0\chcbpat2 03.02.2015 12:12}}}{\lang1050\langfe1050\fs22\cf0  }\lang1050\langfe1050\fs22\cell\trowd\irow1\irowband0\lastrow\ts5\trgaph108\trbrdrt\brdrnone\trbrdrl\brdrnone\trbrdrb\brdrnone\trbrdrr\brdrnone\trbrdrh\brdrnone\trbrdrv\brdrnone\trleft-108\trftsWidth1\trpaddfl3\trpaddl108\trpaddfr3\trpaddr108\tbllkhdrcols\tbllkhdrrows\tbllknocolband\tblindtype3\tblind0\clvertalt\clbrdrt\brdrnone\clbrdrl\brdrnone\clbrdrb\brdrs\brdrw10\clbrdrr\brdrnone\cltxlrtb\clftsWidth3\clwWidth6566\clpadfr3\clpadr108\clpadft3\clpadt108\cellx6458\clvertalt\clbrdrt\brdrnone\clbrdrl\brdrnone\clbrdrb\brdrs\brdrw10\clbrdrr\brdrnone\cltxlrtb\clftsWidth3\clwWidth3341\clpadfr3\clpadr108\clpadft3\clpadt108\cellx9799\row\pard\plain\ql\lang1050\langfe1050\b\fs8\par\pard\plain\ql{\*\bkmkstart Import}{\*\bkmkstart Tijek doga\u273\''f0aja}{\field{\*\fldinst{\lang1050\langfe1050\b\fs24\cf0 MERGEFIELD mdLookup121}}{\fldrslt{\lang1050\langfe1050\b\fs24\cf0 Trija\u382\''9ena kategorija: mdLookup121}}}{\field{\*\fldinst{\lang1050\langfe1050\b\fs24\cf0 MERGEFIELD mdCombo0}}{\fldrslt}}{\field{\*\fldinst{\lang1050\langfe1050\b\fs24\cf0 MERGEFIELD mdLookup0}}{\fldrslt}}{\lang1050\langfe1050\b\fs24\cf0 \tab \tab \tab }{\field{\*\fldinst{\lang1050\langfe1050\b\fs24\cf0 MERGEFIELD mdCombo1}}{\fldrslt{\lang1050\langfe1050\b\fs24\cf0 Na\u269\''e8in dolaska: mdCombo1}}}{\lang1050\langfe1050\b\fs24\cf0  }\lang1050\langfe1050\b\fs22\par\pard\plain\ql\lang1050\langfe1050\b\fs8\par\pard\plain\ql{\lang1050\langfe1050\b\fs22\cf0 Dijagnoze}\lang1050\langfe1050\b\fs22\par\pard\plain\ql{\field{\*\fldinst{\lang1050\langfe1050\fs22\cf0 MERGEFIELD VezaneDijagnoze\\ShareField}}{\fldrslt{\lang1050\langfe1050\fs22\cf0 A00 Dijagnoza 1}\lang1050\langfe1050\fs22\par\pard\plain\ql{\lang1050\langfe1050\fs22\cf0 A01 Dijagnoza 2}}}{\lang1050\langfe1050\fs22\cf0  }\lang1050\langfe1050\fs22\par\trowd\irow0\irowband-1\lastrow\ts5\trgaph108\trbrdrt\brdrnone\trbrdrl\brdrnone\trbrdrb\brdrnone\trbrdrr\brdrnone\trbrdrh\brdrnone\trbrdrv\brdrnone\trleft-108\trftsWidth1\trpaddfl3\trpaddl108\trpaddfr3\trpaddr108\tbllkhdrcols\tbllkhdrrows\tbllknocolband\tblindtype3\tblind0\clvertalt\clbrdrt\brdrnone\clbrdrl\brdrnone\clbrdrb\brdrnone\clbrdrr\brdrnone\cltxlrtb\clftsWidth3\clwWidth10257\clpadfr3\clpadr108\clpadft3\clpadt108\cellx10149\pard\plain\ql\intbl\yts5{\field{\*\fldinst{\lang1050\langfe1050\fs22\cf0 IF "}{\field{\*\fldinst{\lang1050\langfe1050\fs22\cf0 MERGEFIELD @mdControlCollection0_MDTextBox1/GridViewField}}{\fldrslt}}{\lang1050\langfe1050\fs22\cf0 " = "" "}{\field{\*\fldinst{\lang1050\langfe1050\fs22\cf0 MERGEFIELD mdControlCollection0_MDLookup1/GridViewField}}{\fldrslt{\lang1050\langfe1050\fs22\cf0 mdControlCollection0_MDLookup1}}}{\lang1050\langfe1050\fs22\cf0 " "}{\field{\*\fldinst{\lang1050\langfe1050\fs22\cf0 MERGEFIELD mdControlCollection0_MDTextBox1/GridViewField}}{\fldrslt{\lang1050\langfe1050\fs22\cf0 mdControlCollection0_MDTextBox1}}}{\lang1050\langfe1050\fs22\cf0 "}}{\fldrslt{\field{\*\fldinst{\lang1050\langfe1050\fs22\cf0 MERGEFIELD mdControlCollection0_MDLookup1/GridViewField}}{\fldrslt{\lang1050\langfe1050\fs22\cf0 mdControlCollection0_MDLookup1}}}}}\lang1050\langfe1050\fs22\cell\trowd\irow0\irowband-1\lastrow\ts5\trgaph108\trbrdrt\brdrnone\trbrdrl\brdrnone\trbrdrb\brdrnone\trbrdrr\brdrnone\trbrdrh\brdrnone\trbrdrv\brdrnone\trleft-108\trftsWidth1\trpaddfl3\trpaddl108\trpaddfr3\trpaddr108\tbllkhdrcols\tbllkhdrrows\tbllknocolband\tblindtype3\tblind0\clvertalt\clbrdrt\brdrnone\clbrdrl\brdrnone\clbrdrb\brdrnone\clbrdrr\brdrnone\cltxlrtb\clftsWidth3\clwWidth10257\clpadfr3\clpadr108\clpadft3\clpadt108\cellx10149\row\pard\plain\ql{\field{\*\fldinst{\lang1050\langfe1050\fs22\cf0 MERGEFIELD mdTextBox0_1}}{\fldrslt{\lang1050\langfe1050\fs22\cf0 mdTextBox0_1}}}{\lang1050\langfe1050\fs22\cf0  }\lang1050\langfe1050\fs22\par\pard\plain\ql\lang1050\langfe1050\fs4\par\pard\plain\ql{\*\bkmkstart Mjesto za insert arhive}\lang1050\langfe1050\b\fs4\par\pard\plain\ql{\field{\*\fldinst{\lang1050\langfe1050\b\fs22\cf0 MERGEFIELD mdFormula5}}{\fldrslt{\lang1050\langfe1050\b\fs22\cf0 Podaci s trija\u382\''9ee}\lang1050\langfe1050\b\fs22\par\pard\plain\ql{\lang1050\langfe1050\b\fs22\cf0 mdFormula5}}}{\lang1050\langfe1050\b\fs22\cf0  }\lang1050\langfe1050\b\fs18\par\pard\plain\ql{\lang1050\langfe1050\b\fs22\cf0 Vitalni znakovi}\lang1050\langfe1050\b\fs22\par\trowd\irow0\irowband-1\ts5\trgaph108\trbrdrt\brdrs\brdrw10\trbrdrl\brdrs\brdrw10\trbrdrb\brdrs\brdrw10\trbrdrr\brdrs\brdrw10\trbrdrh\brdrs\brdrw10\trbrdrv\brdrs\brdrw10\trleft-108\trftsWidth1\trpaddfl3\trpaddl108\trpaddfr3\trpaddr108\tbllkhdrcols\tbllkhdrrows\tbllknocolband\tblindtype3\tblind0\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth1766\clpadfr3\clpadr108\clpadft3\clpadt108\cellx1658\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth906\clpadfr3\clpadr108\clpadft3\clpadt108\cellx2564\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth663\clpadfr3\clpadr108\clpadft3\clpadt108\cellx3227\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth877\clpadfr3\clpadr108\clpadft3\clpadt108\cellx4104\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth874\clpadfr3\clpadr108\clpadft3\clpadt108\cellx4978\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth691\clpadfr3\clpadr108\clpadft3\clpadt108\cellx5669\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth748\clpadfr3\clpadr108\clpadft3\clpadt108\cellx6417\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth933\clpadfr3\clpadr108\clpadft3\clpadt108\cellx7350\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth933\clpadfr3\clpadr108\clpadft3\clpadt108\cellx8283\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth933\clpadfr3\clpadr108\clpadft3\clpadt108\cellx9216\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth933\clpadfr3\clpadr108\clpadft3\clpadt108\cellx10149\pard\plain\ql\intbl\yts5{\lang1050\langfe1050\b\fs20\cf0 Datum}\lang1050\langfe1050\b\fs20\cell\pard\plain\ql\intbl\yts5{\lang1050\langfe1050\b\fs20\cf0 RR}\lang1050\langfe1050\b\fs20\par\pard\plain\ql\intbl\yts5{\lang1050\langfe1050\b\fs20\cf0 /mmHg}\lang1050\langfe1050\b\fs20\cell\pard\plain\ql\intbl\yts5{\lang1050\langfe1050\b\fs20\cf0 Puls}\lang1050\langfe1050\b\fs20\par\pard\plain\ql\intbl\yts5{\lang1050\langfe1050\b\fs20\cf0 /min}\lang1050\langfe1050\b\fs20\cell\pard\plain\ql\intbl\yts5{\lang1050\langfe1050\b\fs20\cf0 SpO2}\lang1050\langfe1050\b\fs20\par\pard\plain\ql\intbl\yts5{\lang1050\langfe1050\b\fs20\cf0 %}\lang1050\langfe1050\b\fs20\cell\pard\plain\ql\intbl\yts5{\lang1050\langfe1050\b\fs20\cf0 Resp}\lang1050\langfe1050\b\fs20\par\pard\plain\ql\intbl\yts5{\lang1050\langfe1050\b\fs20\cf0 /min}\lang1050\langfe1050\b\fs20\cell\pard\plain\ql\intbl\yts5{\lang1050\langfe1050\b\fs20\cf0 Tax}\lang1050\langfe1050\b\fs20\par\pard\plain\ql\intbl\yts5{\lang1050\langfe1050\b\fs20\cf0 \u176\''b0C}\lang1050\langfe1050\b\fs20\cell\pard\plain\ql\intbl\yts5{\lang1050\langfe1050\b\fs20\cf0 Trect}\lang1050\langfe1050\b\fs20\par\pard\plain\ql\intbl\yts5{\lang1050\langfe1050\b\fs20\cf0 \u176\''b0C}\lang1050\langfe1050\b\fs20\cell\pard\plain\ql\intbl\yts5{\lang1050\langfe1050\b\fs20\cf0 Guk}\lang1050\langfe1050\b\fs20\par\pard\plain\ql\intbl\yts5{\lang1050\langfe1050\b\fs20\cf0 mmol/L}\lang1050\langfe1050\b\fs20\cell\pard\plain\ql\intbl\yts5{\lang1050\langfe1050\b\fs20\cf0 Vas}\lang1050\langfe1050\b\fs20\cell\pard\plain\ql\intbl\yts5{\lang1050\langfe1050\b\fs20\cf0 GCS}\lang1050\langfe1050\b\fs20\cell\pard\plain\ql\intbl\yts5{\lang1050\langfe1050\b\fs20\cf0 AVPU}\lang1050\langfe1050\b\fs20\cell\trowd\irow0\irowband-1\ts5\trgaph108\trbrdrt\brdrs\brdrw10\trbrdrl\brdrs\brdrw10\trbrdrb\brdrs\brdrw10\trbrdrr\brdrs\brdrw10\trbrdrh\brdrs\brdrw10\trbrdrv\brdrs\brdrw10\trleft-108\trftsWidth1\trpaddfl3\trpaddl108\trpaddfr3\trpaddr108\tbllkhdrcols\tbllkhdrrows\tbllknocolband\tblindtype3\tblind0\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth1766\clpadfr3\clpadr108\clpadft3\clpadt108\cellx1658\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth906\clpadfr3\clpadr108\clpadft3\clpadt108\cellx2564\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth663\clpadfr3\clpadr108\clpadft3\clpadt108\cellx3227\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth877\clpadfr3\clpadr108\clpadft3\clpadt108\cellx4104\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth874\clpadfr3\clpadr108\clpadft3\clpadt108\cellx4978\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth691\clpadfr3\clpadr108\clpadft3\clpadt108\cellx5669\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth748\clpadfr3\clpadr108\clpadft3\clpadt108\cellx6417\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth933\clpadfr3\clpadr108\clpadft3\clpadt108\cellx7350\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth933\clpadfr3\clpadr108\clpadft3\clpadt108\cellx8283\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth933\clpadfr3\clpadr108\clpadft3\clpadt108\cellx9216\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth933\clpadfr3\clpadr108\clpadft3\clpadt108\cellx10149\row\trowd\irow1\irowband0\lastrow\ts5\trgaph108\trbrdrt\brdrs\brdrw10\trbrdrl\brdrs\brdrw10\trbrdrb\brdrs\brdrw10\trbrdrr\brdrs\brdrw10\trbrdrh\brdrs\brdrw10\trbrdrv\brdrs\brdrw10\trleft-108\trftsWidth1\trpaddfl3\trpaddl108\trpaddfr3\trpaddr108\tbllkhdrcols\tbllkhdrrows\tbllknocolband\tblindtype3\tblind0\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth1766\clpadfr3\clpadr108\clpadft3\clpadt108\cellx1658\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth906\clpadfr3\clpadr108\clpadft3\clpadt108\cellx2564\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth663\clpadfr3\clpadr108\clpadft3\clpadt108\cellx3227\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth877\clpadfr3\clpadr108\clpadft3\clpadt108\cellx4104\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth874\clpadfr3\clpadr108\clpadft3\clpadt108\cellx4978\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth691\clpadfr3\clpadr108\clpadft3\clpadt108\cellx5669\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth748\clpadfr3\clpadr108\clpadft3\clpadt108\cellx6417\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth933\clpadfr3\clpadr108\clpadft3\clpadt108\cellx7350\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth933\clpadfr3\clpadr108\clpadft3\clpadt108\cellx8283\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth933\clpadfr3\clpadr108\clpadft3\clpadt108\cellx9216\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth933\clpadfr3\clpadr108\clpadft3\clpadt108\cellx10149\pard\plain\ql\intbl\yts5{\field{\*\fldinst{\lang1050\langfe1050\fs18\cf0 MERGEFIELD mdControlCollection1_MDDateTimePicker1/GridViewField}}{\fldrslt{\lang1050\langfe1050\fs18\cf0 mdControlCollection1_MDDateTimePicker1}}}{\lang1050\langfe1050\fs18\cf0  }\lang1050\langfe1050\fs18\cell\pard\plain\ql\intbl\yts5{\field{\*\fldinst{\lang1050\langfe1050\fs18\cf0 MERGEFIELD mdControlCollection1_MDTextBox1/GridViewField}}{\fldrslt{\lang1050\langfe1050\fs18\cf0 mdControlCollection1_MDTextBox1}}}{\lang1050\langfe1050\fs18\cf0  }\lang1050\langfe1050\fs18\cell\pard\plain\ql\intbl\yts5{\field{\*\fldinst{\lang1050\langfe1050\fs18\cf0 MERGEFIELD mdControlCollection1_MDTextBox2/GridViewField}}{\fldrslt{\lang1050\langfe1050\fs18\cf0 mdControlCollection1_MDTextBox2}}}{\lang1050\langfe1050\fs18\cf0  }\lang1050\langfe1050\fs18\cell\pard\plain\ql\intbl\yts5{\field{\*\fldinst{\lang1050\langfe1050\fs18\cf0 MERGEFIELD mdControlCollection1_MDTextBox3/GridViewField}}{\fldrslt{\lang1050\langfe1050\fs18\cf0 mdControlCollection1_MDTextBox3}}}{\lang1050\langfe1050\fs18\cf0  }\lang1050\langfe1050\fs18\cell\pard\plain\ql\intbl\yts5{\field{\*\fldinst{\lang1050\langfe1050\fs18\cf0 MERGEFIELD mdControlCollection1_MDTextBox4/GridViewField}}{\fldrslt{\lang1050\langfe1050\fs18\cf0 mdControlCollection1_MDTextBox4}}}{\lang1050\langfe1050\fs18\cf0  }\lang1050\langfe1050\fs18\cell\pard\plain\ql\intbl\yts5{\field{\*\fldinst{\lang1050\langfe1050\fs18\cf0 MERGEFIELD mdControlCollection1_MDTextBox5/GridViewField}}{\fldrslt{\lang1050\langfe1050\fs18\cf0 mdControlCollection1_MDTextBox5}}}{\lang1050\langfe1050\fs18\cf0  }\lang1050\langfe1050\fs18\cell\pard\plain\ql\intbl\yts5{\field{\*\fldinst{\lang1050\langfe1050\fs18\cf0 MERGEFIELD mdControlCollection1_MDTextBox6/GridViewField}}{\fldrslt{\lang1050\langfe1050\fs18\cf0 mdControlCollection1_MDTextBox6}}}{\lang1050\langfe1050\fs18\cf0  }\lang1050\langfe1050\fs18\cell\pard\plain\ql\intbl\yts5{\field{\*\fldinst{\lang1050\langfe1050\fs18\cf0 MERGEFIELD mdControlCollection1_MDTextBox7/GridViewField}}{\fldrslt{\lang1050\langfe1050\fs18\cf0 mdControlCollection1_MDTextBox7}}}{\lang1050\langfe1050\fs18\cf0  }\lang1050\langfe1050\fs18\cell\pard\plain\ql\intbl\yts5{\field{\*\fldinst{\lang1050\langfe1050\fs18\cf0 MERGEFIELD mdControlCollection1_MDTextBox8/GridViewField}}{\fldrslt{\lang1050\langfe1050\fs18\cf0 mdControlCollection1_MDTextBox8}}}{\lang1050\langfe1050\fs18\cf0  }\lang1050\langfe1050\fs18\cell\pard\plain\ql\intbl\yts5{\field{\*\fldinst{\lang1050\langfe1050\fs18\cf0 MERGEFIELD mdControlCollection1_MDTextBox9/GridViewField}}{\fldrslt{\lang1050\langfe1050\fs18\cf0 mdControlCollection1_MDTextBox9}}}{\lang1050\langfe1050\fs18\cf0  }\lang1050\langfe1050\fs18\cell\pard\plain\ql\intbl\yts5{\field{\*\fldinst{\lang1050\langfe1050\fs18\cf0 MERGEFIELD mdControlCollection1_MDTextBox10/GridViewField}}{\fldrslt{\lang1050\langfe1050\fs18\cf0 mdControlCollection1_MDTextBox10}}}{\lang1050\langfe1050\fs18\cf0  }\lang1050\langfe1050\fs18\cell\trowd\irow1\irowband0\lastrow\ts5\trgaph108\trbrdrt\brdrs\brdrw10\trbrdrl\brdrs\brdrw10\trbrdrb\brdrs\brdrw10\trbrdrr\brdrs\brdrw10\trbrdrh\brdrs\brdrw10\trbrdrv\brdrs\brdrw10\trleft-108\trftsWidth1\trpaddfl3\trpaddl108\trpaddfr3\trpaddr108\tbllkhdrcols\tbllkhdrrows\tbllknocolband\tblindtype3\tblind0\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth1766\clpadfr3\clpadr108\clpadft3\clpadt108\cellx1658\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth906\clpadfr3\clpadr108\clpadft3\clpadt108\cellx2564\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth663\clpadfr3\clpadr108\clpadft3\clpadt108\cellx3227\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth877\clpadfr3\clpadr108\clpadft3\clpadt108\cellx4104\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth874\clpadfr3\clpadr108\clpadft3\clpadt108\cellx4978\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth691\clpadfr3\clpadr108\clpadft3\clpadt108\cellx5669\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth748\clpadfr3\clpadr108\clpadft3\clpadt108\cellx6417\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth933\clpadfr3\clpadr108\clpadft3\clpadt108\cellx7350\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth933\clpadfr3\clpadr108\clpadft3\clpadt108\cellx8283\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth933\clpadfr3\clpadr108\clpadft3\clpadt108\cellx9216\clvertalt\clbrdrt\brdrs\brdrw10\clbrdrl\brdrs\brdrw10\clbrdrb\brdrs\brdrw10\clbrdrr\brdrs\brdrw10\cltxlrtb\clftsWidth3\clwWidth933\clpadfr3\clpadr108\clpadft3\clpadt108\cellx10149\row\pard\plain\ql\lang1050\langfe1050\fs8\par\pard\plain\ql{\field{\*\fldinst{\lang1050\langfe1050\fs22\cf0 MERGEFIELD mdTextBox2}}{\fldrslt{\lang1050\langfe1050\fs22\cf0 Razlog dolaska}\lang1050\langfe1050\fs22\par\pard\plain\ql{\lang1050\langfe1050\fs22\cf0 mdTextBox2}}}{\lang1050\langfe1050\fs22\cf0  }\lang1050\langfe1050\fs22\par\pard\plain\ql\lang1050\langfe1050\fs4\par\pard\plain\ql{\field{\*\fldinst{\lang1050\langfe1050\fs22\cf0 MERGEFIELD mdTextBox3}}{\fldrslt{\lang1050\langfe1050\fs22\cf0 Anamneza}\lang1050\langfe1050\fs22\par\pard\plain\ql{\lang1050\langfe1050\fs22\cf0 mdTextBox3}}}{\lang1050\langfe1050\fs22\cf0  }\lang1050\langfe1050\fs22\par\pard\plain\ql\lang1050\langfe1050\fs4\par\pard\plain\ql{\field{\*\fldinst{\lang1050\langfe1050\fs22\cf0 MERGEFIELD mdTextBox4}}{\fldrslt{\lang1050\langfe1050\fs22\cf0 Status}\lang1050\langfe1050\fs22\par\pard\plain\ql{\lang1050\langfe1050\fs22\cf0 mdTextBox4}}}{\lang1050\langfe1050\fs22\cf0  }\lang1050\langfe1050\fs22\par\pard\plain\ql\lang1050\langfe1050\fs4\par\pard\plain\ql{\field{\*\fldinst{\lang1050\langfe1050\fs22\cf0 MERGEFIELD mdTextBox6}}{\fldrslt}}\lang1050\langfe1050\fs4\par\pard\plain\ql{\field{\*\fldinst{\lang1050\langfe1050\fs22\cf0 MERGEFIELD mdTextBox9}}{\fldrslt{\lang1050\langfe1050\fs22\cf0 Dijagnosti\u269\''e8ke i konzilijarne pretrage}\lang1050\langfe1050\fs22\par\pard\plain\ql{\lang1050\langfe1050\fs22\cf0 mdTextBox9}}}{\lang1050\langfe1050\fs22\cf0  }\lang1050\langfe1050\fs22\par\pard\plain\ql\lang1050\langfe1050\fs4\par\pard\plain\ql{\field{\*\fldinst{\lang1050\langfe1050\fs22\cf0 MERGEFIELD mdTextBox10}}{\fldrslt{\lang1050\langfe1050\fs22\cf0 Terapija}\lang1050\langfe1050\fs22\par\pard\plain\ql{\lang1050\langfe1050\fs22\cf0 mdTextBox10}}}{\lang1050\langfe1050\fs22\cf0  }\lang1050\langfe1050\fs22\par\pard\plain\ql\lang1050\langfe1050\fs4\par\pard\plain\ql{\field{\*\fldinst{\lang1050\langfe1050\fs22\cf0 MERGEFIELD mdTextBox8}}{\fldrslt{\lang1050\langfe1050\fs22\cf0 Transfuzijska terapija}\lang1050\langfe1050\fs22\par\pard\plain\ql{\lang1050\langfe1050\fs22\cf0 mdTextBox8}}}{\lang1050\langfe1050\fs22\cf0  }\lang1050\langfe1050\fs22\par\pard\plain\ql\lang1050\langfe1050\fs4\par\pard\plain\ql{\field{\*\fldinst{\lang1050\langfe1050\fs22\cf0 MERGEFIELD mdTextBox14}}{\fldrslt{\lang1050\langfe1050\fs22\cf0 Zaklju\u269\''e8ak}\lang1050\langfe1050\fs22\par\pard\plain\ql{\lang1050\langfe1050\fs22\cf0 mdTextBox14}}}{\lang1050\langfe1050\fs10\cf0  }\lang1050\langfe1050\fs10\par\pard\plain\ql\lang1050\langfe1050\fs4\par\pard\plain\ql{\field{\*\fldinst{\lang1050\langfe1050\fs22\cf0 MERGEFIELD mdTextBox11}}{\fldrslt{\lang1050\langfe1050\fs22\cf0 Predvi\u273\''f0eni kontrolni pregled}\lang1050\langfe1050\fs22\par\pard\plain\ql{\lang1050\langfe1050\fs22\cf0 mdTextBox11}}}{\lang1050\langfe1050\fs22\cf0  }\lang1050\langfe1050\fs22\par\pard\plain\ql\lang1050\langfe1050\fs4\par\pard\plain\ql{\field{\*\fldinst{\lang1050\langfe1050\fs22\cf0 MERGEFIELD mdTextBox12}}{\fldrslt{\lang1050\langfe1050\fs22\cf0 Uputa izabranom\~\~lije\u269\''e8niku primarne zdravstvene za\u353\''9atite}\lang1050\langfe1050\fs22\par\pard\plain\ql{\lang1050\langfe1050\fs22\cf0 mdTextBox12}}}{\lang1050\langfe1050\fs22\cf0  }\lang1050\langfe1050\fs22\par\pard\plain\ql\lang1050\langfe1050\fs4\par\pard\plain\ql{\field{\*\fldinst{\lang1050\langfe1050\fs22\cf0 MERGEFIELD mdTextBox13}}{\fldrslt{\lang1050\langfe1050\fs22\cf0 Ostale preporuke i napomene (npr.prehrana, palijativna skrb i dr)}\lang1050\langfe1050\fs22\par\pard\plain\ql{\lang1050\langfe1050\fs22\cf0 mdTextBox13}}}{\lang1050\langfe1050\fs22\cf0  }\lang1050\langfe1050\fs22\par\trowd\irow0\irowband-1\lastrow\ts5\trgaph108\trbrdrt\brdrnone\trbrdrl\brdrnone\trbrdrb\brdrnone\trbrdrr\brdrnone\trbrdrh\brdrnone\trbrdrv\brdrnone\trleft-108\trftsWidth3\trwWidth10041\trpaddfl3\trpaddl108\trpaddfr3\trpaddr108\tbllkhdrcols\tbllkhdrrows\tbllknocolband\tblindtype3\tblind0\clvertalt\clbrdrt\brdrnone\clbrdrl\brdrnone\clbrdrb\brdrnone\clbrdrr\brdrnone\cltxlrtb\clftsWidth3\clwWidth10036\clpadfr3\clpadr108\clpadft3\clpadt108\cellx9933\pard\plain\ql\intbl\yts5{\*\bkmkend Import}{\*\bkmkend Tijek doga\u273\''f0aja}{\*\bkmkend Mjesto za insert arhive}\lang1050\langfe1050\fs4\par\pard\plain\ql\intbl\yts5{\lang1050\langfe1050\fs22\cf0 Datum: }{\field{\*\fldinst{\lang1050\langfe1050\fs22\cf0 MERGEFIELD mdDate0}}{\fldrslt{\lang1050\langfe1050\fs22\cf0 mdDate0}}}{\lang1050\langfe1050\fs22\cf0 .}\lang1050\langfe1050\fs22\par\pard\plain\ql\intbl\yts5\lang1050\langfe1050\fs10\par\pard\plain\qc\intbl\itap2\yts5{\field{\*\fldinst{\lang1050\langfe1050\fs20\cf0 IF "}{\field{\*\fldinst{\lang1050\langfe1050\fs20\cf0 MERGEFIELD @mdFormula0}}{\fldrslt}}{\lang1050\langfe1050\fs20\cf0 " = "" " " "Lije\u269\''e8nik - mla\u273\''f0a slu\u382\''9eba:}\lang1050\langfe1050\fs20\par\pard\plain\qc\intbl\itap2\yts5{\field{\*\fldinst{\lang1050\langfe1050\fs20\cf0 MERGEFIELD mdLookup2_Prefix}}{\fldrslt{\lang1050\langfe1050\fs20\cf0 mdLookup2_Prefix}}}{\lang1050\langfe1050\fs20\cf0  }{\field{\*\fldinst{\lang1050\langfe1050\b\fs20\cf0 MERGEFIELD mdLookup2_Ime}}{\fldrslt{\lang1050\langfe1050\b\fs20\cf0 mdLookup2_Ime}}}{\lang1050\langfe1050\b\fs20\cf0  }{\field{\*\fldinst{\lang1050\langfe1050\b\fs20\cf0 MERGEFIELD mdLookup2_Prezime}}{\fldrslt{\lang1050\langfe1050\b\fs20\cf0 mdLookup2_Prezime}}}{\lang1050\langfe1050\fs20\cf0  }{\field{\*\fldinst{\lang1050\langfe1050\fs20\cf0 MERGEFIELD mdLookup2_Sufix}}{\fldrslt{\lang1050\langfe1050\fs20\cf0 mdLookup2_Sufix}}}\lang1050\langfe1050\fs20\par\pard\plain\qc\intbl\itap2\yts5{\field{\*\fldinst{\lang1050\langfe1050\fs20\cf0 MERGEFIELD mdLookup2_Sifra}}{\fldrslt{\lang1050\langfe1050\fs20\cf0 mdLookup2_Sifra}}}{\lang1050\langfe1050\fs20\cf0  "}}{\fldrslt{\lang1050\langfe1050\fs20\cf0  }}}\lang1050\langfe1050\fs20\par\pard\plain\qc\intbl\itap2\yts5\lang1050\langfe1050\fs20\nestcell{\nonesttables\par}\pard\plain\qc\intbl\itap2\yts5{\field{\*\fldinst{\lang1050\langfe1050\fs20\cf0 IF "}{\field{\*\fldinst{\lang1050\langfe1050\fs20\cf0 MERGEFIELD @mdFormula1}}{\fldrslt}}{\lang1050\langfe1050\fs20\cf0 " = "" " " "Lije\u269\''e8nik:"}}{\fldrslt{\lang1050\langfe1050\fs20\cf0  }}}\lang1050\langfe1050\fs20\par\pard\plain\qc\intbl\itap2\yts5{\field{\*\fldinst{\lang1050\langfe1050\fs20\cf0 MERGEFIELD mdLookup1_Prefix}}{\fldrslt{\lang1050\langfe1050\fs20\cf0 mdLookup1_Prefix}}}{\lang1050\langfe1050\fs20\cf0  }{\field{\*\fldinst{\lang1050\langfe1050\b\fs20\cf0 MERGEFIELD mdLookup1_Ime}}{\fldrslt{\lang1050\langfe1050\b\fs20\cf0 mdLookup1_Ime}}}{\lang1050\langfe1050\b\fs20\cf0  }{\field{\*\fldinst{\lang1050\langfe1050\b\fs20\cf0 MERGEFIELD mdLookup1_Prezime}}{\fldrslt{\lang1050\langfe1050\b\fs20\cf0 mdLookup1_Prezime}}}{\lang1050\langfe1050\fs20\cf0 , }{\field{\*\fldinst{\lang1050\langfe1050\fs20\cf0 MERGEFIELD mdLookup1_Sufix}}{\fldrslt{\lang1050\langfe1050\fs20\cf0 mdLookup1_Sufix}}}\lang1050\langfe1050\fs20\par\pard\plain\qc\intbl\itap2\yts5{\field{\*\fldinst{\lang1050\langfe1050\fs20\cf0 MERGEFIELD mdLookup1_Specijalnost}}{\fldrslt{\lang1050\langfe1050\fs20\cf0 mdLookup1_Specijalnost}}}{\lang1050\langfe1050\fs20\cf0  }\lang1050\langfe1050\fs20\par\pard\plain\qc\intbl\itap2\yts5{\field{\*\fldinst{\lang1050\langfe1050\fs20\cf0 MERGEFIELD mdLookup1_Subspecijalnost}}{\fldrslt{\lang1050\langfe1050\fs20\cf0 mdLookup1_Subspecijalnost}}}{\lang1050\langfe1050\fs20\cf0  }\lang1050\langfe1050\fs20\par\pard\plain\qc\intbl\itap2\yts5{\field{\*\fldinst{\lang1050\langfe1050\fs20\cf0 MERGEFIELD mdLookup1_Sifra}}{\fldrslt{\lang1050\langfe1050\fs20\cf0 mdLookup1_Sifra}}}\lang1050\langfe1050\fs20\par\pard\plain\qc\intbl\itap2\yts5\lang1050\langfe1050\fs20\nestcell{\nonesttables\par}{\*\nesttableprops\trowd\irow0\irowband-1\ts5\trgaph108\trqr\trbrdrt\brdrnone\trbrdrl\brdrnone\trbrdrb\brdrnone\trbrdrr\brdrnone\trbrdrh\brdrnone\trbrdrv\brdrnone\trleft-108\trftsWidth1\trpaddfl3\trpaddl108\trpaddfr3\trpaddr108\tbllkhdrcols\tbllkhdrrows\tbllknocolband\tblindtype3\tblind0\clvertalt\clbrdrt\brdrnone\clbrdrl\brdrnone\clbrdrb\brdrnone\clbrdrr\brdrnone\cltxlrtb\clftsWidth3\clwWidth5103\clpadfr3\clpadr108\clpadft3\clpadt108\cellx4995\clvertalt\clbrdrt\brdrnone\clbrdrl\brdrnone\clbrdrb\brdrnone\clbrdrr\brdrnone\cltxlrtb\clftsWidth3\clwWidth5103\clpadfr3\clpadr108\clpadft3\clpadt108\cellx10098\nestrow}\pard\plain\qc\intbl\itap2\yts5{\field{\*\fldinst{\lang1050\langfe1050\fs20\cf0 IF "}{\field{\*\fldinst{\lang1050\langfe1050\fs20\cf0 MERGEFIELD @mdFormula3_1}}{\fldrslt}}{\lang1050\langfe1050\fs20\cf0 " = """" "Lije\u269\''e8nik - mla\u273\''f0a slu\u382\''9eba:}\lang1050\langfe1050\fs20\par\pard\plain\qc\intbl\itap2\yts5{\field{\*\fldinst{\lang1050\langfe1050\fs20\cf0 MERGEFIELD mdLookup3_Prefix}}{\fldrslt{\lang1050\langfe1050\fs20\cf0 mdLookup3_Prefix}}}{\lang1050\langfe1050\fs20\cf0  }{\field{\*\fldinst{\lang1050\langfe1050\b\fs20\cf0 MERGEFIELD mdLookup3_Ime}}{\fldrslt{\lang1050\langfe1050\b\fs20\cf0 mdLookup3_Ime}}}{\lang1050\langfe1050\b\fs20\cf0  }{\field{\*\fldinst{\lang1050\langfe1050\b\fs20\cf0 MERGEFIELD mdLookup3_Prezime}}{\fldrslt{\lang1050\langfe1050\b\fs20\cf0 mdLookup3_Prezime}}}{\lang1050\langfe1050\fs20\cf0  }{\field{\*\fldinst{\lang1050\langfe1050\fs20\cf0 MERGEFIELD mdLookup3_Sufix}}{\fldrslt{\lang1050\langfe1050\fs20\cf0 mdLookup3_Sufix}}}{\lang1050\langfe1050\fs20\cf0  }\lang1050\langfe1050\fs20\par\pard\plain\qc\intbl\itap2\yts5{\field{\*\fldinst{\lang1050\langfe1050\fs20\cf0 MERGEFIELD mdLookup3_Specijalnost}}{\fldrslt{\lang1050\langfe1050\fs20\cf0 mdLookup3_Specijalnost}}}{\lang1050\langfe1050\fs20\cf0  }\lang1050\langfe1050\fs20\par\pard\plain\qc\intbl\itap2\yts5{\field{\*\fldinst{\lang1050\langfe1050\fs20\cf0 MERGEFIELD mdLookup3_Subspecijalnost}}{\fldrslt{\lang1050\langfe1050\fs20\cf0 mdLookup3_Subspecijalnost}}}{\lang1050\langfe1050\fs20\cf0  }\lang1050\langfe1050\fs20\par\pard\plain\qc\intbl\itap2\yts5{\field{\*\fldinst{\lang1050\langfe1050\fs20\cf0 MERGEFIELD mdLookup3_Sifra}}{\fldrslt{\lang1050\langfe1050\fs20\cf0 mdLookup3_Sifra}}}{\lang1050\langfe1050\fs20\cf0  " ""}}{\fldrslt}}\lang1050\langfe1050\fs20\nestcell{\nonesttables\par}\pard\plain\qc\intbl\itap2\yts5{\field{\*\fldinst{\lang1050\langfe1050\fs20\cf0 IF "}{\field{\*\fldinst{\lang1050\langfe1050\fs20\cf0 MERGEFIELD @mdFormula4}}{\fldrslt}}{\lang1050\langfe1050\fs20\cf0 " = """" "Lije\u269\''e8nik:}\lang1050\langfe1050\fs20\par\pard\plain\qc\intbl\itap2\yts5{\field{\*\fldinst{\lang1050\langfe1050\fs20\cf0 MERGEFIELD mdLookup4_Prefix}}{\fldrslt{\lang1050\langfe1050\fs20\cf0 mdLookup4_Prefix}}}{\lang1050\langfe1050\fs20\cf0  }{\field{\*\fldinst{\lang1050\langfe1050\b\fs20\cf0 MERGEFIELD mdLookup4_Ime}}{\fldrslt{\lang1050\langfe1050\b\fs20\cf0 mdLookup4_Ime}}}{\lang1050\langfe1050\b\fs20\cf0  }{\field{\*\fldinst{\lang1050\langfe1050\b\fs20\cf0 MERGEFIELD mdLookup4_Prezime}}{\fldrslt{\lang1050\langfe1050\b\fs20\cf0 mdLookup4_Prezime}}}{\lang1050\langfe1050\fs20\cf0  }{\field{\*\fldinst{\lang1050\langfe1050\fs20\cf0 MERGEFIELD mdLookup4_Sufix}}{\fldrslt{\lang1050\langfe1050\fs20\cf0 mdLookup4_Sufix}}}{\lang1050\langfe1050\fs20\cf0  }\lang1050\langfe1050\fs20\par\pard\plain\qc\intbl\itap2\yts5{\field{\*\fldinst{\lang1050\langfe1050\fs20\cf0 MERGEFIELD mdLookup4_Specijalnost}}{\fldrslt{\lang1050\langfe1050\fs20\cf0 mdLookup4_Specijalnost}}}{\lang1050\langfe1050\fs20\cf0  }\lang1050\langfe1050\fs20\par\pard\plain\qc\intbl\itap2\yts5{\field{\*\fldinst{\lang1050\langfe1050\fs20\cf0 MERGEFIELD mdLookup4_Subspecijalnost}}{\fldrslt{\lang1050\langfe1050\fs20\cf0 mdLookup4_Subspecijalnost}}}{\lang1050\langfe1050\fs20\cf0  }\lang1050\langfe1050\fs20\par\pard\plain\qc\intbl\itap2\yts5{\field{\*\fldinst{\lang1050\langfe1050\fs20\cf0 MERGEFIELD mdLookup4_Sifra}}{\fldrslt{\lang1050\langfe1050\fs20\cf0 mdLookup4_Sifra}}}{\lang1050\langfe1050\fs20\cf0 " ""}}{\fldrslt}}{\lang1050\langfe1050\fs20\cf0  }\lang1050\langfe1050\fs20\nestcell{\nonesttables\par}{\*\nesttableprops\trowd\irow1\irowband0\lastrow\ts5\trgaph108\trqr\trbrdrt\brdrnone\trbrdrl\brdrnone\trbrdrb\brdrnone\trbrdrr\brdrnone\trbrdrh\brdrnone\trbrdrv\brdrnone\trleft-108\trftsWidth1\trpaddfl3\trpaddl108\trpaddfr3\trpaddr108\tbllkhdrcols\tbllkhdrrows\tbllknocolband\tblindtype3\tblind0\clvertalt\clbrdrt\brdrnone\clbrdrl\brdrnone\clbrdrb\brdrnone\clbrdrr\brdrnone\cltxlrtb\clftsWidth3\clwWidth5103\clpadfr3\clpadr108\clpadft3\clpadt108\cellx4995\clvertalt\clbrdrt\brdrnone\clbrdrl\brdrnone\clbrdrb\brdrnone\clbrdrr\brdrnone\cltxlrtb\clftsWidth3\clwWidth5103\clpadfr3\clpadr108\clpadft3\clpadt108\cellx10098\nestrow}\trowd\irow0\irowband-1\lastrow\ts5\trgaph108\trbrdrt\brdrnone\trbrdrl\brdrnone\trbrdrb\brdrnone\trbrdrr\brdrnone\trbrdrh\brdrnone\trbrdrv\brdrnone\trleft-108\trftsWidth3\trwWidth10041\trpaddfl3\trpaddl108\trpaddfr3\trpaddr108\tbllkhdrcols\tbllkhdrrows\tbllknocolband\tblindtype3\tblind0\clvertalt\clbrdrt\brdrnone\clbrdrl\brdrnone\clbrdrb\brdrnone\clbrdrr\brdrnone\cltxlrtb\clftsWidth3\clwWidth10036\clpadfr3\clpadr108\clpadft3\clpadt108\cellx9933\pard\plain\ql\intbl\yts5\lang1050\langfe1050\fs22\cell\trowd\irow0\irowband-1\lastrow\ts5\trgaph108\trbrdrt\brdrnone\trbrdrl\brdrnone\trbrdrb\brdrnone\trbrdrr\brdrnone\trbrdrh\brdrnone\trbrdrv\brdrnone\trleft-108\trftsWidth3\trwWidth10041\trpaddfl3\trpaddl108\trpaddfr3\trpaddr108\tbllkhdrcols\tbllkhdrrows\tbllknocolband\tblindtype3\tblind0\clvertalt\clbrdrt\brdrnone\clbrdrl\brdrnone\clbrdrb\brdrnone\clbrdrr\brdrnone\cltxlrtb\clftsWidth3\clwWidth10036\clpadfr3\clpadr108\clpadft3\clpadt108\cellx9933\row\pard\plain\ql{\*\bkmkend Preview}{\lang1050\langfe1050\fs14\cf0 NAPOMENA: Kod svakog novog pregleda molimo Vas ponesite ovaj nalaz.}\lang1050\langfe1050\fs14\par\pard\plain\ql{\lang1050\langfe1050\fs14\cf0 Umjesto propisanog lijeka izabrani doktor primarne zdravstvene za\u353\''9atite mo\u382\''9ee propisati i drugi lijek istog razreda u\u269\''e8inkovitosti u odgovaraju\u263\''e6e jednakim dozama.}\lang1050\langfe1050\fs14\par\pard\plain\ql\lang1050\langfe1050\b\fs22\par{\*\themedata 
504b03041400020008000000210201159325ae000000270100000b0000005f72656c732f2e72656c738d8f310ec2300c45af1279a76e1910424dbbb07460415c204a9d34a24da224457036068ec415c8d82206164b5ffe7efffbfd7cd5ed7d1ad98d4234
ce72a88a121859e97a63358739a9cd1edaa63ed3285276c4c1f8c8f2898d1c8694fc0131ca8126110be7c9e68d72611229cba0d10b79159a705b963b0c4b06ac99aceb3984aeaf805d1e9efe613ba58ca4a393f34436fd88f87264b2089a12879499848b
791236b70c454e00864d8dab779b0f504b0304140002000800000021027f624aeb730000007b0000001c0000007468656d652f7468656d652f7468656d654d616e616765722e786d6c0d8cc10d83300c005789fc2f4e7954554460820e61810991888392
b465b73e3a5257a89fa7d3ddeff31da633ede6c5a5c62c1eae9d05c332e7254af0f06cebe50ed338906b1b277e9050e062b491eac8c3d6dae110ebac966a970f16756b2e899a6209b8147aeb2bedd85b7bc34451c0e0f807504b03041400020008000000
21020a5d705ea60000000c010000270000007468656d652f7468656d652f5f72656c732f7468656d654d616e616765722e786d6c2e72656c738dcf3d0ec2300c05e0ab44dea95b068450d32e2c5d11178852278d687e94a408cec6c091b8021113951818
9fecf7597e3d9e6d7fb333bb524cc63b0e4d55032327fd689ce6b064b5d943dfb5279a452e1b693221b1527189c39473382026399115a9f2815c99281fadc825468d41c88bd084dbbade61fc36606db261e41087b10176be07fac7f64a1949472f174b2e
ff3881b974a980226aca1c3eb1a90a030cbb16573f756f504b0304140002000800000021020b868735b9050000e71b0000160000007468656d652f7468656d652f7468656d65312e786d6ced594f6fdb3614ff2a84eead2cdb4a9da06e113b76bbb56983
c4ebd0232dd3121b4a14483aa96f437b1c30605837ec3260b71d866d055a608775d887c9d661eb807c853dd1b245d9549ab429b661f1c116a9dfeffde57b22e5e39f7eb97afd61ccd0011192f2a4ed78976b0e2249c0473409dbce448d2fb59cebd7aee2
0d1591982000277203b79d48a974c3756500d3585ee62949e0de988b182b188ad01d097c084262e6d66bb53537c63471508263d276ee8ec734206890897416c27b0cbe1225b3898089bd406b34191a3bdaf7b21f39955d26d001666d07f48cf8e1803c54
0e62582ab8d1766afae320f7da5577c162aa826c10fbfa3327e68cd17e5d1345385c30bd7e73fdca56a1a13ed3b00aecf57add9e5748d4081c04e0adb7026ef65b5e6721d540cd2e57a5776b7eadb9443034345608eb9d4ec75f2f131a05a1b94268d5d6
9a9bf532a15910fc551f3a9bddee5a99e01784b51542ffcafa5a7389a05111a3c9fe0a3ccb6c91a20566ccd94d2bbe05f8d6622d1430d75869330189aa5a77317ec0451f003acb58d104a9694ac638005c17c74341b1d6803708366ee573815c9dcbd421
19089aaab6f37e8aa1400accf18bef8e5f3c43c72f9e1e3d7a7ef4e8c7a3c78f8f1efd6063dec44968325f7df3e95f5f7d84fe7cf6f5ab279f5710a449f8edfb8f7ffdf9b30aa432912fbf78fafbf3a72fbffce48f6f9fd8f09b020f4dfc80c644a23be4
10edf238f3cfa2820cc519298308d312054700b5217b2a2a21ef4c31b3023ba41cc37b02da82157963f2a064ef5e24268ada90b7a2b884dce69c75b8b0fb744bab337c9a2461857e313181bb181f58d57797b2dc9ba4b0b2a95568372225537718241e87
24210a65f7f83e2136de7d4a4bf1dda681e0928f15ba4f5107537b600674a8ecac9b3486044dad3642d64b11dabe873a9c59156c918332142a0433ab50c24ad1bc81270ac776ab71cc4ce86dac22aba17b531194022f15243d248ca3de88486925dd15d3
92c9b730b428fb0ad866d3b80c158aee5ba1b731e726748bef77231ca776bb691299e0f7e43eac588c76b8b2dbc1cb35938d212138a9cefc3d4ad4198bfd031a46f6c592dd99086b8d105eaed1291b6392cc1f00a5561ed3e4a4bece2834f68bbebed4d7
37e16167ada7e56e5e09fc8ff6f02d3c4976485627172dfca2855fb4f0132afc5d34eea257bbe66e5dcb892bb7ee63cad89e9a32725bea2e2fc1c5511f26f5409316478534824b67a6ae840b05d6d74870f52155d15e845350e3690da1cc458712a55cc2
09c5a994ad0fbc149cd673be3ea5ea4848acb6f96836dda8cde75d438c1e85d254d4c8049c5659e3cadb29f366c0536af37cbb36ff446dae114da81f84b31711de5a3d3fcecb003332cae23e13304fcbb9a748467844f21c795647bcc629c3d67a7dd40c
6deb8db7d3769a2499ea9a15eafc73c8526d254bee6a39b2a43c428760955ff71d14e0b4ed8c61530697710af264d6ae300b93b613a8dc95d716f3b2c3f665e9d52a1d2ea94885545b58463396be95935852d85ff79b591ccec7014b373a9d158d96f70f
5ae12ea7968cc724501533c530bfc7278a88bd687488866c227631d8dd9cadae1195f0aca8cf07022ab4992fbc72e5e755b0fcea28af0eccd208e73da965e47e06d7d70b1bf4c830cfadb0fd0d5d699ca32bfeffd7956ce5c286b731d22733d806088cb2
35da76b85011872e944634e80bd838685d601782b2c84c422c7bff9dd94a0e8abe3593316b7261a476698804854ea72241c88ecafd7c8d30af6e3e5fe782f23eb33057a6b3df2139206c9055ef5ae6bf83a27937c903a171cb49736dd5350cfbffe29d4f
b362e773f2f6a050d43ccb5ea469347de351b0fe76269cf1515bb77b5cf74ffda84de1c082b22f68dc5404acd8df0ef82e641f2d76940816e2a5565e7e8bc921d8dc329ccb44bddb6d5491825645becf73f36904bb5111ec93d5bd79b07d4bacfd9343ed
ae96a86b1c64f468e5af313e7c00bab7e08034614ae62fa61ec2f1b43bff270304e5e7254dbef637504b030414000200080000002102e9278183ee00000010020000130000005b436f6e74656e745f54797065735d2e786d6cad914d4ec3301085af6279
5bc54e5920849274012cf959708191334e2ce21fd993aa9c8d0547e20a4cd382102a48486c2cd9efcdfb66c66f2fafcd66e727b1c55c5c0cad5cab5a0a0c26f62e0cad9cc9561772d3358fcf098b606b28ad1c89d2a5d6c58ce8a1a89830b06263f6407c
cd834e609e60407d56d7e7dac44018a8a27d86ec9a6bb4304f246e76fc7cc0669c8a145707e39ed54a486972068875bd0dfd374a752428ae5c3c6574a9acd820853e8958a41f091f85f7bc89ec7a140f90e90e3cdb34f198f8f55cabdfc34eb41bad7506
fb6866cf256a8959fd097a0b81e7cdff833e867d76a097ffedde01504b010214001400020008000000210201159325ae000000270100000b00000000000000000000000000000000005f72656c732f2e72656c73504b0102140014000200080000002102
7f624aeb730000007b0000001c00000000000000000000000000d70000007468656d652f7468656d652f7468656d654d616e616765722e786d6c504b01021400140002000800000021020a5d705ea60000000c0100002700000000000000000000000000
840100007468656d652f7468656d652f5f72656c732f7468656d654d616e616765722e786d6c2e72656c73504b01021400140002000800000021020b868735b9050000e71b000016000000000000000000000000006f0200007468656d652f7468656d65
2f7468656d65312e786d6c504b0102140014000200080000002102e9278183ee0000001002000013000000000000000000000000005c0800005b436f6e74656e745f54797065735d2e786d6c504b050600000000050005005d0100007b0900000000}{\*\colorschememapping 
3c3f786d6c2076657273696f6e3d22312e302220656e636f64696e673d227574662d38223f3e3c613a636c724d617020786d6c6e733a613d22687474703a2f2f736368656d61732e6f70656e786d6c666f726d6174732e6f72672f64726177696e676d6c
2f323030362f6d61696e22206267313d226c743122207478313d22646b3122206267323d226c743222207478323d22646b322220616363656e74313d22616363656e74312220616363656e74323d22616363656e74322220616363656e74333d22616363
656e74332220616363656e74343d22616363656e74342220616363656e74353d22616363656e74352220616363656e74363d22616363656e74362220686c696e6b3d22686c696e6b2220666f6c486c696e6b3d22666f6c486c696e6b22202f3e}}'
DECLARE @ReportID int
IF EXISTS(select 1 from MD_DocumentReport where MD_DocumentID=@MD_Document_ID AND DateTo is NULL and dbo.BigHashBytes('SHA1', ReportTemplate) <> dbo.BigHashBytes('SHA1', @RTF)) BEGIN 
    UPDATE MD_DocumentReport set DateTo=GETDATE() where MD_DocumentID=@MD_Document_ID and DateTo is NULL 
    INSERT INTO MD_DocumentReport (ReportTemplate, MD_DocumentID, DateFrom, DateTo) VALUES	(@RTF,	@MD_Document_ID,	GETDATE(),	NULL)
    SET @ReportID = SCOPE_IDENTITY()
END
IF NOT EXISTS(select 1 from MD_DocumentReport where MD_DocumentID=@MD_Document_ID ) BEGIN 
    INSERT INTO MD_DocumentReport (ReportTemplate, MD_DocumentID, DateFrom, DateTo) VALUES	(@RTF,	@MD_Document_ID,	GETDATE(),	NULL)
    SET @ReportID = SCOPE_IDENTITY()
END
if(@ReportID IS NULL)
   SELECT @ReportID=ID from MD_DocumentReport  where MD_DocumentID=@MD_Document_ID and DateTo is NULL

IF NOT EXISTS(SELECT 1 from MD_DocumentReportShareControl where DocumentReportID=@ReportID and MergeField='Hospital_Place') BEGIN 
    INSERT MD_DocumentReportShareControl(DocumentReportID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, MergeField, DisplayFormat)
    SELECT @ReportID, (SELECT ID FROM MD_GlobalControl WHERE CODE='Hospital_Place'),1, 1,1,'Hospital_Place','#NAME#'
END ELSE BEGIN
    UPDATE MD_DocumentReportShareControl SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='Hospital_Place'),RefControlTypeID= 1,ControlConnectionTypeID=1,ControlConnectionLevelID=1,MergeField='Hospital_Place',DisplayFormat='#NAME#' 
    WHERE DocumentReportID=@ReportID and MergeField='Hospital_Place' 
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentReportShareControl where DocumentReportID=@ReportID and MergeField='Patient_DateOfBirth') BEGIN 
    INSERT MD_DocumentReportShareControl(DocumentReportID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, MergeField, DisplayFormat)
    SELECT @ReportID, (SELECT ID FROM MD_GlobalControl WHERE CODE='Patient_DateOfBirth'),1, 1,1,'Patient_DateOfBirth','dd.MM.YYYY'
END ELSE BEGIN
    UPDATE MD_DocumentReportShareControl SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='Patient_DateOfBirth'),RefControlTypeID= 1,ControlConnectionTypeID=1,ControlConnectionLevelID=1,MergeField='Patient_DateOfBirth',DisplayFormat='dd.MM.YYYY' 
    WHERE DocumentReportID=@ReportID and MergeField='Patient_DateOfBirth' 
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentReportShareControl where DocumentReportID=@ReportID and MergeField='Patient_Name') BEGIN 
    INSERT MD_DocumentReportShareControl(DocumentReportID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, MergeField, DisplayFormat)
    SELECT @ReportID, (SELECT ID FROM MD_GlobalControl WHERE CODE='Patient_Name'),1, 1,1,'Patient_Name',''
END ELSE BEGIN
    UPDATE MD_DocumentReportShareControl SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='Patient_Name'),RefControlTypeID= 1,ControlConnectionTypeID=1,ControlConnectionLevelID=1,MergeField='Patient_Name',DisplayFormat='' 
    WHERE DocumentReportID=@ReportID and MergeField='Patient_Name' 
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentReportShareControl where DocumentReportID=@ReportID and MergeField='Patient_Surname') BEGIN 
    INSERT MD_DocumentReportShareControl(DocumentReportID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, MergeField, DisplayFormat)
    SELECT @ReportID, (SELECT ID FROM MD_GlobalControl WHERE CODE='Patient_Surname'),1, 1,1,'Patient_Surname',''
END ELSE BEGIN
    UPDATE MD_DocumentReportShareControl SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='Patient_Surname'),RefControlTypeID= 1,ControlConnectionTypeID=1,ControlConnectionLevelID=1,MergeField='Patient_Surname',DisplayFormat='' 
    WHERE DocumentReportID=@ReportID and MergeField='Patient_Surname' 
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentReportShareControl where DocumentReportID=@ReportID and MergeField='Patient_Address') BEGIN 
    INSERT MD_DocumentReportShareControl(DocumentReportID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, MergeField, DisplayFormat)
    SELECT @ReportID, (SELECT ID FROM MD_GlobalControl WHERE CODE='Patient_Address'),1, 1,1,'Patient_Address',''
END ELSE BEGIN
    UPDATE MD_DocumentReportShareControl SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='Patient_Address'),RefControlTypeID= 1,ControlConnectionTypeID=1,ControlConnectionLevelID=1,MergeField='Patient_Address',DisplayFormat='' 
    WHERE DocumentReportID=@ReportID and MergeField='Patient_Address' 
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentReportShareControl where DocumentReportID=@ReportID and MergeField='Patient_MBO') BEGIN 
    INSERT MD_DocumentReportShareControl(DocumentReportID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, MergeField, DisplayFormat)
    SELECT @ReportID, (SELECT ID FROM MD_GlobalControl WHERE CODE='Patient_MBO'),1, 1,1,'Patient_MBO',''
END ELSE BEGIN
    UPDATE MD_DocumentReportShareControl SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='Patient_MBO'),RefControlTypeID= 1,ControlConnectionTypeID=1,ControlConnectionLevelID=1,MergeField='Patient_MBO',DisplayFormat='' 
    WHERE DocumentReportID=@ReportID and MergeField='Patient_MBO' 
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentReportShareControl where DocumentReportID=@ReportID and MergeField='Patient_Place') BEGIN 
    INSERT MD_DocumentReportShareControl(DocumentReportID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, MergeField, DisplayFormat)
    SELECT @ReportID, (SELECT ID FROM MD_GlobalControl WHERE CODE='Patient_Place'),1, 1,1,'Patient_Place','#NAME#'
END ELSE BEGIN
    UPDATE MD_DocumentReportShareControl SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='Patient_Place'),RefControlTypeID= 1,ControlConnectionTypeID=1,ControlConnectionLevelID=1,MergeField='Patient_Place',DisplayFormat='#NAME#' 
    WHERE DocumentReportID=@ReportID and MergeField='Patient_Place' 
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentReportShareControl where DocumentReportID=@ReportID and MergeField='AdmissionNumber') BEGIN 
    INSERT MD_DocumentReportShareControl(DocumentReportID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, MergeField, DisplayFormat)
    SELECT @ReportID, (SELECT ID FROM MD_GlobalControl WHERE CODE='AdmissionNumber'),1, 1,2,'AdmissionNumber',''
END ELSE BEGIN
    UPDATE MD_DocumentReportShareControl SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='AdmissionNumber'),RefControlTypeID= 1,ControlConnectionTypeID=1,ControlConnectionLevelID=2,MergeField='AdmissionNumber',DisplayFormat='' 
    WHERE DocumentReportID=@ReportID and MergeField='AdmissionNumber' 
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentReportShareControl where DocumentReportID=@ReportID and MergeField='Worksite_6') BEGIN 
    INSERT MD_DocumentReportShareControl(DocumentReportID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, MergeField, DisplayFormat)
    SELECT @ReportID, (SELECT ID FROM MD_GlobalControl WHERE CODE='Worksite'),1, 1,2,'Worksite_6','#DESC2#'
END ELSE BEGIN
    UPDATE MD_DocumentReportShareControl SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='Worksite'),RefControlTypeID= 1,ControlConnectionTypeID=1,ControlConnectionLevelID=2,MergeField='Worksite_6',DisplayFormat='#DESC2#' 
    WHERE DocumentReportID=@ReportID and MergeField='Worksite_6' 
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentReportShareControl where DocumentReportID=@ReportID and MergeField='Worksite_7') BEGIN 
    INSERT MD_DocumentReportShareControl(DocumentReportID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, MergeField, DisplayFormat)
    SELECT @ReportID, (SELECT ID FROM MD_GlobalControl WHERE CODE='Worksite'),1, 1,2,'Worksite_7','#DESC#'
END ELSE BEGIN
    UPDATE MD_DocumentReportShareControl SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='Worksite'),RefControlTypeID= 1,ControlConnectionTypeID=1,ControlConnectionLevelID=2,MergeField='Worksite_7',DisplayFormat='#DESC#' 
    WHERE DocumentReportID=@ReportID and MergeField='Worksite_7' 
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentReportShareControl where DocumentReportID=@ReportID and MergeField='Worksite_OTR') BEGIN 
    INSERT MD_DocumentReportShareControl(DocumentReportID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, MergeField, DisplayFormat)
    SELECT @ReportID, (SELECT ID FROM MD_GlobalControl WHERE CODE='Worksite_OTR'),1, 1,2,'Worksite_OTR','#NAME#'
END ELSE BEGIN
    UPDATE MD_DocumentReportShareControl SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='Worksite_OTR'),RefControlTypeID= 1,ControlConnectionTypeID=1,ControlConnectionLevelID=2,MergeField='Worksite_OTR',DisplayFormat='#NAME#' 
    WHERE DocumentReportID=@ReportID and MergeField='Worksite_OTR' 
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentReportShareControl where DocumentReportID=@ReportID and MergeField='Worksite_Department') BEGIN 
    INSERT MD_DocumentReportShareControl(DocumentReportID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, MergeField, DisplayFormat)
    SELECT @ReportID, (SELECT ID FROM MD_GlobalControl WHERE CODE='Worksite_Department'),1, 1,2,'Worksite_Department','#LNAME#'
END ELSE BEGIN
    UPDATE MD_DocumentReportShareControl SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='Worksite_Department'),RefControlTypeID= 1,ControlConnectionTypeID=1,ControlConnectionLevelID=2,MergeField='Worksite_Department',DisplayFormat='#LNAME#' 
    WHERE DocumentReportID=@ReportID and MergeField='Worksite_Department' 
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentReportShareControl where DocumentReportID=@ReportID and MergeField='Worksite_Djelatnost') BEGIN 
    INSERT MD_DocumentReportShareControl(DocumentReportID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, MergeField, DisplayFormat)
    SELECT @ReportID, (SELECT ID FROM MD_GlobalControl WHERE CODE='Worksite_Djelatnost'),1, 1,2,'Worksite_Djelatnost','#LNAME#'
END ELSE BEGIN
    UPDATE MD_DocumentReportShareControl SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='Worksite_Djelatnost'),RefControlTypeID= 1,ControlConnectionTypeID=1,ControlConnectionLevelID=2,MergeField='Worksite_Djelatnost',DisplayFormat='#LNAME#' 
    WHERE DocumentReportID=@ReportID and MergeField='Worksite_Djelatnost' 
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentReportShareControl where DocumentReportID=@ReportID and MergeField='Worksite_LocationAddress') BEGIN 
    INSERT MD_DocumentReportShareControl(DocumentReportID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, MergeField, DisplayFormat)
    SELECT @ReportID, (SELECT ID FROM MD_GlobalControl WHERE CODE='Worksite_LocationAddress'),1, 1,2,'Worksite_LocationAddress',''
END ELSE BEGIN
    UPDATE MD_DocumentReportShareControl SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='Worksite_LocationAddress'),RefControlTypeID= 1,ControlConnectionTypeID=1,ControlConnectionLevelID=2,MergeField='Worksite_LocationAddress',DisplayFormat='' 
    WHERE DocumentReportID=@ReportID and MergeField='Worksite_LocationAddress' 
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentReportShareControl where DocumentReportID=@ReportID and MergeField='Worksite_LocationPlace') BEGIN 
    INSERT MD_DocumentReportShareControl(DocumentReportID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, MergeField, DisplayFormat)
    SELECT @ReportID, (SELECT ID FROM MD_GlobalControl WHERE CODE='Worksite_LocationPlace'),1, 1,2,'Worksite_LocationPlace','#NAME#'
END ELSE BEGIN
    UPDATE MD_DocumentReportShareControl SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='Worksite_LocationPlace'),RefControlTypeID= 1,ControlConnectionTypeID=1,ControlConnectionLevelID=2,MergeField='Worksite_LocationPlace',DisplayFormat='#NAME#' 
    WHERE DocumentReportID=@ReportID and MergeField='Worksite_LocationPlace' 
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentReportShareControl where DocumentReportID=@ReportID and MergeField='Worksite_MainDoctor') BEGIN 
    INSERT MD_DocumentReportShareControl(DocumentReportID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, MergeField, DisplayFormat)
    SELECT @ReportID, (SELECT ID FROM MD_GlobalControl WHERE CODE='Worksite_MainDoctor'),1, 1,2,'Worksite_MainDoctor','#PREFIX# #NAME# #SURNAME# #SUFIX#'
END ELSE BEGIN
    UPDATE MD_DocumentReportShareControl SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='Worksite_MainDoctor'),RefControlTypeID= 1,ControlConnectionTypeID=1,ControlConnectionLevelID=2,MergeField='Worksite_MainDoctor',DisplayFormat='#PREFIX# #NAME# #SURNAME# #SUFIX#' 
    WHERE DocumentReportID=@ReportID and MergeField='Worksite_MainDoctor' 
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentReportShareControl where DocumentReportID=@ReportID and MergeField='Document_DateTimeNow') BEGIN 
    INSERT MD_DocumentReportShareControl(DocumentReportID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, MergeField, DisplayFormat)
    SELECT @ReportID, (SELECT ID FROM MD_GlobalControl WHERE CODE='Document_DateTimeNow'),1, 2,4,'Document_DateTimeNow','dd.MM.YYYY HH:MM'
END ELSE BEGIN
    UPDATE MD_DocumentReportShareControl SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='Document_DateTimeNow'),RefControlTypeID= 1,ControlConnectionTypeID=2,ControlConnectionLevelID=4,MergeField='Document_DateTimeNow',DisplayFormat='dd.MM.YYYY HH:MM' 
    WHERE DocumentReportID=@ReportID and MergeField='Document_DateTimeNow' 
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentReportShareControl where DocumentReportID=@ReportID and MergeField='AdmissionOutPatient_DateAndTime') BEGIN 
    INSERT MD_DocumentReportShareControl(DocumentReportID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, MergeField, DisplayFormat)
    SELECT @ReportID, (SELECT ID FROM MD_GlobalControl WHERE CODE='AdmissionOutPatient_DateAndTime'),1, 1,2,'AdmissionOutPatient_DateAndTime','DD.MM.YYYY HH:mm'
END ELSE BEGIN
    UPDATE MD_DocumentReportShareControl SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='AdmissionOutPatient_DateAndTime'),RefControlTypeID= 1,ControlConnectionTypeID=1,ControlConnectionLevelID=2,MergeField='AdmissionOutPatient_DateAndTime',DisplayFormat='DD.MM.YYYY HH:mm' 
    WHERE DocumentReportID=@ReportID and MergeField='AdmissionOutPatient_DateAndTime' 
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentReportShareControl where DocumentReportID=@ReportID and MergeField='AdmissionOutPatientDischarge_DateTime') BEGIN 
    INSERT MD_DocumentReportShareControl(DocumentReportID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, MergeField, DisplayFormat)
    SELECT @ReportID, (SELECT ID FROM MD_GlobalControl WHERE CODE='AdmissionOutPatientDischarge_DateTime'),1, 2,2,'AdmissionOutPatientDischarge_DateTime','DD.MM.YYYY HH:mm'
END ELSE BEGIN
    UPDATE MD_DocumentReportShareControl SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='AdmissionOutPatientDischarge_DateTime'),RefControlTypeID= 1,ControlConnectionTypeID=2,ControlConnectionLevelID=2,MergeField='AdmissionOutPatientDischarge_DateTime',DisplayFormat='DD.MM.YYYY HH:mm' 
    WHERE DocumentReportID=@ReportID and MergeField='AdmissionOutPatientDischarge_DateTime' 
END 

IF NOT EXISTS(SELECT 1 from MD_DocumentReportShareControl where DocumentReportID=@ReportID and MergeField='VezaneDijagnoze') BEGIN 
    INSERT MD_DocumentReportShareControl(DocumentReportID, RefControlID, RefControlTypeID, ControlConnectionTypeID, ControlConnectionLevelID, MergeField, DisplayFormat)
    SELECT @ReportID, (SELECT ID FROM MD_GlobalControl WHERE CODE='VezaneDijagnoze'),1, 1,2,'VezaneDijagnoze',''
END ELSE BEGIN
    UPDATE MD_DocumentReportShareControl SET RefControlID=(SELECT ID FROM MD_GlobalControl WHERE CODE='VezaneDijagnoze'),RefControlTypeID= 1,ControlConnectionTypeID=1,ControlConnectionLevelID=2,MergeField='VezaneDijagnoze',DisplayFormat='' 
    WHERE DocumentReportID=@ReportID and MergeField='VezaneDijagnoze' 
END 

GO
